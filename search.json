[{"title":"æ‹“æ‰‘æ’åº","url":"/2021/10/29/æ‹“æ‰‘æ’åº/","content":"\nå…ˆåå…³ç³»ï¼Œå±‚çº§å…³ç³»ã€‚\n\n<!--more-->\n\n# å±‚çº§å…³ç³»\n\nè‹¥ä¸€ä¸ªé—®é¢˜ä¸­å­˜åœ¨å±‚çº§å…³ç³»ï¼Œå³åªèƒ½å±‚çº§ä½åˆ°å±‚çº§é«˜ã€‚\né‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è§†ä¸ºå…¶æ˜¯ä¸€ç§æ‹“æ‰‘æ’åºï¼Œå¯ä»¥ç”±å±‚çº§ä½çš„å‘å±‚çº§é«˜çš„å»ºè¾¹ã€‚\n\n## ä¾‹é¢˜ [P1983 [NOIP2013 æ™®åŠç»„] è½¦ç«™åˆ†çº§](https://www.luogu.com.cn/problem/P1983)\n\né¢˜æ„ï¼šä¸€æ¡å•å‘çš„é“è·¯çº¿ä¸Šï¼Œä¾æ¬¡æœ‰ç¼–å·ä¸º 1, 2, â€¦, n1,2,â€¦,nçš„ nnä¸ªç«è½¦ç«™ã€‚æ¯ä¸ªç«è½¦ç«™éƒ½æœ‰ä¸€ä¸ªçº§åˆ«ï¼Œæœ€ä½ä¸º 11 çº§ã€‚ç°æœ‰è‹¥å¹²è¶Ÿè½¦æ¬¡åœ¨è¿™æ¡çº¿è·¯ä¸Šè¡Œé©¶ï¼Œæ¯ä¸€è¶Ÿéƒ½æ»¡è¶³å¦‚ä¸‹è¦æ±‚ï¼šå¦‚æœè¿™è¶Ÿè½¦æ¬¡åœé äº†ç«è½¦ç«™ xxï¼Œåˆ™å§‹å‘ç«™ã€ç»ˆç‚¹ç«™ä¹‹é—´æ‰€æœ‰çº§åˆ«å¤§äºç­‰äºç«è½¦ç«™xx çš„éƒ½å¿…é¡»åœé ã€‚ï¼ˆæ³¨æ„ï¼šèµ·å§‹ç«™å’Œç»ˆç‚¹ç«™è‡ªç„¶ä¹Ÿç®—ä½œäº‹å…ˆå·²çŸ¥éœ€è¦åœé çš„ç«™ç‚¹ï¼‰ç°æœ‰ mm è¶Ÿè½¦æ¬¡çš„è¿è¡Œæƒ…å†µï¼ˆå…¨éƒ¨æ»¡è¶³è¦æ±‚ï¼‰ï¼Œè¯•æ¨ç®—è¿™nn ä¸ªç«è½¦ç«™è‡³å°‘åˆ†ä¸ºå‡ ä¸ªä¸åŒçš„çº§åˆ«ã€‚\n\næ€è·¯ï¼šå¾ˆæ˜æ˜¾çš„æ‹“æ‰‘æ’åºï¼Œé‚£ä¹ˆå±‚çº§ä½çš„å‘å±‚çº§é«˜çš„å»ºè¾¹å³å¯ã€‚æœ€åæ±‚å‡ºæœ‰å¤šå°‘å±‚ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-29 14:13:02\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e3+11;\nll gra[maxn][maxn],is[maxn],dr[maxn],vis[maxn];\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ans=0;\n    ll n,m;cin>>n>>m;\n    ll st[maxn],top;\n    for(ll i=1;i<=m;i++){\n        memset(is,0,sizeof(is));\n        ll s;cin>>s;\n        for(ll j=0;j<s;j++){\n            cin>>st[j];\n            is[st[j]]=1;\n        }\n        for(ll j=st[0];j<=st[s-1];j++){\n            if(!is[j]){\n                for(ll k=0;k<s;k++){\n                    if(!gra[j][st[k]])  gra[j][st[k]]=1,dr[st[k]]++;\n                }\n            }\n        }\n    }\n    do{\n        top=0;\n        for(ll i=1;i<=n;i++)  if(dr[i]==0 && !vis[i])  vis[i]=1,st[top++]=i;\n        for(ll i=0;i<top;i++){\n            for(ll j=1;j<=n;j++){\n                if(gra[st[i]][j]){\n                    gra[st[i]][j]=0,dr[j]--;\n                }\n            }\n        }\n        ans++;\n    }while(top);\n    cout<<ans-1<<endl;\n    return 0;\n}\n\n```\n","tags":["å›¾è®º"]},{"title":"å·®åˆ†","url":"/2021/10/26/å·®åˆ†/","content":"\nå·®åˆ† & å‰ç¼€å’Œ\n\n<!--more-->\n\nå‰ç¼€å’Œçš„å·®åˆ†ä¸ºåŸåºåˆ—\nå·®åˆ†çš„å‰ç¼€å’Œä¸ºåŸåºåˆ—\n\n# ç”¨å·®åˆ†å®ç°åŒºé—´æ“ä½œ\n\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°åˆ—aï¼Œè¦æ±‚æ”¯æŒæ“ä½œadd(L,R,k)è¡¨ç¤ºå¯¹a[ L ]~a[ R ]çš„æ¯ä¸ªæ•°éƒ½åŠ ä¸Škã€‚å¹¶æ±‚ä¿®æ”¹åçš„åºåˆ—aã€‚\n\næˆ‘ä»¬è€ƒè™‘ç”¨å·®åˆ†çš„åšæ³•ã€‚è¿™é‡Œ éœ€è¦ä¸€ä¸ªæ•°ç»„cï¼Œcç”¨æ¥è®°å½•æŸä¸€ä¸ªä½ç½®ç›¸å¯¹äºå‰ä¸€ä¸ªä½ç½®çš„æ”¹å˜é‡ã€‚æˆ‘ä»¬å¯¹[L,R]åŒºé—´è¿›è¡ŒåŠ å€¼æ“ä½œï¼Œåœ¨c[L]å¤„åŠ ä¸€ä¸ªkï¼Œåœ¨c[R+1]å¤„å°±å‡å»ä¸€ä¸ªkã€‚æœ€åæ±‚åºåˆ—çš„æ¯ä¸ªä½ç½®å˜æˆäº†å¤šå°‘ï¼Œåªéœ€è¦æ±‚ä¸€ä¸‹cæ•°ç»„çš„å‰ç¼€å’Œå³å¯å¾—åˆ°aã€‚\n\n# ä¾‹é¢˜ \n\n[Mod, Xor and Everything HDU - 6275 ](https://vjudge.net/problem/HDU-6275)\n\n![](/uploads/å·®åˆ†/2021-10-26-20-17-12.png)\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-26 20:08:49\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e5+11;\nconst ll mod=998244353;\nll f2[maxn],f3[maxn],sum2[maxn],sum3[maxn];\nll qpow(ll b,ll p){\n    ll ans=1;\n    while(p){\n        if(p&1)  ans=ans*b%mod;\n        p>>=1;\n        b=b*b%mod;\n    }\n    return ans;\n}\nint main(){\n    ll ca;scanf(\"%lld\",&ca);\n    while(ca--){\n        memset(f2,0,sizeof(f2));memset(f3,0,sizeof(f3));\n        ll n,m;scanf(\"%lld%lld\",&n,&m);\n        for(ll i=1;i<=m;i++){\n            ll x,y,type;scanf(\"%lld%lld%lld\",&x,&y,&type);\n            if(type==2)  f2[x]++,f2[y+1]--;\n            else  f3[x]++,f3[y+1]--;\n        }\n        ll ans2=INF,ans3=INF;\n        sum2[0]=sum3[0]=0;\n        for(ll i=1;i<=n;i++){\n            sum2[i]=sum2[i-1]+f2[i];\n            ans2=min(ans2,sum2[i]);\n            sum3[i]=sum3[i-1]+f3[i];\n            ans3=min(ans3,sum3[i]);\n        }\n        if(ans2==INF)  ans2=0;\n        if(ans3==INF)  ans3=0;\n        ll ans=qpow(2,ans2)*qpow(3,ans3)%mod;\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n\n```\n\n\n\n","tags":["åŸºæœ¬ç®—æ³•"]},{"title":"è¯»å…¥","url":"/2021/10/26/è¯»å…¥/","content":"\næ³¨æ„è¯»å…¥ å¡è¯»å…¥ï¼\n\n<!--more-->\n\nATK+10.00\nATK Rate+10%\n\nè¦æ±‚å¤„ç†å‡º'+'ä¹‹å‰çš„å­—ç¬¦ä¸²ä»¥åŠ'+'åçš„æ•°å­—ï¼Œä¸è¦%å·ã€‚\nå¤„ç†åƒè¿™æ ·çš„è¯»å…¥\nå¯ä»¥ç”¨getlineä¸€è¡Œè¡Œè¯»ï¼Œç„¶åæŠŠä¸éœ€è¦çš„å­—ç¬¦æ›¿æ¢ä¸ºç©ºæ ¼æˆ–æ˜¯æ¢è¡Œç¬¦ï¼Œæ¯”å¦‚è¿™é‡ŒæŠŠ'+'å¤„ç†æˆæ¢è¡Œç¬¦,'%'å¤„ç†ä¸ºç©ºæ ¼ã€‚","tags":["åŸºæœ¬ç®—æ³•"]},{"title":"æ•°å­¦+æ ‘çŠ¶æ•°ç»„","url":"/2021/10/25/æ•°å­¦-æ ‘çŠ¶æ•°ç»„/","content":"\n[Master of Sequence](https://acm.hdu.edu.cn/showproblem.php?pid=6274)\n\n![](/uploads/æ•°å­¦-æ ‘çŠ¶æ•°ç»„/2021-10-25-20-22-05.png)\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\n\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\n`\nè¿™æ˜¯ä¸ªå‘ä¸‹å–æ•´æ±‚å’Œé—®é¢˜ã€‚\nä¸éš¾æƒ³åˆ°ï¼Œåº”è¯¥äºŒåˆ†tï¼Œä½†å¤æ‚åº¦æ˜¯O(n*logn)çš„ï¼Œæœ‰mæ¬¡è¯¢é—®ï¼Œæ€»å…±æ˜¯O(m * n * logn)ã€‚å³ä½¿ç»™äº†10sï¼Œä½†æ˜¯ç”±äºhduçš„è¯„æµ‹æœºå®åœ¨ä¸è¡Œï¼Œ\n6e9å±…ç„¶10sä¹Ÿè·‘ä¸å®Œã€‚ã€‚ï¼Œæ‰€ä»¥å¾—ä¼˜åŒ–ä¸€ä¸‹ã€‚è¿™é“é¢˜éœ€è¦æ³¨æ„åˆ°aièŒƒå›´åªæœ‰1000ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠç›¸åŒçš„aiå€¼ä¸€èµ·æ¥æ±‚å’Œï¼Œä¼˜åŒ–å¤æ‚åº¦ã€‚\nå¯¹äºç›¸åŒçš„aiå€¼æ±‚å’Œï¼Œå³å‘ä¸‹å–æ•´æ±‚å’Œï¼Œå…³é”®æ˜¯å¤„ç†è¿™ä¸ªæ¨¡æ•°é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠå¼å­çš„æ¨¡æ•°å¤„ç†å‡ºæ¥ï¼Œ[ t-bi/ai ]åŒ–ä¸º[ k1 * ai+t%ai - ( k2 * ai+bi%ai )/ai ]ã€‚\nå³k1-k2+[ (t%ai-bi%ai)/ai ]ï¼Œè®°k1=t/ai,k2=bi/ai,c1=t%ai,c2=bi%ai,[ ( c1-c2 )/ai ]å½“ä¸”ä»…å½“c1 < c2æ—¶ä¸º-1ï¼Œå¦åˆ™ä¸º0.æ•…æˆ‘ä»¬åªéœ€è¦æ¯æ¬¡ç»Ÿè®¡ åˆ†æ¯ä¸ºaiæ—¶å¤§äºc1çš„c2ä¸ªæ•°å³å¯.äºæ˜¯æˆ‘ä»¬ç”¨f[ x ][ y ]è¡¨ç¤ºå½“aiä¸ºxæ—¶ï¼Œ1 <=bi%ai+1<=yçš„biä¸ªæ•°ã€‚ç”¨æ ‘çŠ¶æ•°ç»„æ¥ç»´æŠ¤è¿™ä¸ªåŒºé—´å’Œå³å¯ã€‚ai==xçš„ä¸ªæ•°å°±ä¸ºf[ x ][ 1000 ]ã€‚\näºæ˜¯ç­”æ¡ˆå°±ä¸º: \n\n![](/uploads/æ•°å­¦-æ ‘çŠ¶æ•°ç»„/2021-10-25-20-40-16.png)\n\nsumä¸ºai==iä»1~1000ï¼Œbi/aiçš„å’Œã€‚\n\nè¸©å‘ï¼šå› ä¸ºæ ‘çŠ¶æ•°ç»„å·¦ç«¯ç‚¹ä¸èƒ½ä¸º0ï¼Œä¸ç„¶updateä¼šæ­»å¾ªç¯ï¼Œä½†æ˜¯bi%aiå¯ä»¥ä¸º0ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»Ÿä¸€å°†bi%ai+1.\nè¸©å‘ï¼šä¸€å¼€å§‹æ²¡ç”¨num[ i ]ç»Ÿè®¡aiä¸ºiæ—¶ï¼Œaiçš„ä¸ªæ•°ï¼Œç”¨çš„æ—¶getsum(1000)è¶…æ—¶äº†ï¼Œæ”¹äº†ä¹‹åæ˜¯æ—¶é—´é™åˆ¶çš„ä¸€åŠï¼Œæ€ªä¸å¾—ä¼šè¶…æ—¶ã€‚å¸¸æ•°å¤§äº†ã€‚\n\n```cpp\n//ä¸¤ä¸ªé”™è¯¯,bi/aiå¼„é”™äº†\n//bi%aiåœ¨æ ‘çŠ¶æ•°ç»„ä¸­ä¸èƒ½å­˜0\n//getsum()å¤šå†™äº†å‡ ä¸ªè¶…æ—¶äº†... é†‰äº†  \n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-25 20:49:09\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e5+11;\n\nll f[1111][1111],a[maxn],b[maxn],num[1111];\nll n,m,sum;\n\nll lowbit(ll x){return x & -x;}\nvoid update(ll i,ll x,ll val){for(;x<=1000;f[i][x]+=val,x+=lowbit(x));}\n//update,xä¸º0æ—¶æ­»å¾ªç¯\n\nll getsum(ll i,ll x){ll sum=0;for(;x>=1;sum+=f[i][x],x-=lowbit(x));return sum;}\n\nll check(ll mid,ll k){\n    ll ans=0;\n    for(ll i=1;i<=1000;i++){\n        ans=ans+mid/i*num[i];\n        ans=ans-num[i]+getsum(i,mid%i+1);\n    }\n    ans-=sum;\n    if(ans>=k)  return 1;\n    else  return 0;\n}\n\nvoid solve(ll k){\n    ll l=0,r=1e9+11;\n    while(l<r){\n        ll mid=(l+r)/2;\n        if(check(mid,k))  r=mid;\n        else  l=mid+1;\n    }\n    printf(\"%lld\\n\",l);\n}\n\nint main(){\n    ll ca;scanf(\"%lld\",&ca);\n    while(ca--){\n        memset(f,0,sizeof(f));memset(num,0,sizeof(num));\n        sum=0;\n        scanf(\"%lld%lld\",&n,&m);\n        for(ll i=1;i<=n;i++)  scanf(\"%lld\",&a[i]);\n        for(ll i=1;i<=n;i++){\n            scanf(\"%lld\",&b[i]);\n            sum+=b[i]/a[i];\n            update(a[i],b[i]%a[i]+1,1);\n            num[a[i]]++;\n        }\n        for(ll i=1;i<=m;i++){\n            ll type;scanf(\"%lld\",&type);\n            if(type==1){\n                ll x,y;scanf(\"%lld%lld\",&x,&y);\n                sum-=b[x]/a[x];\n                sum+=b[x]/y;\n                update(a[x],b[x]%a[x]+1,-1);\n                num[a[x]]--;\n                update(y,b[x]%y+1,1);\n                num[y]++;\n                a[x]=y;\n            }\n            else if(type==2){\n                ll x,y;scanf(\"%lld%lld\",&x,&y);\n                sum-=b[x]/a[x];\n                sum+=y/a[x];\n                update(a[x],b[x]%a[x]+1,-1);\n                num[a[x]]--;\n                update(a[x],y%a[x]+1,1);\n                num[a[x]]++;\n                b[x]=y;\n            }\n            else{\n                ll k;scanf(\"%lld\",&k);\n                solve(k);\n            }\n        }\n    }\n    return 0;\n}\n```\n","tags":["æ•°æ®ç»“æ„","æ•°å­¦","å¥½é¢˜"]},{"title":"è´ªå¿ƒæ€ç»´","url":"/2021/10/25/è´ªå¿ƒæ€ç»´/","content":"\n[Neko's loop HDU - 6444](https://vjudge.net/problem/HDU-6444)\n\né¢˜æ„ï¼šæœ‰nä¸ªåŸå¸‚, åœ¨æ¯ä¸ªåŸå¸‚ä¸­ä½ å¯ä»¥é€‰æ‹©èŠ±è´¹a[ i ]çš„ä»·æ ¼ä¹°ä¸€ä¸ªèƒ½é‡å—, ä¹Ÿå¯ä»¥é€‰æ‹©ä»¥a[ i ]çš„ä»·æ ¼å–å‡ºä¸€ä¸ªèƒ½é‡å—(å‰ææ˜¯ä½ è¦æœ‰èƒ½é‡å—å¯ä»¥å–). ä½ ä¼šä»1å·åŸå¸‚ä¾æ¬¡èµ°åˆ°nå·åŸå¸‚, æ¯æ¬¡å¯ä»¥é€‰æ‹©ä¹°æˆ–è€…å–æˆ–è€…ä»€ä¹ˆä¹Ÿä¸åš. åœ¨åˆå§‹ä½ æœ‰æ— é™å¤šçš„é’±çš„å‰æä¸‹, é—®ä½ èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦, ä»¥åŠåœ¨æœ€å¤§åˆ©æ¶¦çš„å‰æä¸‹æœ€å°çš„ä¹°å–æ¬¡æ•°.\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œé€é¥Fauã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_45799835/article/details/108682519\n\nÂ·\nÂ·\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·\nÂ·\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·\nè§£é¢˜æ€è·¯:\né¦–å…ˆå¦‚æœä¸€ä»¶ç‰©å“ä¹°äº†åå†å–äº†èƒ½èµšé’±, åˆ™æˆ‘ä»¬ä¸€å®šä¼šé‡‡å–è¿™ç§æ–¹æ¡ˆ, å› ä¸ºé¢˜ç›®è¦æ±‚æœ€å¤§åˆ©æ¶¦ä¼˜å…ˆ, æœ€å°çš„ä¹°å–æ¬¡æ•°åˆ™æ˜¯ä¸åšæ— æ„ä¹‰çš„ä¹°å–, å¦‚èŠ±è´¹xå…ƒè´­ä¹°èƒ½é‡å—ååˆä»¥xå…ƒå–å‡º.\n\nè´ªå¿ƒæ€è·¯:\nå› ä¸ºæˆ‘ä»¬éš¾ä»¥å†³å®šåœ¨ç¬¬iä¸ªåŸå¸‚æˆ‘ä»¬é‡‡å–æ€ä¹ˆæ ·çš„æ“ä½œæ˜¯æœ€ä¼˜çš„, æ‰€ä»¥ä¸å¦¨å¯¹äºæ¯ä¸€ä¸ªåŸå¸‚, æˆ‘ä»¬éƒ½è®¤ä¸ºæˆ‘ä»¬å¯ä»¥ä»è¯¥åŸå¸‚ä¹°å…¥èƒ½é‡å—, å¹¶ä¸”åœ¨jåŸå¸‚(j>i)å–å‡º(ä½†æ˜¯åœ¨å–å‡ºä¹‹å‰, æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬åœ¨iåŸå¸‚ä»€ä¹ˆä¹Ÿæ²¡åš). è€ŒjåŸå¸‚çš„èƒ½é‡å—ä»·æ ¼æ˜¯ä¸€å®šä¸ºa[j]çš„, æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å¦‚æœè¦å–å‡ºèƒ½é‡å—, ä¸€å®šè¦ä»¥æœ€å°çš„ä»·æ ¼åœ¨iåŸå¸‚ä¹°å…¥èƒ½é‡å—. å¯¹äºä¹°å…¥èƒ½é‡å—çš„åŸå¸‚i, æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å°é¡¶å †æ¥ç»´æŠ¤, è€ŒåŸå¸‚jçš„ç¡®å®šåˆ™æ˜¯éš¾ç‚¹.\n\nå‡è®¾æˆ‘ä»¬ç°åœ¨å­˜åœ¨ä¸€ä¸ªå°é¡¶å †, é‡Œé¢å­˜æ”¾çš„å…ƒç´ ä»£è¡¨å¯ä»¥ç”¨xçš„ä»·æ ¼ä¹°å…¥èƒ½é‡å—(å³æ‰€æœ‰çš„iåŸå¸‚), å½“æˆ‘ä»¬åˆ°è¾¾jåŸå¸‚, æ­¤æ—¶å¦‚æœæ»¡è¶³a[j] > heap.top(), æˆ‘ä»¬æ­¤æ—¶é€‰æ‹©å–å‡ºä¸€å®šå¯ä»¥èµšåˆ°é’±, ä¸”ä¸ºä¸€ç§ä¼˜è´¨ç­–ç•¥.\næ­¤æ—¶æˆ‘ä»¬çš„åˆ©æ¶¦å˜åŒ–ä¸º: res = res + a[j] - x. (è®°ä¸º*å¼)\n\nä½†æ˜¯æˆ‘ä»¬æ— æ³•ä¿è¯åç»­ä¸ä¼šå­˜åœ¨åŸå¸‚k (k>j), æ»¡è¶³a[k] > a[j], åˆ™æˆ‘ä»¬å‘ç°ä¸å¦‚åœ¨kåŸå¸‚å–å‡ºåˆšæ‰çš„èƒ½é‡å—, æ‰€ä»¥æˆ‘ä»¬æ­¤æ—¶å°±è¦æœ‰ä¸€ç§åæ‚”ç­–ç•¥, å³: åˆšæ‰çš„èƒ½é‡å—ä¸é€‰æ‹©åœ¨jåŸå¸‚å–å‡º(å³æˆ‘ä»¬åˆå¯ä»¥ä»¥a[j]çš„ä»·æ ¼ä¹°å…¥èƒ½é‡å—, åº”å½“æŠŠa[j]å…¥å †), è€Œåœ¨kåŸå¸‚å–å‡ºè¯¥èƒ½é‡å—. æœ¬èº«æˆ‘ä»¬èŠ±è´¹äº†xå…ƒä¹°å…¥, å–å‡ºå¾—åˆ°äº†a[j]å…ƒ, å˜æˆäº†xå…ƒä¹°å…¥, a[k]å…ƒå–å‡º. åˆ™åˆ©æ¶¦å˜åŒ–ä¸º: res = res - a[j] + a[k]. åšä¸€ä¸ªå˜å½¢, ç±»æ¯”äº*å¼, æˆ‘ä»¬å¾—åˆ° res = res + a[k] - a[j].\nä»æ“ä½œæ¬¡æ•°çš„è§’åº¦çœ‹, æˆ‘ä»¬åœ¨jåŸå¸‚ä¹°å…¥èƒ½é‡å—, åœ¨kåŸå¸‚å–å‡º, ç»“åˆä¹‹å‰iåŸå¸‚çš„æ“ä½œ, ç›¸å½“äºæˆ‘ä»¬åœ¨jåŸå¸‚å–äº†ä¸€æ¬¡, åˆä¹°äº†ä¸€æ¬¡. æ‰€ä»¥åœ¨jåŸå¸‚çš„æ“ä½œå¹¶ä¸æ˜¯åˆæ³•æ“ä½œ, ä¸åº”è®¡ç®—åœ¨ç»“æœä¸­.\n\nè€Œä»åˆ©æ¶¦çš„è§’åº¦çœ‹, æˆ‘ä»¬è·å¾—çš„åˆ©æ¶¦å¯ä»¥çœ‹ä½œä¹°äº†i, åœ¨jå–å‡º, åˆåœ¨jä¹°å…¥, åœ¨kå–å‡º. æˆ‘ä»¬å‘ç°è¿™ä¸¤ç§æƒ…å†µçš„åˆ©æ¶¦éµå¾ªç›¸åŒçš„å…¬å¼.\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\nç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œé€é¥Fauã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/weixin_45799835/article/details/108682519\n\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:37\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-25 13:07:14\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;\n    while(ca--){\n        ll n;cin>>n;\n        priority_queue<ll,vector<ll>,greater<ll>> q;\n        map<ll,ll> mp;\n        ll ans=0,cnt=0;\n        for(ll i=1;i<=n;i++){\n            ll x;cin>>x;\n            if(!q.empty() && q.top()<x){\n                ll sell=q.top();q.pop();\n                ans+=x-sell;\n                if(mp.count(sell)){\n                    if(--mp[sell]==0)  mp.erase(sell);\n                    q.push(sell);\n                }\n                else  cnt++;\n                mp[x]++;\n            }\n            q.push(x);\n        }\n        cout<<ans<<\" \"<<cnt*2<<endl;\n    }\n    return 0;\n}\n\n```","tags":["æ€ç»´","å¥½é¢˜","è´ªå¿ƒ"]},{"title":"æ ‘çŠ¶æ•°ç»„+DP","url":"/2021/10/24/æ ‘çŠ¶æ•°ç»„-DP/","content":"\n\n[YJJ's Salesman](https://acm.hdu.edu.cn/showproblem.php?pid=6447)\n\né¢˜æ„ï¼šAä»(0,0)èµ°åˆ°(1e9,1e9)ï¼Œè§„å®šåªèƒ½å‘ä¸‹èµ°ï¼Œå‘å³èµ°ï¼Œå‘å³ä¸‹èµ°ã€‚åœ¨äºŒç»´å¹³é¢ä¸Šæœ‰n < 1e5ä¸ªæ‘åº„ï¼Œ\næ¯ä¸ªæ‘åº„æœ‰ä¸€ä¸ªå¥–åŠ±å€¼ï¼Œè§„å®šåªæœ‰ä»å·¦ä¸Šæ–¹å‘æ¥åˆ°è¾¾æ‘åº„æ–¹å¯è·å¾—å¥–åŠ±å€¼ï¼Œé—®æœ€å¤šå¯ä»¥è·å¾—å¤šå°‘å¥–åŠ±å€¼ã€‚\n\n`\n`\n`\n`\n\n\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\n`\n`\n`\n`\n`\nå¾ˆæ˜¾ç„¶æœ‰DP[ i ][ j ]=DP[i-1][j]+DP[i][j-1]+DP[i-1][j-1];\nä½†æ˜¯è¿™éœ€è¦DP[1e5][1e5]æ‰å¯ä»¥æ“ä½œï¼Œæ˜¾ç„¶ä¸è¡Œã€‚\näºæ˜¯æˆ‘ä»¬è€ƒè™‘åªéå†æ¯ä¸ªç‚¹ã€‚\n\nè¸©å‘ï¼šDPæ›´æ–°çš„æ—¶å€™ï¼Œåªèƒ½ä»å³å¾€å·¦æ›´æ–°ï¼Œå› ä¸ºå®ƒæ˜¯è¦æ±‚ä»å·¦ä¸Šæ–¹ä¸‹æ¥æ‰å¯ä»¥ï¼Œè¿™æ ·å­å°±ä¸åŒ…å«ä»å·¦æ¥çš„ç‚¹ã€‚å¦‚æœä»å·¦å¾€å³æ›´æ–°ï¼Œé‚£ä¹ˆå°±åŒ…å«äº†ä»å·¦æ¥çš„ç‚¹ã€‚\n\n![](/uploads/æ ‘çŠ¶æ•°ç»„-DP/2021-10-24-21-22-40.png)\n\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-24 21:17:24\n*/\n//ä¼˜åŒ–éå†é—®é¢˜\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e5+11;\nstruct Point{\n    ll x,y,w;\n    bool operator < (const Point &b) const {\n        if(y==b.y)  return x>b.x;//éœ€è¦ä»å³å‘å·¦æ›´æ–°\n        return y<b.y;\n    }\n}p[maxn];\nll f[maxn],x[maxn];\nll n;\n\nll lowbit(ll x){return x & -x;}\n\nvoid update(ll x,ll val){\n    for(;x<=n;f[x]=max(val,f[x]),x+=lowbit(x));\n}\n\nll query(ll x){\n    ll ans=0;\n    for(;x>=1;ans=max(ans,f[x]),x-=lowbit(x));\n    return ans;\n}\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;\n    while(ca--){\n        memset(f,0,sizeof(f));\n        cin>>n;\n        for(ll i=1;i<=n;i++){\n            ll y,w;cin>>x[i]>>y>>w;\n            p[i]={x[i],y,w};\n        }\n        sort(p+1,p+n+1);\n        sort(x+1,x+n+1);\n        ll l=unique(x+1,x+n+1)-(x+1);\n        for(ll i=1;i<=n;i++){\n            p[i].x=lower_bound(x+1,x+l+1,p[i].x)-x;\n        }    \n        for(ll i=1;i<=n;i++){\n            ll uu=query(p[i].x-1)+p[i].w;\n            update(p[i].x,uu);\n        }\n        cout<<query(l)<<endl;    \n    }\n    return 0;\n}\n\n```","tags":["æ•°æ®ç»“æ„","å¥½é¢˜","DP"]},{"title":"å°å­¦æ•°å­¦","url":"/2021/10/24/å°å­¦æ•°å­¦/","content":"\n[Find Integer](https://acm.hdu.edu.cn/showproblem.php?pid=6441)\n\n![](/uploads/å°å­¦æ•°å­¦/2021-10-24-19-55-22.png)\n\n\n``\n\n`\n`\n`\n``\n\n`\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\nç”¨è´¹é©¬å¤§å®šç†å¯è¯n > 2çš„æ—¶å€™æ— è§£ã€‚\næ‰“è¡¨ä¹Ÿå¯ä»¥å‘ç°æ­¤è§„å¾‹\nn==2çš„æ—¶å€™ï¼Œa * a=(c-b) * (c+b);\nè®©c-b==1  å’Œc-b==2ï¼Œ\nåˆ†aå¥‡å¶è®¨è®ºå³å¯ã€‚\n","tags":["æ•°å­¦"]},{"title":"æ ‘ä¸Šç»“ç‚¹å¯¹è·¯å¾„å’Œ","url":"/2021/10/24/æ ‘ä¸Šç»“ç‚¹å¯¹è·¯å¾„å’Œ/","content":"\n\n[Tree and Permutation](https://acm.hdu.edu.cn/showproblem.php?pid=6446)\n\né¢˜æ„ï¼šä¸€æ£µæ ‘æœ‰n < 1e5ä¸ªç‚¹ï¼Œæ¯æ¡è¾¹æœ‰ä¸ªæƒå€¼ï¼Œnä¸ªç‚¹å…¨æ’åˆ—ï¼Œè‹¥æ¯ä¸ªæ’åˆ—ä¸ºa1,a2.....an,\nåˆ™æ¯ä¸ªæ’åˆ—çš„å€¼ä¸º(a1,a2),(a2,a3).....(an-1,an)çš„å’Œï¼Œæ‹¬å·è¡¨ç¤ºä¸¤ç‚¹è·¯å¾„å€¼ï¼Œæ±‚æ‰€æœ‰æ’åˆ—å€¼çš„å’Œã€‚\n\n`\n`\n`\n\n`\n`\n`\n`\n`\n`\n`\n`\n\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\næ€è·¯ï¼šå…¬å¼ä¸éš¾æ¨å‡ºä¸º2*(n-1)!*Disã€‚Disä¸ºæ‰€æœ‰ç»“ç‚¹å¯¹çš„è·¯å¾„å’Œã€‚\nç›´æ¥æ±‚Disï¼Œå› ä¸ºæœ‰1e5*1e5å¯¹ï¼Œä¸å¯ã€‚æˆ‘ä»¬è½¬è€Œè€ƒè™‘æ±‚æ¯æ¡è¾¹çš„è´¡çŒ®ã€‚\næ¯æ¡è¾¹è¿æ¥ä¸¤ä¸ªè¿é€šå—ï¼Œè®¾ä¸¤ä¸ªè¿é€šå—ç‚¹æ•°åˆ†åˆ«ä¸ºa,bã€‚é‚£ä¹ˆa * b å³ä¸ºæ­¤è¾¹çš„è´¡çŒ®æ¬¡æ•°ã€‚\néå†æ¯æ¡è¾¹å³å¯ã€‚\n\n\n```cpp\n/*** \n * @Practice Win\n * æ´›è°· P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰\n */\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\ntypedef long long ll;\nconst ll maxn=2e5+11;\nconst ll mod=1e9+7;\nstruct Edge{\n\tll to,w,nx;\n}e[maxn];\nll head[maxn],f[maxn];\nll tmp,cnt,n,ans;\n\nvoid init(){\n\tmemset(head,0,sizeof(head));\n\ttmp=2;cnt=1;ans=0;\n}\n\nvoid add(ll u,ll v,ll w){\n\te[tmp]={v,w};e[tmp].nx=head[u];head[u]=tmp++;\n}\nll dfs(ll u,ll fu){\n\tll sum=1;\n\tfor(ll i=head[u];i;i=e[i].nx){\n\t\tll v=e[i].to,w=e[i].w;\n\t\tif(v!=fu){\n\t\t\tll a=dfs(v,u);\n\t\t\tsum=sum+a;\n\t\t\tans=(ans+(a*(n-a)%mod)*w%mod)%mod;\n\t\t}\n\t}\n\treturn sum;\n}\nvoid solve(){\n\tdfs(1,0);\n\t//cout<<ans<<endl;\n\tans=(ans*f[n-1])*2%mod;\n\tprintf(\"%lld\\n\",ans);\n}\n\nint main(){\n\t// cin\n\t// cout\n    f[0]=1;\n    for(ll i=1;i<maxn;i++){\n    \tf[i]=f[i-1]*i%mod;\n    }\n    while(scanf(\"%lld\",&n)==1){\n    \tinit();\n    \tfor(ll i=1;i<=n-1;i++){\n    \t\tll u,v,w;\n    \t\tscanf(\"%lld%lld%lld\",&u,&v,&w);\n    \t\tadd(u,v,w);add(v,u,w);\n    \t}\n    \tsolve();\n    \t//printf(\"%lld\\n\",tmp);\n    }\n    return 0;\n}\n\n```","tags":["æ•°æ®ç»“æ„","æ€ç»´","æ•°å­¦"]},{"title":"æ€ç»´+æ•°å­¦","url":"/2021/10/21/æ€ç»´-æ•°å­¦/","content":"\n[Sky Garden](https://vjudge.net/problem/Gym-102900I)\n\né¢˜æ„ï¼Œç»™n < 500ä¸ªä»¥åŸç‚¹ä¸ºåœ†å¿ƒçš„ç­‰é—´è·åœ†ï¼Œè¢«m < 500æ¡è¿‡åœ†å¿ƒçš„ç›´çº¿å‡åˆ†ï¼Œå…¶ä¸­åœ†å’Œç›´çº¿ä»¥åŠç›´çº¿å’Œç›´çº¿çš„äº¤ç‚¹æ„æˆäº†ä¸€ä¸ªç‚¹é›†ï¼Œé—®ç‚¹é›†å†…çš„ä¸¤ä¸¤æœ€çŸ­è·ç¦»çš„å’Œæ˜¯å¤šå°‘ï¼ˆå…¶ä¸­æœ€çŸ­è·ç¦»åªèƒ½æ˜¯ä»ç›´çº¿æˆ–åœ†ä¸Šèµ°å‡ºæ¥çš„ï¼‰ã€‚\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·Â·\nÂ·\nÂ·\nÂ·\nÂ·Â·\n\nÂ·Â·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·Â·\nÂ·\nÂ·\nÂ·\n\næ€è·¯ï¼š\nä¸éš¾è¯æ˜å’Œå‘ç°ï¼Œä»aåˆ°bï¼Œè¦ä¹ˆèµ°çº¿æ®µ+åœ†å¼§ï¼Œè¦ä¹ˆå°±æ˜¯ä¸¤ä¸ªçº¿æ®µã€‚\nç„¶åè¿™é“é¢˜å°±å¯ä»¥æš´åŠ›è½è¿‡å»äº†ã€‚\nä¹Ÿå¯ä»¥ä¼˜åŒ–åˆ°næ–¹ã€‚\nå¯¹äºä¸€ä¸ªåœ†ï¼Œåˆ†ç‚¹åœ¨åœ†ä¸Šå’Œåœ¨åœ†å†…è€ƒè™‘ã€‚\nè¸©å‘ï¼šè¿™é“éƒ½æ˜¯æµ®ç‚¹æ•°çš„é¢˜ï¼Œä¸€ä¸ªæµ®ç‚¹æ•°å…¬å¼ï¼Œå†™äº†a/2 * b * cï¼Œaä¸ºæ•´å½¢ï¼Œb,cä¸ºæµ®ç‚¹å‹ï¼Œå‘ç”Ÿäº†æ•´å½¢æˆªæ–­ï¼Œé”™äº†ã€‚\n\n\nè¿™é“é¢˜è®©æˆ‘çŸ¥é“ï¼Œè‹¥æ±‚å’Œå¯ä»¥ç”¨å…¬å¼åŒ–ç®€ï¼Œå°±å¯ä»¥ä¸ç”¨å¾ªç¯æ±‚å’Œï¼Œä¼˜åŒ–å¤æ‚åº¦ã€‚\nè¿˜æœ‰å°±æ˜¯è¿™é“é¢˜ï¼ŒO(1),O(n),O(næ–¹)çš„è¿è¡Œæ—¶é—´å‡ ä¹éƒ½æ²¡æœ‰åŒºåˆ«ã€‚\n\n\nnæ–¹åšæ³•ï¼š\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-21 16:52:25\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nconst ld pi=acos(-1);\nll n,m;\nvoid solve(){\n    ld ans=0;\n    if(m==1){\n        ans=1.0/6.0*(2*n+2)*(2*n+1)*(2*n)-n*(n+1);//æ­¤å¤„æ¨å…¬å¼å¯ä»¥ç”¨åˆ°è£‚é¡¹ç›¸æ¶ˆæ³•\n        printf(\"%.10Lf\\n\",ans);\n        return ;\n    }\n    for(ld r2=1;r2<=n;r2++){\n        //åœ†å†…:\n        ld ans1=0;\n        for(ld i=1;i<=m-1;i++){\n            if(i*pi*r2/m<2*r2){\n                ans1=ans1+r2*(r2-1.0)/2.0*(i*pi/m+1);\n            }\n            else{\n                ans1=ans1+3*r2/2.0*(r2-1);// /2å‡ºé”™\n            }\n        }  \n        ans1=ans1*2;\n        ans1=ans1+r2*(2*r2-1);\n        ans1=ans1*2*m;\n        ans+=ans1;\n        //åœ†ä¸Šï¼š\n        ld ans2=0;\n        for(ld i=1;i<=m-1;i++){\n            ans2+=min(i*pi*r2/m,(ld)2*r2);\n        }\n        ans2=ans2*2+2*r2;\n        ans=ans+ans2*2*m/2.0;\n    }\n    printf(\"%.10Lf\\n\",ans);\n}\nint main(){\n    cin>>n>>m;\n    solve();\n    return 0;\n}\n```\n\nO(n)  åšæ³•ï¼š\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-21 18:07:32\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nconst ld pi=acos(-1);\nld n,m;\nvoid solve(){\n    ld ans=0;\n    if(m==1){\n        ans=1.0/6.0*(2*n+2)*(2*n+1)*(2*n)-n*(n+1);\n        printf(\"%.10Lf\\n\",ans);\n        return ;\n    }\n    ld ans1=0,ans2=0;\n    for(ld i=1;i<=m-1;i++){\n        if(i*pi/m<2){\n            ans1=ans1+1.0/6.0*(n+1)*n*(n-1)*(i*pi/m+1);\n            ans2=ans2+i*pi/m;\n        }\n        else{\n            ans1=ans1+1.0/2.0*(n+1)*n*(n-1);\n            ans2=ans2+2.0;\n        }\n    }\n    ans1*=2;\n    ans1=ans1+n*(n+1)*(4*n-1)/6.0;\n    ans=ans+ans1*2*m;\n\n    ans2=ans2*2+2;\n    ans2*=m;\n    ans=ans+ans2*n*(n+1.0)/2.0;\n\n\n    // for(ld r2=1;r2<=n;r2++){\n    //     //åœ†å†…:\n    //     ld ans1=0;\n    //     for(ld i=1;i<=m-1;i++){\n    //         if(i*pi*r2/m<2*r2){\n    //             ans1=ans1+r2*(r2-1.0)/2.0*(i*pi/m+1);\n    //         }\n    //         else{\n    //             ans1=ans1+3*r2/2.0*(r2-1);// /2å‡ºé”™\n    //         }\n    //     }  \n    //     ans1=ans1*2;\n    //     ans1=ans1+r2*(2*r2-1);\n    //     ans1=ans1*2*m;\n    //     ans+=ans1;\n    //     //åœ†ä¸Šï¼š\n    //     ld ans2=0;\n    //     for(ld i=1;i<=m-1;i++){\n    //         ans2+=min(i*pi*r2/m,(ld)2*r2);\n    //     }\n    //     ans2=ans2*2+2*r2;\n    //     ans=ans+ans2*2*m/2.0;\n    // }\n    printf(\"%.10Lf\\n\",ans);\n}\nint main(){\n    cin>>n>>m;\n    solve();\n    return 0;\n}\n\n\nO(1)åšæ³•ï¼š\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-21 18:25:51\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nconst ld pi=acos(-1);\nld n,m;\nvoid solve(){\n    ld ans=0;\n    if(m==1){\n        ans=1.0/6.0*(2*n+2)*(2*n+1)*(2*n)-n*(n+1);\n        printf(\"%.10Lf\\n\",ans);\n        return ;\n    }\n    ld ans1=0,ans2=0;\n    ld x=floor(2.0*m/pi),y=ceil(2.0*m/pi);\n    ans1=((1.0+x)*x/2.0*pi/m+x)*(n+1)*n*(n-1)/6.0;\n    ans1=ans1+1.0/2.0*(n+1)*n*(n-1)*(m-1-y+1.0);\n\n    ans2=(1.0+x)*x/2.0*pi/m;\n    ans2=ans2+2.0*(m-1-y+1.0);\n\n    // for(ld i=1;i<=m-1;i++){\n    //     if(i*pi/m<2){\n    //         ans1=ans1+1.0/6.0*(n+1)*n*(n-1)*(i*pi/m+1);\n    //         ans2=ans2+i*pi/m;\n    //     }\n    //     else{\n    //         ans1=ans1+1.0/2.0*(n+1)*n*(n-1);\n    //         ans2=ans2+2.0;\n    //     }\n    // }\n    ans1*=2;\n    ans1=ans1+n*(n+1)*(4*n-1)/6.0;\n    ans=ans+ans1*2*m;\n\n    ans2=ans2*2+2;\n    ans2*=m;\n    ans=ans+ans2*n*(n+1.0)/2.0;\n\n\n    // for(ld r2=1;r2<=n;r2++){\n    //     //åœ†å†…:\n    //     ld ans1=0;\n    //     for(ld i=1;i<=m-1;i++){\n    //         if(i*pi*r2/m<2*r2){\n    //             ans1=ans1+r2*(r2-1.0)/2.0*(i*pi/m+1);\n    //         }\n    //         else{\n    //             ans1=ans1+3*r2/2.0*(r2-1);// /2å‡ºé”™\n    //         }\n    //     }  \n    //     ans1=ans1*2;\n    //     ans1=ans1+r2*(2*r2-1);\n    //     ans1=ans1*2*m;\n    //     ans+=ans1;\n    //     //åœ†ä¸Šï¼š\n    //     ld ans2=0;\n    //     for(ld i=1;i<=m-1;i++){\n    //         ans2+=min(i*pi*r2/m,(ld)2*r2);\n    //     }\n    //     ans2=ans2*2+2*r2;\n    //     ans=ans+ans2*2*m/2.0;\n    // }\n    printf(\"%.10Lf\\n\",ans);\n}\nint main(){\n    cin>>n>>m;\n    solve();\n    return 0;\n}\n```\n","tags":["æ€ç»´","æ•°å­¦","å¥½é¢˜"]},{"title":"äºŒåˆ†æ€ç»´å¥½é¢˜","url":"/2021/10/20/äºŒåˆ†æ€ç»´å¥½é¢˜/","content":"\n[Walker Gym - 102900D](https://vjudge.net/problem/Gym-102900D)\n\né¢˜é¢ï¼šåœ¨ä¸€ä¸ªé•¿ä¸ºnçš„çº¿æ®µï¼Œå·¦ç«¯ç‚¹ä¸º0ï¼Œå³ç«¯ç‚¹ä¸ºn\n\næœ‰ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«ä½äºp1,p2ï¼Œå®ƒä»¬çš„é€Ÿåº¦åˆ†åˆ«ä¸ºv1,v2\n\né—®æœ€å°‘éœ€è¦å¤šå°‘æ—¶é—´ï¼Œå¯ä»¥ä½¿å¾—p1ï¼Œp2çš„è·¯ç¨‹è¦†ç›–æ•´æ¡çº¿æ®µ\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\n\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·\nÂ·Â·\n\nÂ·Â·\n\nÂ·\nÂ·\nÂ·\n\næ€è·¯ï¼š\nåˆ†ç±»è®¨è®ºï¼š\n\nå…ˆä»¤p1<p2\n\nâ‘ p1èµ°å®Œå…¨ç¨‹\n\nâ‘¡p2èµ°å®Œå…¨ç¨‹\n\nâ‘¢p1å‘å³èµ°å®Œå…¨éƒ¨ï¼Œp2å‘å·¦èµ°å®Œå…¨éƒ¨\n\nâ‘£p1èµ°å®Œå·¦è¾¹çš„å…¨éƒ¨ï¼Œp2èµ°å®Œå³è¾¹çš„å…¨éƒ¨ï¼Œå‰©ä½™ä¸­é—´çš„éƒ¨åˆ†p1ä¸p2å…±åŒèµ°å®Œï¼ŒäºŒåˆ†ä¸­é—´ç›¸é‡ä½ç½®å³å¯ã€‚\n\nè¸©å‘:æœ€åäºŒåˆ†å‡ºæ¥çš„ç»“æœï¼Œæ²¡æœ‰å–max(t1,t2)ï¼Œåªå–äº†t1çš„å€¼waäº†ã€‚\nåŸå› æ˜¯äºŒåˆ†å‡ºæ¥çš„æœ€åç»“æœï¼Œä¸èƒ½ä¿è¯t1==t2.\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-20 15:21:01\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nld x,x1,v1,x2,v2,ans;\nvoid load(ld xx){\n    ans=min(ans,xx);\n}\nvoid solve(){\n    ld xx=min(x+x1,x-x1+x);\n    load(xx/v1);//Aèµ°å®Œå…¨ç¨‹\n    xx=min(x+x-x2,x+x2);\n    load(xx/v2);//Bèµ°å®Œå…¨ç¨‹\n    ld tt=max((x-x1)/v1,x2/v2);\n    load(tt);//A,Bå¯¹å‘èµ°\n    ld l=x1,r=x2;\n    while(r-l>1e-12){\n        ld mid=(l+r)/2;\n        ld t1=min(x1+mid,mid+mid-x1)/v1;\n        ld t2=min(x-mid+x2-mid,x-mid+x-x2)/v2;\n        //load(max(t1,t2));\n        if(t1<t2)  l=mid;\n        else  r=mid;\n    }\n    ld t1=min(x1+l,l+l-x1)/v1;\n    ld t2=min(x-l+x2-l,x-l+x-x2)/v2;\n    load(max(t1,t2));\n    printf(\"%.10LF\\n\",ans);\n}\nint main(){\n    ll ca;cin>>ca;\n    while(ca--){\n        scanf(\"%Lf%Lf%Lf%Lf%Lf\",&x,&x1,&v1,&x2,&v2);\n        if(x1>x2){\n            swap(x1,x2);swap(v1,v2);\n        }\n        ans=1e12;\n        solve();\n    }\n    return 0;\n}\n\n\n```\n","tags":["äºŒåˆ†","æ€ç»´"]},{"title":"æœ€çŸ­è·¯çš„è·¯å¾„","url":"/2021/10/18/æœ€çŸ­è·¯çš„è·¯å¾„/","content":"\næœ€çŸ­è·¯è·¯å¾„å­˜å‚¨:å­˜å‚¨æ¯ä¸ªç‚¹çš„å‰é©±è·¯å¾„\n\n<!--more-->\n\n[find the longest of the shortest HDU - 1595 ](https://vjudge.net/problem/HDU-1595)\n\né¢˜æ„ï¼šä»»åˆ ä¸€æ¡è¾¹ï¼Œæ±‚åˆ é™¤ä¸€æ¡è¾¹åæœ€é•¿çš„é‚£æ¡æœ€çŸ­è·¯ã€‚æœ‰n < 1e3ä¸ªç‚¹,m < 1e6æ¡è¾¹ã€‚ \n\né¢˜è§£ï¼šæšä¸¾åˆ é™¤æ¯æ¡è¾¹æ˜æ˜¾è¶…æ—¶ï¼Œä»”ç»†æƒ³æƒ³ï¼Œå‘ç°åˆ é™¤éæœ€çŸ­è·¯ä¸Šçš„è¾¹ï¼Œæœ€çŸ­è·¯ä¸ä¼šå˜åŒ–ï¼Œæ‰€ä»¥å…ˆæ•´ä¸€éæœ€çŸ­è·¯æ ‡è®°æœ€çŸ­è·¯ä¸Šçš„è¾¹ï¼Œç„¶åæšä¸¾åˆ é™¤æœ€çŸ­è·¯è¾¹å³å¯ã€‚\n\nå¾ˆé«˜å…´çš„æ˜¯ï¼Œè‡ªå·±ç‹¬ç«‹åšå‡ºæ¥äº†ï¼Œé€šè¿‡å­˜å‚¨æ¯ä¸ªç‚¹çš„å‰é©±è·¯å¾„ï¼Œæ¥è¾¾åˆ°å­˜å‚¨æœ€çŸ­è·¯å¾„çš„æ•ˆæœã€‚\nä»£ç ä¼˜åŒ–:  åˆ è¾¹å¯ä»¥ç›´æ¥è®©æ­¤è¾¹çš„æƒå€¼ä¸ºINFå³å¯ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-18 17:24:09\n*/\n#include<iostream>\n#include<cstring>\n#include<queue>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e3+11;\nconst ll maxm=1e6+11;\nstruct Edge{\n    ll fr,to,w,ne;\n}e[maxm];\nll head[maxn],dis[maxn],vis[maxn],pre[maxn];\nll n,m,start,flag,tmp;\npriority_queue<P,vector<P>,greater<P>> q;\nvoid init(){\n    memset(head,0,sizeof(head));tmp=2;\n}\nvoid add(ll u,ll v,ll w){\n    e[tmp]={u,v,w};e[tmp].ne=head[u];head[u]=tmp++;\n}\nvoid dij(){\n    memset(dis,0x1f,sizeof(dis));memset(vis,0,sizeof(vis));\n    q.push({0,start});dis[start]=0;\n    while(!q.empty()){\n        ll u=q.top().second;q.pop();\n        if(vis[u])  continue;\n        vis[u]=1;\n        for(ll i=head[u];i;i=e[i].ne){\n            ll v=e[i].to;\n            if(!vis[v] && dis[u]+e[i].w<dis[v]){\n                dis[v]=dis[u]+e[i].w;\n                if(flag)  pre[v]=i;\n                q.push({dis[v],v});\n            }\n        }\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    while(cin>>n>>m){\n        init();\n        for(ll i=1;i<=m;i++){\n            ll u,v,w;cin>>u>>v>>w;\n            add(u,v,w);add(v,u,w);\n        }\n        start=1;flag=1;\n        dij();\n        ll ans=dis[n];\n        flag=0;\n        for(ll v=n;v!=1;){\n            ll i=pre[v];\n            ll w=e[i].w;\n            e[i].w=e[i^1].w=INF;//è¿™é‡Œç›´æ¥æ”¹å°±è¡Œäº†\n            dij();\n            ans=max(ans,dis[n]);\n            e[i].w=e[i^1].w=w;\n            v=e[i].fr;\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n\n```","tags":["æœ€çŸ­è·¯"]},{"title":"çŸ©é˜µæœ€çŸ­è·¯","url":"/2021/10/18/çŸ©é˜µæœ€çŸ­è·¯/","content":"\n\n[The Shortest Path HDU - 2807 ](https://vjudge.net/problem/HDU-2807)\n\né¢˜é¢ï¼šæœ‰n < 80ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹ç”¨ä¸€ä¸ªm * m(m < 80)çš„çŸ©é˜µè¡¨ç¤ºï¼Œè‹¥a,b,cä¸‰ä¸ªç‚¹æ»¡è¶³a * b=cï¼Œåˆ™è¡¨ç¤ºaåˆ°cæœ‰ä¸€æ¡é•¿åº¦ä¸º1çš„å•å‘è¾¹ã€‚\næœ‰q < 80æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®x,yçš„æœ€çŸ­è·¯\n\nå…³é”®åœ¨äºå¦‚ä½•å¤„ç†è¿™ä¸ªçŸ©é˜µã€‚\n\næ€è·¯åœ¨ä¸‹é¢\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n`\n\nè¿™é“é¢˜æŒºæœ‰æ„æ€çš„ï¼Œå¾—å¤„ç†ä¸‹çŸ©é˜µçš„ç›¸ä¹˜ï¼Œå…¶å®æ²¡å¿…è¦å¼„å¾—å¾ˆå¤æ‚ï¼Œç›´æ¥æš´åŠ›å¤„ç†å°±è¡Œäº†ã€‚\n\nfloydå˜å½¢é¢˜ï¼Œå¤„ç†ä¸€ä¸‹çŸ©é˜µå³å¯ï¼Œå› ä¸ºæ•°æ®ä¸å¤§ï¼Œæš´åŠ›æ±‚å°±è¡Œï¼Œä¹Ÿå¯ä»¥é‡‡å–ä¹˜æ³•ä¼˜åŒ–ã€‚è¸©å‘ï¼šæ³¨æ„A*B=Bä¸èƒ½è¯´æ˜ABä¹‹é—´æœ‰è¾¹ï¼Œåœ¨è¿™é‡Œwaäº†\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-11 11:00:11\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-18 15:18:30\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e2+11;\nstruct Node{\n    ll a[maxn][maxn];\n}city[maxn];\nll gra[maxn][maxn];\nll n,m;\nvoid matirx(ll u,ll t){\n    ll mid[maxn][maxn];\n    for(ll i=1;i<=m;i++){\n        for(ll j=1;j<=m;j++){\n            mid[i][j]=0;\n            for(ll k=1;k<=m;k++){\n                mid[i][j]+=city[u].a[i][k]*city[t].a[k][j];\n            }\n        }\n    }\n    for(ll v=1;v<=n;v++){\n        if(v==u || v==t)  continue;\n        ll flag=1;\n        for(ll i=1;i<=m;i++){\n            if(flag==0)  break;\n            for(ll j=1;j<=m;j++){\n                if(mid[i][j]!=city[v].a[i][j]){\n                    flag=0;break;\n                }\n            }\n        }\n        if(flag)  gra[u][v]=1;\n    }\n}\nvoid floyd(){\n    for(ll k=1;k<=n;k++){\n        for(ll i=1;i<=n;i++){\n            for(ll j=1;j<=n;j++)  gra[i][j]=min(gra[i][j],gra[i][k]+gra[k][j]);\n        }\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    while(cin>>n>>m && (n||m)){\n        memset(gra,0x1f,sizeof(gra));\n        for(ll c=1;c<=n;c++){\n            for(ll i=1;i<=m;i++){\n                for(ll j=1;j<=m;j++)  cin>>city[c].a[i][j];\n            }\n        }\n        for(ll i=1;i<=n;i++){\n            for(ll j=1;j<=n;j++){\n                if(i==j)  continue;\n                matirx(i,j);\n            }\n        }\n        floyd();\n        ll q;cin>>q;\n        for(ll i=1;i<=q;i++){\n            ll u,v;cin>>u>>v;\n            if(gra[u][v]>1e9)  cout<<\"Sorry\"<<endl;\n            else  cout<<gra[u][v]<<endl;\n        }\n    }\n    return 0;\n}\n```\n\n","tags":["æ•°æ®ç»“æ„","å¥½é¢˜","æœ€çŸ­è·¯"]},{"title":"æ€ç»´é¢˜","url":"/2021/10/16/æ€ç»´é¢˜/","content":"\nå¤´è„‘é£æš´\n\n<!--more-->\n\n# [Lights and Robot](https://ac.nowcoder.com/acm/contest/20862/B)\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\n    æ¨å…¬å¼é¢˜ï¼Œè‹¥æ²¡æœ‰Dæ“ä½œï¼Œç­”æ¡ˆä¸º(R+C)*N-2*R*C;\n    æœ‰Dæ“ä½œï¼Œå°±æ˜¯:(R+C)*N-2*R*C+(diag?1:0)*(N-2*C-2*R+4*D))\n\n  </code></pre>\n</details>\n\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\nbitset<100010> Rmap,Cmap;\nint R,C,D;\nbool diag;\nint N,M;\nint T,E;\n\nvoid initial(){\n\tR=C=D=0;\n\tdiag=false;\n\tRmap.reset();\n\tCmap.reset();\n}\n\nbool blank(const char&x){\n\treturn x==' '||x=='\\n'||x==EOF;\n}\n\nint main(){\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d%d\",&N,&M);\n\t\tinitial();\n\t\tfor(int i=0;i<M;i++){\n\t\t\tchar op;\n\t\t\twhile(blank(op=getchar()));\n\t\t\tif(op=='C'){\n\t\t\t\tscanf(\"%d\",&E);\n\t\t\t\tif(Rmap[E]==true&&Cmap[E]==true){\n\t\t\t\t\tD--;\n\t\t\t\t}\n\t\t\t\tif(Cmap[E]==true){\n\t\t\t\t\tC--;\n\t\t\t\t\tCmap[E]=false;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tC++;\n\t\t\t\t\tCmap[E]=true;\n\t\t\t\t}\n\t\t\t\tif(Rmap[E]==true&&Cmap[E]==true){\n\t\t\t\t\tD++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(op=='D'){\n\t\t\t\tdiag=!diag;\n\t\t\t}\n\t\t\telse if(op=='R'){\n\t\t\t\tscanf(\"%d\",&E);\n\t\t\t\tif(Rmap[E]==true&&Cmap[E]==true){\n\t\t\t\t\tD--;\n\t\t\t\t}\n\t\t\t\tif(Rmap[E]==true){\n\t\t\t\t\tR--;\n\t\t\t\t\tRmap[E]=false;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tR++;\n\t\t\t\t\tRmap[E]=true;\n\t\t\t\t}\n\t\t\t\tif(Rmap[E]==true&&Cmap[E]==true){\n\t\t\t\t\tD++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// cout<<R<<' '<<C<<' '<<D<<' '<<N<<' '<<diag<<endl;\n\t\t\tprintf(\"%lld\\n\",((ll)R+(ll)C)*(ll)N-(ll)2*(ll)R*(ll)C+(diag?(ll)1:(ll)0)*((ll)N-(ll)2*(ll)C-(ll)2*(ll)R+(ll)4*(ll)D));\n\t\t}\n\t}\n}\n```\n\n# [Sequence I](https://ac.nowcoder.com/acm/contest/20862/E)\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\nå–ç»å¯¹å€¼ï¼Œå…¶å®å°±ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆa-b,è¦ä¹ˆb-a.é‚£ä¹ˆæ¯æ¬¡åˆ†è¿™ä¸¤ç§æƒ…å†µæš´åŠ›å³å¯ã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nint N,MAX,A[10],T;\n\nint ABS(int x){\n\tif(x<0)return -x;\n\treturn x;\n}\n\nvoid dfs(int ans,int d){\n\tif(d==N){\n\t\tif(ABS(ans)<MAX)MAX=ABS(ans);\n\t\treturn;\n\t}\n\tdfs(ans+A[d],d+1);\n\tdfs(ans-A[d],d+1);\n}\n\nint main(){\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d\",&N);\n\t\tMAX=1E8;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&A[i]);\n\t\t}\n\t\tdfs(0,0);\n\t\tprintf(\"%d\\n\",MAX);\n\t}\n}\n```\n\n# [Flight Collision ](https://codeforces.com/gym/103049/problem/F) \n\né¢˜æ„ï¼šä¸€ç»´åæ ‡ä¸Šé£æœºå…·æœ‰\\(x_i\\)åæ ‡å’Œé€Ÿåº¦\\(v_i\\)ï¼Œå…¶ä¸­é€Ÿåº¦æ˜¯çŸ¢é‡\nè‹¥ä¸¤é£æœºç›¸é‡åˆ™ä¼šåŒæ—¶æ¶ˆå¤±ï¼Œé—®æœ€åç•™ä¸‹çš„é£æœºçš„ç¼–å·\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\nè§‚å¯Ÿåˆ°æ€§è´¨æ¯æ¬¡ç›¸æ’çš„é£æœºæ€»æ˜¯å‰ä¸€æ—¶é—´ç›¸é‚»çš„é£æœº\næ¯æ¬¡å½“å‰å±€é¢ä¸‹ç¬¬ä¸€æ¬¡ç›¸æ’çš„é£æœºæ˜¯ç›¸å¯¹é€Ÿåº¦é™¤ä»¥è·ç¦»æœ€å¤§çš„é£æœº\næ¯æ¬¡åˆ é™¤è¿™å¯¹é£æœºï¼Œç„¶åæ·»åŠ  åˆ é™¤è¿™å¯¹é£æœºä¹‹åç›¸é‚» çš„é£æœºã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef long double lb;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nll v[maxn],x[maxn];\npriority_queue<pair<lb,P>> q;\nset<ll> s;\nvoid add(ll i,ll j){\n    if(v[i]-v[j]<=0)  return ;\n    lb t=((lb)v[i]-(lb)v[j])/((lb)x[j]-(lb)x[i]);\n    q.push({t,{i,j}});\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n;cin>>n;\n    for(ll i=1;i<=n;i++){\n        cin>>x[i]>>v[i];\n        s.insert(i);\n    }\n    for(ll i=1;i<n;i++){\n        add(i,i+1);\n    }\n    while(!q.empty() && !s.empty()){\n        P p=q.top().second;\n        ll i=p.first,j=p.second;\n        q.pop();\n        if(!s.count(i) || !s.count(j))  continue;\n        s.erase(i);s.erase(j);\n        if(s.empty())  break;\n        auto it=s.lower_bound(i);\n        if(it==s.begin() || it==s.end())  continue;\n        i=*(--it);\n        it=s.lower_bound(j);\n        j=*it;\n        add(i,j);\n    }\n    cout<<s.size()<<endl;\n    for(auto it=s.begin();it!=s.end();it++)  cout<<*it<<\" \";\n    return 0;\n}\n\n```\n\n# [Stack Sort I](https://ac.nowcoder.com/acm/contest/20862/G)\n\né¢˜æ„ï¼šæœ‰ä¸‰ä¸ªæ ˆï¼Œa,b,cï¼Œåˆå§‹aæ ˆä¸­æœ‰n < 1e3ä¸ªå…ƒç´ ï¼Œç°éœ€è¦å€ŸåŠ©b,cä¸¤ä¸ªæ ˆæ¥æ“ä½œä½¿aæ ˆä¸­çš„å…ƒç´ æŒ‰éé€’å‡æ’åˆ—ã€‚\næ“ä½œæ˜¯æŒ‡å°†xæ ˆé¡¶çš„å…ƒç´ pushåˆ°yæ ˆé¡¶ã€‚è¾“å‡ºæ“ä½œçš„è¿‡ç¨‹ï¼Œæ“ä½œæ¬¡æ•°å°äº2e4ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\né€’å½’ï¼Œåˆ†æ²»çš„æ€æƒ³\nè‹¥èƒ½å°†ä¸€ä¸ªéæœ‰åºåºåˆ—åˆ†ä¸ºä¸¤ä¸ªæœ‰åºåºåˆ—ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåºåˆ—å†å½’å¹¶å°±èƒ½å½¢æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚\næ•…æ¯æ¬¡å°†ä¸€ä¸ªåºåˆ—åˆ†ä¸ºä¸¤ä¸ªåºåˆ—ï¼Œæœ€åå†å°†ä¸¤ä¸ªæœ‰åºçš„åºåˆ—å½’å¹¶å³å¯ã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:41\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-17 21:44:32\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nstack<ll> st[5];\nvector<P> ans;\nvoid opt(ll x,ll y){\n    st[y].push(st[x].top());\n    st[x].pop();\n    ans.push_back({x+1,y+1});\n}\nvoid sort(ll x,ll n,ll d){\n    if(n==1)  return ;\n    ll m=n/2,k=n-m;\n    ll y=(x+1)%3,z=(x+2)%3;\n    for(ll i=1;i<=m;i++)  opt(x,y);\n    for(ll i=1;i<=k;i++)  opt(x,z);\n    sort(y,m,d^1);\n    sort(z,k,d^1);\n    for(ll i=0,j=0;i<m or j<k;){\n        if(i==m)  opt(z,x),j++;\n        else if(j==k)  opt(y,x),i++;\n        else if(d ^ (st[y].top()<st[z].top()))  opt(z,x),j++;\n        else  opt(y,x),i++;\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll N;cin>>N;\n    for(ll i=0,a;i<N;i++)  cin>>a,st[0].push(a);\n    sort(0,N,0);\n    cout<<ans.size()<<endl;\n    for(auto i=ans.begin();i!=ans.end();i++)  cout<<(*i).first<<\" \"<<(*i).second<<endl;\n    return 0;\n}\n\n\n```\n\n\n# [Mine Sweeper II ](https://vjudge.net/problem/Gym-102900B)\n\né¢˜æ„ï¼šæœ‰Aï¼ŒBä¸¤ä¸ªæ‰«é›·å›¾ï¼Œå›¾çš„è§„æ ¼ä¸ºnè¡Œmåˆ—ï¼Œn,m < 1e3,è®©Bæœ€å¤šæ“ä½œn*m/2æ¬¡ï¼Œä½¿å¾—Aï¼ŒBä¸¤ä¸ªæ•°å­—ä¹‹å’Œç›¸ç­‰ã€‚\næ“ä½œæ˜¯æŒ‡å°†æ•°å­—å˜é›·ï¼Œæˆ–é›·å˜æ•°å­—ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\n![](/uploads/æ€ç»´é¢˜/2021-10-19-19-52-34.png)\n\n  </code></pre>\n</details>\n\n\n\n\n\n\n","tags":["æ€ç»´"]},{"title":"å›¾è®ºç»¼åˆé¢˜","url":"/2021/10/12/å›¾è®ºç»¼åˆé¢˜/","content":"\ngraph nä¸ªç‚¹ mæ¡è¾¹\n\n<!--more-->\n\n# ä¸€èˆ¬\n[K. KÃ¶nigsberg Bridges](http://codeforces.com/gym/103098/problem/K)\n\né¢˜é¢ï¼šç»™ä¸€ä¸ªn<1e6ä¸ªç‚¹ï¼Œm<1e6æ¡è¾¹ï¼Œæ·»åŠ å‡ æ¡è¾¹ä½¿å¾—å›¾å­˜åœ¨ä¸€æ¡è·¯å¾„éå†æ‰€æœ‰çš„æ¡¥ï¼Œé—®æ¡¥æœ€å¤šèƒ½æœ‰å¤šå°‘æ¡ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\ne-dcc+æ ‘çš„ç›´å¾„\næ³¨æ„å›¾çš„å‘ç‚¹ï¼Œæ˜¯è¦å­˜åœ¨ä¸€æ¡è·¯å¾„éå†æ‰€æœ‰çš„æ¡¥ï¼Œæ‰€ä»¥å¯¹äºä¸€æ£µæ ‘ï¼Œä½¿å…¶æ¡¥æœ€å¤šçš„è·¯ï¼Œä¸ºç›´å¾„ã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:29:13\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e6+11;\nstruct Edge{\n    ll fr,to,next;\n}edge[maxn<<1],edgesk[maxn<<1];\nll head[maxn],headsk[maxn],dfn[maxn],low[maxn],c[maxn],vis[maxn],d[maxn],ds[maxn];\nll dcc,tmp,tmpsk,cnt,n,m,num,zj;\nbool bridge[maxn<<1];\nvoid add(ll u,ll v){\n    edge[tmp]={u,v};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid addsk(ll u,ll v){\n    edgesk[tmpsk]={u,v};edgesk[tmpsk].next=headsk[u];\n    headsk[u]=tmpsk++;\n}\nvoid tarjan(ll x,ll faedge){\n    dfn[x]=low[x]=cnt++;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y,i);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<low[y]){\n                bridge[i]=bridge[i^1]=true;\n            }\n        }\n        else if(i != (faedge ^ 1)){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n}\nvoid dfs(ll x){\n    c[x]=dcc;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(c[y] || bridge[i])  continue;\n        dfs(y);\n    }\n}\nvoid dfsf(ll x,ll fa){\n    vis[x]=1;\n    if(d[x]>zj){\n        zj=d[x];num=x;\n    }\n    for(ll i=headsk[x];i;i=edgesk[i].next){\n        ll y=edgesk[i].to;\n        if(y==fa)  continue;\n        d[y]=d[x]+1;\n        dfsf(y,x);\n    }\n}\nvoid dfss(ll x,ll fa){\n    vis[x]=1;\n    if(ds[x]>zj){\n        zj=ds[x];num=x;\n    }\n    for(ll i=headsk[x];i;i=edgesk[i].next){\n        ll y=edgesk[i].to;\n        if(y==fa)  continue;\n        ds[y]=ds[x]+1;\n        dfss(y,x);\n    }\n}\nvoid solve(){\n    ll ans=0;\n    for(ll i=1;i<dcc;i++){\n        if(!vis[i]){\n            ans++;\n            zj=-1;\n            dfsf(i,-1);\n            dfss(num,-1);\n            ans+=zj;\n        }\n    }\n    cout<<ans-1<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp=tmpsk=2;cnt=1;dcc=1;\n    for (ll i = 1; i <= m; i++) {\n        ll x, y;cin>>x>>y;\n        add(x, y), add(y, x);\n    }\n    for (ll i = 0; i < n; i++)\n        if (!dfn[i]) tarjan(i, 0);\n    for(ll i=0;i<n;i++){\n        if(!c[i]){\n            dfs(i);\n            dcc++;\n        }\n    }\n    for(ll i=2;i<tmp;i++){\n        ll u=edge[i].fr,v=edge[i].to;\n        if(c[u]==c[v])  continue;\n        addsk(c[u],c[v]); //æ— å‘å›¾\n    }\n    solve();\n    return 0;\n}\n\n```","tags":["å›¾è®º"]},{"title":"äºŒåˆ†","url":"/2021/10/12/äºŒåˆ†/","content":"\næ®è¯´åªæœ‰10%çš„ç¨‹åºå‘˜èƒ½å†™å¯¹äºŒåˆ†ğŸ˜®\n\n<!--more-->\n\n# äºŒåˆ†çš„æ­£ç¡®å§¿åŠ¿\n\nå…ˆçœ‹ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š\n\nå‡åºä¸‹ï¼Œæ‰¾ç¬¬ä¸€ä¸ª>=xçš„æ•°\n```cpp\nl=0,r=v.size();\nwhile(l<r){\n    ll mid=(l+r)>>1;\n    if(v[mid]<x)  l=mid+1;//å†™äºŒåˆ†çš„è¯€çª\n    else  r=mid;\n}\n```\n\nå¤§å¤šæ•°æƒ…å†µä¸‹,l=0,r=v.size(),é‚£æˆ‘ä»¬æ¥ä¸‹æ¥éƒ½åœ¨è¿™ç§æƒ…å†µä¸‹è®¨è®º\n\n* ä¸ºä»€ä¹ˆmidæ˜¯(l+r)>>1ï¼Œä¸æ˜¯(l+r+1)>>1ï¼›å› ä¸ºå¦‚æœæ˜¯åè€…,midå¯èƒ½ç­‰äºrï¼Œå¯¼è‡´è¶Šç•Œé”™è¯¯.\n* ç”±äºmidæ¯æ¬¡é è¿‘åŒºé—´å·¦ç«¯ï¼Œæ‰€ä»¥å¯¹äºv[ mid ]  åé¢æ¥çš„è‚¯å®šæ˜¯l=mid+1ï¼Œè¿™æ ·å­å¾ˆèˆ’æœ(å…·ä½“æ€ä¹ˆè§£é‡Šä¸æ¸…æ¥šã€‚ã€‚)\n* é‚£ä¹ˆç”±å‰ä¸¤ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¹ä¸­é—´çš„åˆ¤æ–­æ¡ä»¶å³å¯ã€‚\n* æ³¨æ„å‡åºå¯¹åº”>=xå’Œ>xï¼Œæ— <=xå’Œ < xã€‚å› ä¸ºå‡åºå¯¼è‡´äº†åªèƒ½æ˜¯>å·\n\n* ä¸€äº›æ¨¡æ¿ï¼š\n\n* å‡åºæ’åºä¸‹ï¼š\n* æ‰¾ç¬¬ä¸€ä¸ª>=xçš„æ•°\n```cpp\nl=0,r=v.size();\nwhile(l<r){\n    ll mid=(l+r)>>1;\n    if(v[mid]<x)  l=mid+1;\n    else  r=mid;\n}\n```\n\n* æ‰¾ç¬¬ä¸€ä¸ª>xçš„æ•°\n```cpp\nl=0,r=v.size();\nwhile(l<r){\n    ll mid=(l+r)>>1;\n    if(v[mid]<=x)  l=mid+1;\n    else  r=mid;\n}\n```\n\n* é™åºæ’åºä¸‹ï¼š\n* æ‰¾ç¬¬ä¸€ä¸ª<=xçš„æ•°\n```cpp\nl=0,r=v.size();\nwhile(l<r){\n    ll mid=(l+r)>>1;\n    if(v[mid]>x)  l=mid+1;\n    else  r=mid;\n}\n```\n\n* æ‰¾ç¬¬ä¸€ä¸ª< xçš„æ•°\n```cpp\nl=0,r=v.size();\nwhile(l<r){\n    ll mid=(l+r)>>1;\n    if(v[mid]>=x)  l=mid+1;\n    else  r=mid;\n}\n```\n\n# 4â­äºŒåˆ†å¥½é¢˜-æ‰å®çš„STL\n[Monopoly HDU - 7130 ](https://vjudge.net/problem/HDU-7130)\né¢˜æ„ï¼šç”±n<1e5ä¸ªæ•°æ’åˆ—æˆä¸€ä¸ªåœ†ï¼Œä¸€åªçŒ´å­ä»ç¬¬ä¸€ä¸ªæ•°å¼€å§‹ï¼Œæ¯èµ°ä¸€æ­¥åˆ™å¾—åˆ°è¯¥æ•°çš„å€¼ã€‚æœ‰m<1e5æ¬¡è¯¢é—®ï¼Œé—®å¾—åˆ°xæœ€å°‘éœ€è¦å¤šå°‘æ­¥\n\né¢˜è§£ï¼š\n![](/uploads/äºŒåˆ†/2021-10-12-21-10-06.png)\n\né¢˜è§£è¯´å¯ä»¥ç”¨setå†™ï¼Œä½†æ˜¯ä¼°è®¡æ˜¯æ¯æ¬¡setæ’å…¥çš„æ—¶å€™éƒ½è¦ä¿è¯æœ‰åºï¼Œæ¯”è¾ƒè€—æ—¶ï¼Œå¯¼è‡´täº†ï¼Œäºæ˜¯æˆ‘ç”¨äº†map< ll,vector< P > >ï¼Œå…¨æ’å…¥å®Œä¹‹åå†æ’ä¸ªåºï¼Œå°±å¿«å¾ˆå¤šã€‚\n\nè¸©å‘ï¼š\n1.re:å› ä¸ºå‘¨æœŸtå¯èƒ½å¾ˆå¤§ï¼Œå¼€å§‹ç”¨çš„set,set[ x%t ]å°±reäº†\n2.wa:è´Ÿæ•°å–æ¨¡ä¸€å®šè¦å–æ¨¡åå†åŠ ä¸Šæ¨¡æ•°,ç›´æ¥å–æ¨¡å†absæ˜¯é”™çš„ã€‚\n\n```cpp\n//set<ll> se[maxn];//è¿™é‡Œtå¾ˆå¤§reäº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚\n#include<iostream>\n#include<algorithm>\n#include<map>\n#include<vector>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=1e5+11;\n\nll sum[maxn],ar[maxn];\nll n,t,m;\n\nmap<ll,vector<P>> mp;\nbool cmp(P a,P b){\n    if(a.first!=b.first)  return a.first<b.first;\n    return a.second>b.second;\n}\nvoid solve(ll x){\n    ll b=abs((x%t+abs(t))%t);\n    ll l=0,r=mp[b].size();\n    while(l<r){\n        ll mid=(l+r)>>1;\n        if(mp[b][mid].first<=x)  l=mid+1;\n        else  r=mid;\n    }\n    if(l==0){\n        cout<<-1<<endl;return ;\n    }\n    l--;\n    ll u=mp[b][l].first,v=mp[b][l].second;\n    cout<<(x-u)/(abs(t))*n+v<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;\n    while(ca--){\n        mp.clear();\n        ll q;cin>>n>>q;\n        for(ll i=1;i<=n;i++)  cin>>ar[i];\n        sum[0]=0;\n        for(ll i=1;i<=n;i++)  sum[i]=sum[i-1]+ar[i];\n        t=sum[n];\n        if(t==0){\n            for(ll i=0;i<=n;i++){\n                if(mp.count(sum[i]))  continue;\n                mp[sum[i]].push_back({sum[i],i});\n            }\n            for(ll i=1;i<=q;i++){\n                ll x;cin>>x;\n                if(mp.count(x))  cout<<mp[x][0].second<<endl;\n                else  cout<<-1<<endl;\n            }\n            continue;\n        }\n        if(t<0){\n            for(ll i=0;i<=n;i++)  sum[i]=-sum[i];\n        }\n        for(ll i=0;i<=n;i++){\n            ll x=abs((sum[i]%t+abs(t))%t);//å¤„ç†ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼ä¸èƒ½ç›´æ¥%tå°±å®Œäº‹äº†\n            mp[x].push_back({sum[i],i});\n        }\n        for(auto i=mp.begin();i!=mp.end();i++){\n            sort(i->second.begin(),i->second.end(),cmp);\n        }\n        for(ll i=1;i<=q;i++){\n            ll x;cin>>x;\n            if(t<0)  x=-x;\n            solve(x);\n        }\n    }\n    return 0;\n}\n```","tags":["åŸºæœ¬ç®—æ³•"]},{"title":"æ ‘çš„ç›´å¾„","url":"/2021/10/04/æ ‘çš„ç›´å¾„/","content":"\nä¸¤æ¬¡dfs/bfs æ ‘å½¢dp\n\n<!--more-->\n\n# æ ‘çš„ç›´å¾„\n\n[Roads in the North ](https://vjudge.net/problem/POJ-2631)\næ¨¡æ¿\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-10-08 11:23:22\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-08 12:29:44\n*/\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,w,next;\n}edge[maxn];\nll head[maxn],d[maxn],tmp=1,num,zj;\nvoid add(ll u,ll v,ll w){\n    edge[tmp]={v,w};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid dfsf(ll x,ll fa){\n    if(d[x]>zj){\n        zj=d[x];\n        num=x;\n    }\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(y==fa)continue;\n        d[y]=d[x]+edge[i].w;\n        dfsf(y,x);\n    }\n}\nvoid dfss(ll x,ll fa){\n    if(d[x]>zj){\n        zj=d[x];\n        num=x;\n    }\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(y==fa)continue;\n        d[y]=d[x]+edge[i].w;\n        dfss(y,x);\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll u,v,w;\n    while(cin>>u>>v>>w){\n        add(u,v,w);add(v,u,w);\n    }\n    zj=0;\n    dfsf(1,0);\n    memset(d,0,sizeof(d));\n    dfss(num,0);\n    cout<<zj<<endl;\n    return 0;\n}\n```\n\n# çµæ´»è¿ç”¨+æ€ç»´\n[P5536 ã€XR-3ã€‘æ ¸å¿ƒåŸå¸‚](https://www.luogu.com.cn/problem/P5536)\n\n[é¢˜è§£](https://www.luogu.com.cn/problem/solution/P5536)\n* å¸¸è§„æ€è·¯-æ ‘çš„ç›´å¾„\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n#define N 100010\nint n,k,zj,num,ans_k;\nint cut,head[N],ver[2*N],next[2*N];\nint deep[N],f[N],maxdeep[N],ans[N];\nbool cmp(int a,int b){\n    return a>b;\n}\nvoid add(int x,int y){\n    ver[++cut]=y;next[cut]=head[x];head[x]=cut;\n}\n//æ±‚ç›´å¾„\nvoid dfs1(int x,int fa){\n    if(deep[x]>zj){\n        zj=deep[x];\n        num=x;\n    }\n    for(int i=head[x];i;i=next[i]){\n        int y=ver[i];\n        if(y==fa)continue;\n        deep[y]=deep[x]+1;\n        dfs1(y,x);\n    }\n}\nvoid dfs2(int x,int fa){\n    if(deep[x]>zj){\n        zj=deep[x];\n        num=x;\n    }\n    for(int i=head[x];i;i=next[i]){\n        int y=ver[i];\n        if(y==fa)continue;\n        deep[y]=deep[x]+1;\n        f[y]=x;\n        dfs2(y,x);\n    }\n}\n//\nvoid dfs_k(int x,int fa){\n    maxdeep[x]=deep[x];\n    for(int i=head[x];i;i=next[i]){\n        int y=ver[i];\n        if(y==fa)continue;\n        deep[y]=deep[x]+1;\n        dfs_k(y,x);\n        maxdeep[x]=max(maxdeep[x],maxdeep[y]);\n    }\n}\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    for(int i=1;i<n;++i){\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        add(x,y);\n        add(y,x);\n    }\n    //ç›´å¾„\n    dfs1(1,0);\n    memset(deep,0,sizeof(deep));\n    zj=0;\n    dfs2(num,0);\n    //\n    int kkk=num;\n    //æ‰¾ç›´å¾„çš„ä¸­ç‚¹\n    for(int i=1;i<=(deep[num]+1)/2;++i)kkk=f[kkk];\n    memset(deep,0,sizeof(deep));\n    //å†æœä¸€æ¬¡\n    dfs_k(kkk,0);\n    for(int i=1;i<=n;++i)ans[i]=maxdeep[i]-deep[i];\n    sort(ans+1,ans+n+1,cmp);\n    //QwQç»“åˆå›¾ç‰‡ä¸éš¾æƒ³\n    for(int i=k+1;i<=n;++i)ans_k=max(ans_k,ans[i]+1);\n    printf(\"%d\\n\",ans_k);\n    return 0;\n}\n```\n\n* é€†å‘æ€ç»´\n[è½¬è½½](https://www.luogu.com.cn/blog/zcmimi/solution-p5536)\næˆ‘ä»¬å¯ä»¥è€ƒè™‘æ”¾n-kä¸ªèŠ‚ç‚¹ç„¶åä½¿æ·±åº¦æœ€å¤§çš„æœ€å°\n\nä¸€å¼€å§‹çš„æ—¶å€™å¯ä»¥åè¿‡æ¥æƒ³ï¼šæ ‘é‡Œé¢é•¿åº¦æœ€å¤§çš„è·¯å¾„å°±æ˜¯æ ‘çš„ç›´å¾„ï¼Œå®ƒçš„ä¸¤ä¸ªç«¯ç‚¹çš„åº¦éƒ½æ˜¯1ï¼ˆä¹Ÿå°±æ˜¯å¶å­èŠ‚ç‚¹ï¼‰\n\næˆ‘ä»¬å¯ä»¥ä»æ¯ä¸ªå¶å­ç»“ç‚¹å¼€å§‹ï¼Œå‘ä¸­å¿ƒåŒ…å›´ã€‚å¯ä»¥ç”¨é˜Ÿåˆ—çš„æ–¹å¼å®ç°ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 17:51:27\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn];\nll head[maxn],c[maxn],d[maxn],n,k,tmp=1;\nqueue<ll> q;\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n>>k;\n    for(ll i=1,u,v;i<=n-1;i++){\n        cin>>u>>v;\n        add(u,v);add(v,u);c[u]++;c[v]++;\n    }\n    for(ll i=1;i<=n;i++)  if(c[i]==1)  {\n        q.push(i);d[i]=1;\n    }\n    ll cnt=n-k;\n    while(1){\n        ll x=q.front();q.pop();\n        if(--cnt==0){\n            cout<<d[x]<<endl;\n            return 0;\n        }\n        for(ll i=head[x];i;i=edge[i].next){\n            ll v=edge[i].to;c[v]--;\n            if(c[v]==1){\n                q.push(v);d[v]=d[x]+1;\n            }\n        }\n    }\n    return 0;\n}\n```","tags":["å›¾è®º"]},{"title":"tarjan","url":"/2021/10/04/tarjan/","content":"\nå“¦ï¼Œæ˜¯tarjanã€‚\n\n<!--more-->\n\n# é¢˜å•\n- [ ] [å›¾è®ºç»¼åˆæ€§å¾ˆå¼ºçš„ä¸€é“å¥½é¢˜](https://vjudge.net/problem/POJ-2942)\n- [ ] [ç¼©ç‚¹](https://www.luogu.com.cn/problem/P3387)\n# æ— å‘å›¾\n\n## å‰²è¾¹åˆ¤å®š\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:13:27\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn];\nll head[maxn],dfn[maxn],low[maxn],tmp,cnt,n,m;\nbool bridge[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid tarjan(ll x,ll faedge){\n    dfn[x]=low[x]=cnt++;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y,i);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<low[y]){\n                bridge[i]=bridge[i^1]=true;\n            }\n        }\n        else if(i != (faedge ^ 1)){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp = 2;cnt=1;\n    for (ll i = 1; i <= m; i++) {\n        ll x, y;cin>>x>>y;\n        add(x, y), add(y, x);\n    }\n    for (ll i = 1; i <= n; i++)\n        if (!dfn[i]) tarjan(i, 0);\n    for (ll i = 2; i < tmp; i += 2)\n        if (bridge[i])\n            cout<<edge[i^1].to<<\" \"<<edge[i].to<<endl;\n    return 0;\n}\n```\n\n## å‰²ç‚¹åˆ¤å®š\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-03 20:31:46\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn];\nll head[maxn],dfn[maxn],low[maxn],tmp,cnt,n,m,root;\nvector<ll> v;\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid tarjan(ll x){\n    dfn[x]=low[x]=cnt++;\n    ll flag=0;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<=low[y]){\n                flag++;\n                if(x!=root || flag>=2)  v.push_back(x);\n            }  \n        }\n        else  low[x]=min(low[x],dfn[y]);\n    }\n}\nvoid solve(){\n    for(ll i=1;i<=n;i++){\n        if(!dfn[i])  {root=i;tarjan(i);}\n    }\n    sort(v.begin(),v.end());\n    auto en=unique(v.begin(),v.end());\n    cout<<en-v.begin()<<endl;\n    for(auto i=v.begin();i!=en;i++)  cout<<*i<<\" \";\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n>>m;\n    tmp=1;cnt=1;\n    for(ll i=1,x,y;i<=m;i++){\n        cin>>x>>y;\n        if(x==y)  continue;\n        add(x,y);\n    }\n    solve();\n    return 0;\n}\n```\n## è¾¹åŒè¿é€šåˆ†é‡e-dcc\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:27:08\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn];\nll head[maxn],dfn[maxn],low[maxn],c[maxn],dcc,tmp,cnt,n,m;\nbool bridge[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid tarjan(ll x,ll faedge){\n    dfn[x]=low[x]=cnt++;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y,i);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<low[y]){\n                bridge[i]=bridge[i^1]=true;\n            }\n        }\n        else if(i != (faedge ^ 1)){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n}\nvoid dfs(ll x){\n    c[x]=dcc;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(c[y] || bridge[i])  continue;\n        dfs(y);\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp = 2;cnt=1;dcc=1;\n    for (ll i = 1; i <= m; i++) {\n        ll x, y;cin>>x>>y;\n        add(x, y), add(y, x);\n    }\n    for (ll i = 1; i <= n; i++)\n        if (!dfn[i]) tarjan(i, 0);\n    for (ll i = 2; i < tmp; i += 2)//è¾“å‡ºæ¡¥\n        if (bridge[i])\n            cout<<edge[i^1].to<<\" \"<<edge[i].to<<endl;\n    for(ll i=1;i<=n;i++){\n        if(!c[i]){\n            dfs(i);\n            dcc++;\n        }\n    }\n    Debug(dcc-1);\n    for(ll i=1;i<=n;i++)  cout<<i<<\"belongs to DCC \"<<c[i]<<endl;\n    return 0;\n}\n```\n\n## è¾¹åŒè¿é€šåˆ†é‡e-dccç¼©ç‚¹\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:29:13\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll fr,to,next;\n}edge[maxn],edgesk[maxn];//shrink\nll head[maxn],headsk[maxn],dfn[maxn],low[maxn],c[maxn],dcc,tmp,tmpsk,cnt,n,m;\nbool bridge[maxn];\nvoid add(ll u,ll v){\n    edge[tmp]={u,v};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid addsk(ll u,ll v){\n    edgesk[tmpsk]={u,v};edgesk[tmpsk].next=headsk[u];\n    headsk[u]=tmpsk++;\n}\nvoid tarjan(ll x,ll faedge){\n    dfn[x]=low[x]=cnt++;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y,i);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<low[y]){\n                bridge[i]=bridge[i^1]=true;\n            }\n        }\n        else if(i != (faedge ^ 1)){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n}\nvoid dfs(ll x){\n    c[x]=dcc;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(c[y] || bridge[i])  continue;\n        dfs(y);\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp=tmpsk=2;cnt=1;dcc=1;\n    for (ll i = 1; i <= m; i++) {\n        ll x, y;cin>>x>>y;\n        add(x, y), add(y, x);\n    }\n    for (ll i = 1; i <= n; i++)\n        if (!dfn[i]) tarjan(i, 0);\n    for (ll i = 2; i < tmp; i += 2)//è¾“å‡ºæ¡¥\n        if (bridge[i])\n            cout<<edge[i^1].to<<\" \"<<edge[i].to<<endl;\n    for(ll i=1;i<=n;i++){\n        if(!c[i]){\n            dfs(i);\n            dcc++;\n        }\n    }\n    Debug(dcc-1);\n    for(ll i=1;i<=n;i++)  cout<<i<<\" belongs to DCC \"<<c[i]<<endl;\n    for(ll i=2;i<tmp;i++){\n        ll u=edge[i].fr,v=edge[i].to;\n        if(c[u]==c[v])  continue;\n        addsk(c[u],c[v]);//æ— å‘å›¾\n    }\n    return 0;\n}\n```\n\n## ç‚¹åŒè¿é€šåˆ†é‡v-dcc\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:37:07\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn]; \nll head[maxn],dfn[maxn],low[maxn],st[maxn],tmp,cnt,num,n,m,root,top;\nvector<ll> dcc[maxn];\nbool cut[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid tarjan(ll x){\n    dfn[x]=low[x]=cnt++;\n    st[top++]=x;\n    if(x==root && head[x]==0){\n        dcc[num++].push_back(x);return ;\n    }\n    ll flag=0;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<=low[y]){\n                flag++;\n                if(x!=root || flag>=2)  cut[x]=true;\n                ll z;\n                do{\n                    z=st[--top];\n                    dcc[num].push_back(z);\n                }while(z!=y);\n                dcc[num++].push_back(x);\n            }  \n        }\n        else  low[x]=min(low[x],dfn[y]);\n    }\n}\nvoid solve(){\n    for(ll i=1;i<=n;i++){\n        if(!dfn[i])  {root=i;tarjan(i);}\n    }\n    for(ll i=1;i<num;i++){\n        for(auto j=dcc[i].begin();j!=dcc[i].end();j++)  cout<<*j<<\" \";\n        cout<<endl;\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n>>m;\n    tmp=1;cnt=1;num=1;top=1;\n    for(ll i=1,x,y;i<=m;i++){\n        cin>>x>>y;\n        if(x==y)  continue;\n        add(x,y);add(y,x);\n    }\n    solve();\n    return 0;\n}\n```\n\n## ç‚¹åŒè¿é€šåˆ†é‡v-dccç¼©ç‚¹\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:48:07\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn],edgesk[maxn]; \nll head[maxn],headsk[maxn],dfn[maxn],low[maxn],st[maxn],c[maxn],n_id[maxn];\nll tmp,tmpsk,cnt,num,n,m,root,top;\nvector<ll> dcc[maxn];\nbool cut[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid addsk(ll u,ll v){\n    edgesk[tmpsk].to=v;edgesk[tmpsk].next=headsk[u];\n    headsk[u]=tmpsk++;\n}\nvoid tarjan(ll x){\n    dfn[x]=low[x]=cnt++;\n    st[top++]=x;\n    if(x==root && head[x]==0){\n        dcc[num++].push_back(x);return ;\n    }\n    ll flag=0;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y);\n            low[x]=min(low[x],low[y]);\n            if(dfn[x]<=low[y]){\n                flag++;\n                if(x!=root || flag>=2)  cut[x]=true;\n                ll z;\n                do{\n                    z=st[--top];\n                    dcc[num].push_back(z);\n                }while(z!=y);\n                dcc[num++].push_back(x);\n            }  \n        }\n        else  low[x]=min(low[x],dfn[y]);\n    }\n}\nvoid solve(){\n    for(ll i=1;i<=n;i++){\n        if(!dfn[i])  {root=i;tarjan(i);}\n    }\n    for(ll i=1;i<num;i++){\n        for(auto j=dcc[i].begin();j!=dcc[i].end();j++)  cout<<*j<<\" \";\n        cout<<endl;\n    }\n    cnt=num;\n    for(ll i=1;i<=n;i++)  if(cut[i]) n_id[i]=cnt++;\n    tmpsk=1;\n    for(ll i=1;i<num;i++){\n        for(auto j=dcc[i].begin();j!=dcc[i].end();j++){\n            ll x=*j;\n            if(cut[x]){\n                addsk(i,n_id[x]);addsk(n_id[x],i);\n            }\n            else c[x]=i;\n        }\n    }\n    Debug(cnt);Debug(tmpsk/2);\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n>>m;\n    tmp=1;cnt=1;num=1;top=1;\n    for(ll i=1,x,y;i<=m;i++){\n        cin>>x>>y;\n        if(x==y)  continue;\n        add(x,y);add(y,x);\n    }\n    solve();\n    return 0;\n}\n```\n\n## æ±‚ç¯(æ¯æ¡è¾¹è‡³å¤šè¢«ä¸€ä¸ªç¯åŒ…å›´)\n\nè¿™ä¸ªæ±‚ç¯å¯ä»¥ç”¨ç‚¹åŒè¿é€šåˆ†é‡å†™\nä¹Ÿå¯ä»¥å…ˆè·‘ä¸ªæ ‘å‡ºæ¥ï¼ŒåŒæ—¶**æ ‡è®°æ¯ä¸ªç‚¹çš„æ·±åº¦,æ³¨æ„ä¸æ˜¯dfsåºï¼ï¼ï¼**ï¼Œï¼ˆè€ƒè™‘ä¸€ä¸ªç¯å¤–å»¶ä¼¸å‡ºä¸€ä¸ªç‚¹çš„æƒ…å†µï¼‰,ç„¶åå†åŠ ä¸Šéæ ‘çš„è¾¹æ„æˆç¯ï¼Œç¯çš„è¾¹æ•°å°±æ˜¯ä¸¤ç‚¹æ·±åº¦ä¹‹å·®+1ã€‚\n\n[Forest Program](https://codeforces.com/gym/102361/problem/F)\n\n[é¢˜è§£](https://blog.csdn.net/jk_chen_acmer/article/details/101630989)\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-07 21:39:12\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e6+11;\nconst ll mod=998244353;\nstruct Edge{\n    ll fr,to,next;\n}edge[maxn];\nll head[maxn],dfn[maxn],vis[maxn],qp2[maxn],tmp=2,cnt=1,m;\nvoid add(ll u,ll v){\n    edge[tmp]={u,v};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid dfs(ll u){\n    for(ll i=head[u];i;i=edge[i].next){\n        ll v=edge[i].to;\n        if(!dfn[v]){\n            dfn[v]=dfn[u]+1;\n            vis[i]=vis[i^1]=1;dfs(v);\n        }\n    }\n}\nvoid solve(){\n    ll l=0,ans=1;\n    for(ll i=2;i<tmp;i+=2){\n        if(!vis[i]){\n            ll u=edge[i].fr,v=edge[i].to;\n            ll t=abs(dfn[u]-dfn[v])+1;\n            l+=t;\n            ans=ans*(qp2[t]-1)%mod;\n        }\n    }\n    ans=ans*qp2[tmp/2-1-l]%mod;\n    cout<<ans<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    qp2[0]=1;\n    for(ll i=1;i<maxn;i++)  qp2[i]=qp2[i-1]*2%mod;\n    ll n;cin>>n>>m; \n    for(ll i=1;i<=m;i++){\n        ll u,v;cin>>u>>v;\n        add(u,v);add(v,u);\n    }\n    for(ll i=1;i<=n;i++){\n        if(!dfn[i])  dfn[i]=1,dfs(i);\n    }\n    solve();\n    return 0;\n}\n\n```\n\n## ç¼©ç‚¹æ ‘åº¦æ•°\n[Road Construction](https://vjudge.net/problem/POJ-3352)\n\né¢˜æ„ï¼šæ±‚ç¼©ç‚¹æ ‘ä¸­åº¦æ•°ä¸º1çš„ä¸ªæ•°\n\nè¿™ä¸ªæœ‰å‡ ç§å†™æ³•ï¼š\n\n1.\n```cpp\nfor(ll i=1;i<=n;i++){\n    for(ll j=head[i];j;j=edge[j].next){\n        if(low[i]!=low[edge[j].to]){\n            re[low[i]]++;\n        }\n    }\n}\n```\n\nè¿™ç§å†™æ³•ï¼Œåªèƒ½ç”¨æ¥æ±‚åº¦æ•°ä¸º1çš„ç‚¹ä¸ªæ•°ï¼Œåº¦æ•°ä¸ºå…¶ä»–ä¸èƒ½æ±‚ï¼Œ**å› ä¸ºåŒä¸€ä¸ªè¾¹è¿é€šåˆ†é‡çš„lowå€¼ä¸ä¸€å®šä¸€æ ·**ã€‚\n\n2.\n```cpp\nfor(ll i=2;i<tmp;i++){\n    if(bridge[i]){\n        ll v=edge[i].to;\n        re[c[v]]++;\n    }\n}\n```\n\nè¿™ç§å†™æ³•ï¼Œå°±æ˜¯æŠŠå®ƒçš„ç¼©ç‚¹çš„å—æ ‡å·ï¼Œæ¥æ±‚æ¯ä¸ªç¼©ç‚¹çš„åº¦æ•°ï¼Œæ˜¯æœ€ç¨³çš„ã€‚\n\nä¸€ä¸ªé”™è¯¯å†™æ³•ï¼š\n\n3.\n```cpp\nfor(ll i=2;i<tmp;i++){\n    if(bridge[i]){\n        ll v=edge[i].to;\n        re[low[v]]++;\n    }\n}\n```\n\nå› ä¸ºåŒä¸€ä¸ªè¾¹è¿é€šåˆ†é‡çš„lowå€¼ä¸ä¸€å®šæ˜¯ä¸€æ ·çš„\n\n## ç¼©ç‚¹æ‰€è¿æ¥çš„è¿é€šå—ä¸ªæ•°\n\n[ Electricity(POJ2117)](https://vjudge.net/problem/POJ-2117)\n\né¢˜æ„ï¼šä¸€å¼ å›¾ï¼Œä¸ä¸€å®šè¿é€šã€‚é—®ï¼Œåˆ å»ä¸€ä¸ªç‚¹ï¼Œæœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªè¿é€šå—ã€‚\n\né¢˜è§£ï¼šæ‰¾å‰²ç‚¹ï¼Œç­”æ¡ˆæ˜¯ä¸€å¼€å§‹è¿é€šåˆ†é‡ä¸ªæ•°+å‰²ç‚¹å¯äº§ç”Ÿçš„æœ€å¤šè¿é€šåˆ†é‡çš„ä¸ªæ•°ã€‚\n\næ³¨æ„m==0çš„æƒ…å†µï¼Œå› ä¸ºå¿…é¡»è¦åˆ é™¤ä¸€ä¸ªç‚¹ï¼Œæ‰€ä»¥è¾“å‡ºn-1ã€‚\n\n**æ ¸å¿ƒä»£ç ï¼šif(u!=root || flag>=2)  cut[u]++;**\n\næœ€ç»ˆç¼©ç‚¹uæ‰€è¿æ¥çš„è¿é€šå—ä¸ªæ•°ä¸ºcut[u]+1ã€‚å› ä¸ºæœ€å¼€å§‹dfsåˆ°uçš„é‚£æ¡è¾¹ï¼Œæ²¡æœ‰è¢«ç»Ÿè®¡åˆ°\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:37\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-15 15:29:14\n*/\n#include<iostream>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e4+11;\nconst ll maxm=1e6+11;\nll to[maxm],nex[maxm],head[maxn],dfn[maxn],low[maxn],cut[maxn];\nll tmp,cnt,root,n,m;\nvoid init(){\n    memset(head,0,sizeof(head));memset(dfn,0,sizeof(dfn));\n    memset(cut,0,sizeof(cut));\n    tmp=2,cnt=1;\n}\nvoid add(ll u,ll v){\n    to[tmp]=v;nex[tmp]=head[u];head[u]=tmp++;\n}\nvoid tarjan(ll u){\n    dfn[u]=low[u]=cnt++;\n    ll flag=0;\n    for(ll i=head[u];i;i=nex[i]){\n        ll v=to[i];\n        if(!dfn[v]){\n            tarjan(v);\n            low[u]=min(low[u],low[v]);\n            if(dfn[u]<=low[v]){\n                flag++;\n                if(u!=root || flag>=2)  cut[u]++;\n            }\n        }\n        else  low[u]=min(low[u],dfn[v]);\n    }\n}\nvoid solve(){\n    ll ansf=0,anss=0;\n    for(ll i=0;i<n;i++){\n        if(!dfn[i]){\n            ansf++;root=i;tarjan(i);\n        }\n    }\n    for(ll i=0;i<n;i++)  anss=max(anss,cut[i]);\n    if(anss==0){\n        if(m==0){\n            cout<<ansf-1<<endl;return ;\n        }\n        else{\n            cout<<ansf<<endl;return ;\n        }\n    }\n    cout<<ansf+anss<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    while(cin>>n>>m && (n||m)){\n        //Debug(n);Debug(m);\n        init();\n        for(ll i=1;i<=m;i++){\n            ll u,v;cin>>u>>v;\n            add(u,v);add(v,u);\n        }\n        solve();\n    }\n    return 0;\n}\n\n```\n\n# æœ‰å‘å›¾\n\n## å¼ºè¿é€šåˆ†é‡\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:02:53\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn];\nll head[maxn],dfn[maxn],low[maxn],c[maxn],st[maxn],ins[maxn];\nll tmp,top,cnt,num,n,m;\nvector<ll> scc[maxn];\nbool bridge[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid tarjan(ll x){\n    dfn[x]=low[x]=cnt++;\n    st[top++]=x;ins[x]=1;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y);\n            low[x]=min(low[x],low[y]);\n        }\n        else if(ins[x]){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n    if(dfn[x]==low[x]){\n        num++;ll y;\n        do{\n            y=st[--top],ins[y]=0;\n            c[y]=num;scc[num].push_back(y);\n        }while(x!=y);\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp = 2;cnt=1;num=0;top=1;\n    for (int i = 1; i <= m; i++) {\n        int x, y;cin>>x>>y;\n        add(x, y);\n    }\n    for(int i=1;i<=n;i++){\n        if(!dfn[i])  tarjan(i);\n    }\n    for(ll i=1;i<=num;i++){\n        for(auto j=scc[i].begin();j!=scc[i].end();j++)  cout<<*j<<\" \";\n        cout<<endl;\n    }\n    return 0;\n}\n```\n\n## å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-04 14:54:56\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll to,next;\n}edge[maxn],edgesk[maxn];\nll head[maxn],headsk[maxn],dfn[maxn],low[maxn],c[maxn],st[maxn],ins[maxn];\nll tmp,tmpsk,top,cnt,num,n,m;\nvector<ll> scc[maxn];\nbool bridge[maxn];\nvoid add(ll u,ll v){\n    edge[tmp].to=v;edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid addsk(ll u,ll v){\n    edgesk[tmpsk].to=v;edgesk[tmpsk].next=headsk[u];\n    headsk[u]=tmpsk++;\n}\nvoid tarjan(ll x){\n    dfn[x]=low[x]=cnt++;\n    st[top++]=x;ins[x]=1;\n    for(ll i=head[x];i;i=edge[i].next){\n        ll y=edge[i].to;\n        if(!dfn[y]){\n            tarjan(y);\n            low[x]=min(low[x],low[y]);\n        }\n        else if(ins[x]){\n            low[x]=min(low[x],dfn[y]);\n        }\n    }\n    if(dfn[x]==low[x]){\n        num++;ll y;\n        do{\n            y=st[--top],ins[y]=0;\n            c[y]=num;scc[num].push_back(y);\n        }while(x!=y);\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    tmp = 2;cnt=1;num=0;top=1;\n    for (int i = 1; i <= m; i++) {\n        int x, y;cin>>x>>y;\n        add(x, y);\n    }\n    for(int i=1;i<=n;i++){\n        if(!dfn[i])  tarjan(i);\n    }\n    for(ll i=1;i<=num;i++){\n        for(auto j=scc[i].begin();j!=scc[i].end();j++)  cout<<*j<<\" \";\n        cout<<endl;\n    }\n    tmpsk=1;\n    for(ll x=1;x<=n;x++){\n        for(ll i=head[x];i;i=edge[i].next){\n            ll y=edge[i].to;\n            if(c[x]==c[y])  continue;\n            addsk(c[x],c[y]);\n        }\n    }\n    return 0;\n}\n```\n\n## å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹åŸºç¡€é¢˜\n\n[Summer Holiday HDU - 1827](https://vjudge.net/problem/HDU-1827)\n\n```cpp\n//1827!!!!!!!!!!!!!!!!\n//æ£€æŸ¥ä¸‹æœ€å°èŠ±è´¹\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:37\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-14 14:18:22\n*/\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e3+11;\nll fr[maxn],to[maxn],nex[maxn],head[maxn];\nll st[maxn],in[maxn],dfn[maxn],low[maxn],c[maxn],dr[maxn],val[maxn],w[maxn];\nll tmp,cnt,top,num,n,m;\nvoid add(ll u,ll v){\n    fr[tmp]=u;to[tmp]=v;nex[tmp]=head[u];head[u]=tmp++;\n}\nvoid tarjan(ll u){\n    dfn[u]=low[u]=cnt++;in[u]=1;st[top++]=u;\n    for(ll i=head[u];i;i=nex[i]){\n        ll v=to[i];\n        if(!dfn[v]){\n            tarjan(v);\n            low[u]=min(low[u],low[v]);\n        }\n        else if(in[v])  low[u]=min(low[u],dfn[v]);\n    }\n    if(low[u]==dfn[u]){\n        num++;ll v;\n        do{\n            v=st[--top];in[v]=0;\n            c[v]=num;w[num]=min(w[num],val[v]);\n        }while(u!=v);\n    }\n}\nvoid solve(){\n    for(ll i=1;i<=n;i++){\n        if(!dfn[i])  tarjan(i);\n    }\n    for(ll i=1;i<tmp;i++){\n        ll u=fr[i],v=to[i];\n        if(c[u]==c[v])  continue;\n        dr[c[v]]++;\n    }\n    ll ans1=0,ans2=0;\n    for(ll i=1;i<=num;i++){\n        if(dr[i]==0){\n            ans1++;\n            ans2+=w[i];\n        }\n    }\n    cout<<ans1<<\" \"<<ans2<<endl;\n}\nvoid init(){\n    memset(head,0,sizeof(head));memset(dfn,0,sizeof(dfn));\n    memset(c,0,sizeof(c));memset(dr,0,sizeof(dr));\n    memset(w,0x3f,sizeof(w));\n    tmp=cnt=1;num=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    while(cin>>n>>m){\n        init();\n        for(ll i=1;i<=n;i++)  cin>>val[i];\n        for(ll i=1;i<=m;i++){\n            ll u,v;cin>>u>>v;add(u,v);\n        }\n        solve();\n    }\n    return 0;\n}\n\n```\n\n## å»ºå¼ºè¿é€šå›¾-å·§å†™dfsåº\n\nè¿™é“é¢˜ä¸æ±‚ç¯é‚£é“é¢˜æœ‰ç‚¹ç±»ä¼¼ï¼Œéƒ½éœ€è¦ç”¨åˆ°dfsåº,ä¸è¿‡è¿™é“é¢˜ä»£ç å†™æ³•è¿˜æ˜¯æŒºå·§å¦™çš„ã€‚\n\n[Street Directions(POJ1515)](https://vjudge.net/problem/POJ-1515)\n\né¢˜æ„ï¼šä¸€ä¸ªæ— å‘è¿é€šå›¾ï¼Œæœ€å¤šèƒ½æŠŠå¤šå°‘æ¡è¾¹æ”¹ä¸ºæœ‰å‘è¾¹ï¼Œä½¿å¾—å‰©ä¸‹çš„å›¾ä»ç„¶æ˜¯ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ã€‚è¾“å‡ºå‰©ä¸‹çš„è¾¹ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\nå‰©ä¸‹çš„æ— å‘è¾¹å¿…æ˜¯å‰²è¾¹ï¼Œå‰©ä¸‹é‚£äº›è¾¹ï¼Œä¼šåœ¨æŸä¸ªè¾¹è¿é€šåˆ†é‡ï¼Œæ¯ä¸ªè¾¹è¿é€šåˆ†é‡é‡Œçš„è¾¹éƒ½å¯ä»¥æ˜¯æœ‰å‘è¾¹ï¼Œä»ç„¶èƒ½äº’ç›¸åˆ°è¾¾ï¼Œæ‰€ä»¥tarjanæ‰¾åˆ°æ‰€æœ‰å‰²è¾¹ï¼Œdfsçš„é¡ºåºå°±ä½œä¸ºæœ‰å‘è¾¹çš„æ–¹å‘å³å¯ã€‚\n\n  </code></pre>\n</details>\n\n* æ™®é€šdfsåº\n\nè¿™ä¸ªæ˜¯ä»¥dfsåºå·ä½œä¸ºåˆ¤æ–­ï¼Œæ ‘ä¸Šçš„è¾¹æ˜¯dfsåºå°å‘dfsåºå¤§å»ºè¾¹ï¼Œéæ ‘ä¸Šçš„è¾¹æ˜¯dfsåºå¤§å‘dfsåºå°å»ºè¾¹\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:37\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-15 11:51:50\n*/\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e3+11;\nconst ll maxm=2e6+11;\nll to[maxm],nex[maxm],head[maxn],dfn[maxn],low[maxn],d[maxn];\nll n,m,cnt,num,tmp;\nbool bridge[maxm],t[maxm];\nvoid add(ll u,ll v){\n    to[tmp]=v;nex[tmp]=head[u];head[u]=tmp++;\n}\nvoid tarjan(ll u,ll fue){\n    dfn[u]=low[u]=cnt++;\n    for(ll i=head[u];i;i=nex[i]){\n        ll v=to[i];\n        if(!dfn[v]){\n            tarjan(v,i);\n            low[u]=min(low[u],low[v]);\n            if(dfn[u]<low[v])  bridge[i]=bridge[i^1]=true;\n        }\n        else if(i!=(fue^1))  low[u]=min(low[u],dfn[v]);\n    }\n}\nvoid dfs(ll u){\n    d[u]=num++;\n    for(ll i=head[u];i;i=nex[i]){\n        ll v=to[i];\n        if(!d[v]){\n            t[i]=t[i^1]=true;\n            dfs(v);\n        }\n    }\n}\nvoid solve(){\n    tarjan(1,0);\n    dfs(1);\n    for(ll i=2;i<tmp;i+=2){\n        ll u=to[i],v=to[i^1];\n        if(t[i]){\n            if(d[u]<d[v])  cout<<u<<\" \"<<v<<endl;\n            else  cout<<v<<\" \"<<u<<endl;\n            if(bridge[i]){\n                if(d[u]<d[v])  cout<<v<<\" \"<<u<<endl;\n                else  cout<<u<<\" \"<<v<<endl;\n            }\n        }\n        else{\n            if(d[u]<d[v])  cout<<v<<\" \"<<u<<endl;\n            else  cout<<u<<\" \"<<v<<endl;\n        }\n    }\n}\nvoid init(){\n    memset(head,0,sizeof(head));memset(dfn,0,sizeof(dfn));\n    memset(d,0,sizeof(d));memset(bridge,0,sizeof(bridge));\n    memset(t,0,sizeof(t));\n    cnt=num=1;tmp=2;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca=1;\n    while(cin>>n>>m && (n||m)){\n        cout<<ca++<<endl<<endl;\n        init();\n        for(ll i=1;i<=m;i++){\n            ll u,v;cin>>u>>v;add(u,v);add(v,u);\n        }\n        solve();\n        cout<<'#'<<endl;\n    }\n    return 0;\n}\n```\n\n* å·§å†™dfsåº\n\nç”±äºtarjanæœ¬èº«å°±æ˜¯ä¸€ä¸ªdfsçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æ²¡æœ‰å¿…è¦å†å†™ä¸€édfsã€‚\næ‰€ä»¥ç›´æ¥åœ¨tarjanè¿‡ç¨‹ä¸­æ ‡è®°è¾¹å³å¯ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:37\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-15 11:51:50\n*/\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e3+11;\nconst ll maxm=2e6+11;\nint to[maxm],nex[maxm],head[maxn],dfn[maxn],low[maxn],bridge[maxm];\nll n,m,cnt,tmp;\nvoid add(ll u,ll v){\n    to[tmp]=v;nex[tmp]=head[u];head[u]=tmp++;\n}\nvoid tarjan(ll u,ll fue){\n    dfn[u]=low[u]=cnt++;\n    for(ll i=head[u];i;i=nex[i]){\n        ll v=to[i];\n        if(bridge[i]==0){\n            bridge[i]=1;//å½“å‰è¾¹å¯ç”¨\n            bridge[i^1]=-1;//åå‘è¾¹ä¸å¯ç”¨\n        }\n        if(!dfn[v]){\n            tarjan(v,i);\n            low[u]=min(low[u],low[v]);\n            if(dfn[u]<low[v])  bridge[i]=bridge[i^1]=1;\n        }\n        else if(i!=(fue^1))  low[u]=min(low[u],dfn[v]);\n    }\n}\nvoid solve(){\n    tarjan(1,0);\n    for(ll i=2;i<tmp;i++)  if(bridge[i]==1)  cout<<to[i^1]<<\" \"<<to[i]<<endl;\n}\nvoid init(){\n    memset(head,0,sizeof(head));memset(dfn,0,sizeof(dfn));\n    memset(bridge,0,sizeof(bridge));\n    cnt=1;tmp=2;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca=1;\n    while(cin>>n>>m && (n||m)){\n        cout<<ca++<<endl<<endl;\n        init();\n        for(ll i=1;i<=m;i++){\n            ll u,v;cin>>u>>v;add(u,v);add(v,u);\n        }\n        solve();\n        cout<<'#'<<endl;\n    }\n    return 0;\n}\n\n```","tags":["å›¾è®º"]},{"title":"acmer-oierç¼–è¾‘ç¥å™¨","url":"/2021/10/01/acmer-oierç¼–è¾‘ç¥å™¨/","content":"\nWow!  ç®—æ³•ç«èµ›ï¼Œacmer/oierçš„ç¼–è¾‘å™¨ä¹‹ç¥\næœ€å¼ºIDE CpEditor\n\n<!--more-->\n\nä¸€ä¸ªä¸“é—¨ä¸ºç®—æ³•ç«èµ›ï¼Œacmer/oierè®¾è®¡çš„IDEã€‚\nConvenience of convenience!\n\nä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›¾ï¼Œæ‡‚å¾—éƒ½æ‡‚\n\n![](https://raw.githubusercontent.com/cpeditor/cpeditor/master/assets/demo.gif)\n\nPS: åœ¨æ–°æ ‡ç­¾é¡µä¸­æŸ¥çœ‹å›¾ç‰‡æ›´æ¸…æ™°","tags":["å·¥å…·"]},{"title":"vscode","url":"/2021/09/27/vscode/","content":"\nå¾®è½¯å¤§æ³•å¥½ \næ¶ä¸ä½å¾®è½¯äººå¤šå¥½èµšé’±å‘\n\n<!--more-->\n\n# Markdown\n\n## Markdownç²˜è´´å›¾ç‰‡\n\nä¸»è¦ç”¨åˆ°paste imageè¿™ä¸ªæ’ä»¶\n\nä¸»è¦è¯´ä¸‹æˆ‘çš„é…ç½®\n\nPaste Image: Base Path ä¸º D:\\BohongLi\\100-LoveLearning\\150-Blog\\Marhoosh\\source\n\nPaste Image: Path  ä¸º  D:\\BohongLi\\100-LoveLearning\\150-Blog\\Marhoosh\\source\\uploads\\${currentFileNameWithoutExt}\n\nPaste Image: Prefix ä¸º  /\n\nåšå®¢æˆ‘ç”¨çš„hexoï¼Œæ•ˆæœå°±æ˜¯å›¾ç‰‡ä¿å­˜åœ¨hexoçš„source/uploads/æ–‡ç« å/å›¾ç‰‡.png  \nè¿™æ ·å­æ¯ä¸ªæ–‡ç« éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„å›¾ç‰‡çš„æ–‡ä»¶å¤¹æ¥ä¿å­˜ï¼Œä¸ä¼šä¸€å †å›¾ç‰‡æ‚åœ¨ä¸€æ¬¡ï¼ˆå¼ºè¿«ç—‡æ‚£è€…ï¼‰\nè€Œä¸”æ¨é€åˆ°è¿œç«¯æ—¶ï¼Œ(æˆ‘æ˜¯æ¨é€åˆ°github)ï¼Œå›¾ç‰‡ä¾ç„¶èƒ½å¤Ÿçœ‹åˆ°ã€‚","tags":["å·¥å…·"]},{"title":"ä¸€é”™å†é”™","url":"/2021/09/26/ä¸€é”™å†é”™/","content":"é”™é”™é”™ æ˜¯æˆ‘çš„é”™\nACçš„æ—¶å€™æ€ä¹ˆä¸è¯´\n<!--more-->\n\n# è«åå…¶å¦™REï¼š\n\n## å˜é‡æœªåˆå§‹åŒ–\n```cpp\nll t;\nfor(ll i=a;i<b;i++)  t=i;\np=t;\nar[p]=1;\n```\npæœ‰å¯èƒ½æ˜¯ä¸ªæœªçŸ¥é‡ï¼Œå› ä¸ºtè‹¥æœªè¿›å…¥å¾ªç¯ï¼Œåˆ™å…¶ä¸ºä¸€ä¸ªé‡å˜é‡ï¼Œæ‰€ä»¥å˜é‡å¾—åˆå§‹åŒ–çš„é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚\n\n\n# TLE\n\n1.æ±‚n<1e9çš„è´¨å› å­ä¸ªæ•°\n\næ•°æ®é‡å¤§çš„æ—¶å€™ï¼š\næœ¬æ¥æ˜¯éå†åˆ°1e5è¶…æ—¶äº†ï¼Œæ”¹æˆéå†åˆ°4e4å°±æ²¡è¶…æ—¶,900ms\n\nåˆæ”¹äº†ä¸€ä¸‹ï¼ŒæŠŠ4e4å†…çš„è´¨æ•°éƒ½æ‰¾å‡ºæ¥éå†ï¼Œ200ms\n\næ‰€ä»¥è¿™ç§ä¼˜åŒ–ï¼Œå‡å°äº†å‡ å€çš„å¤æ‚åº¦ï¼Œåœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œè¿˜æ˜¯ååˆ†æœ‰ç”¨çš„ã€‚æ•°æ®é‡å°çš„æ—¶å€™ï¼Œå°±ä¸æ˜æ˜¾äº†ã€‚\n\n# WAå“‡å“‡å“‡\n\n1.ä»™äººæŒå›¾æ±‚ç¯\nå¯¹ç‚¹æ ‡è®°çš„æ ‘çš„æ·±åº¦ï¼Œä¸æ˜¯dfsåºã€‚\n","tags":["æ²¡æƒ³å¥½æ ‡ç­¾çš„æ ‡ç­¾"]},{"title":"æœ€å°ç”Ÿæˆæ ‘","url":"/2021/09/20/æœ€å°ç”Ÿæˆæ ‘/","content":"\nkruskal prim ..\n\n<!--more-->\n\n# kruskal\n* **æ€è·¯**  è´ªå¿ƒï¼Œæ¯æ¬¡é€‰æ‹©æƒå€¼æœ€å°çš„è¾¹ï¼Œä¿è¯æ¯æ¬¡åŠ å…¥æ–°è¾¹ä¸ä¼šç”Ÿæˆç¯\n* **éš¾ç‚¹**  å¦‚ä½•åˆ¤å®šç”Ÿæˆç¯ï¼Œæ–¹æ³•ï¼šä¿è¯æ–°åŠ å…¥çš„è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œä¸éƒ½åœ¨å·²åŠ å…¥çš„è¾¹çš„ç«¯ç‚¹é›†åˆä¸­ï¼Œç”¨**å¹¶æŸ¥é›†**å®ç°\n* é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿ æ—¶é—´O(m*logm)(mä¸ºè¾¹æ•°)\n\n```cpp\n//é“¾å¼å‰å‘æ˜Ÿ(kruskalç”¨é‚»æ¥çŸ©é˜µä¸å¤ªå¥½å†™)-----------------------------------\n/*** \n * @Practice Win\n * æ´›è°· P3366 ã€æ¨¡æ¿ã€‘æœ€å°ç”Ÿæˆæ ‘\n * æœ€å°ç”Ÿæˆæ ‘ æ¿å­é¢˜\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e4+11;//æœ€å¤šç‚¹æ•°ï¼ï¼ï¼\nconst ll maxm=1e6+11;//æœ€å¤šè¾¹æ•°ï¼ï¼ï¼\nstruct Edge{\n\tll fr,to,w,next;\n}edge[maxm];//è¾¹é›†ï¼Œä¸‹æ ‡ä»1å¼€å§‹ï¼ï¼ï¼\nll fa[maxn],head[maxn];\nll n,m,tmp;\nvoid add(ll u,ll v,ll w){\n\tedge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n\tedge[tmp].next=head[u];\n\thead[u]=tmp++;\n}\nbool cmp(Edge a,Edge b){\n\treturn a.w<b.w;\n}\nll found(ll x){\n\treturn fa[x]==x?x:fa[x]=found(fa[x]);\n}\nll kruskal(){//è‹¥å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘ï¼Œè¿”å›å…¶æœ€å°æƒå€¼å’Œ,å¹¶è¾“å‡ºï¼Œè‹¥ä¸å­˜åœ¨ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯å€¼ï¼Œå¹¶è¾“å‡ºâ€œorzâ€\n\tsort(edge+1,edge+tmp,cmp);\n\tll cnt=0,ans=0;\n\tfor(ll i=1;i<tmp;i++){//è¾¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n\t\tll fu=found(edge[i].fr);//å¹¶æŸ¥é›†å¾—åˆ°fuå’Œfv\n\t\tll fv=found(edge[i].to);\n\t\tif(fu==fv) continue;//è‹¥åœ¨åŒä¸€é›†åˆï¼Œåˆ™è·³è¿‡ï¼Œè¯´æ˜è¿™ä¸¤ä¸ªç‚¹éƒ½å·²è¢«ä½¿ç”¨è¿‡\n\t\tfa[fu]=fv;//åˆå¹¶\n\t\tcnt++;\n\t\tans+=edge[i].w;\n\t\tif(cnt==n-1)  break;\n\t}\n\tif(cnt==n-1)  cout<<ans<<endl;\n\telse  cout<<\"orz\"<<endl;\n\treturn ans;\n}\nvoid makset(){\n\tfor(ll i=1;i<=n;i++)  fa[i]=i;//ç‚¹çš„ç¼–å·åº”ä¸é¢˜ç›®ç›¸ç¬¦åˆï¼ï¼ï¼\n}\nvoid init(){\n\tmemset(head,-1,sizeof(head));\n\ttmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\tcin>>n>>m;\n    init();\n    makset();\n    for(ll i=1;i<=m;i++){\n        ll u,v,w;\n        cin>>u>>v>>w;\n        add(u,v,w);//æœ‰å‘å›¾\n\t\t//add(v,u,w);//æ— å‘å›¾\n    }\n    kruskal();\n    return 0;\n}\n```\n# çµæ´»è¿ç”¨ï¼Œå”¯ä¸€æœ€å°ç”Ÿæˆæ ‘ï¼ˆæ€ç»´ï¼‰\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-1679\n**é¢˜æ„**  åˆ¤æ–­æœ€å°ç”Ÿæˆæ ‘æ˜¯å¦å”¯ä¸€\n**æ€è·¯**æšä¸¾æœ€å°ç”Ÿæˆæ ‘çš„næ¡è¾¹ï¼Œæ¯æ¬¡å‡å»ä¸€æ¡è¾¹ï¼Œçœ‹æœ€å°ç”Ÿæˆæ ‘æ˜¯å¦å­˜åœ¨ \n\n# å¼±æ€ç»´\n[Cartesian MST](http://codeforces.com/gym/103098/problem/C)\n\né¢˜é¢ï¼šæ±‚ä¸¤ä¸ªæ ‘çš„ç¬›å¡å°”ç§¯äº§ç”Ÿçš„æ ‘çš„æœ€å°ç”Ÿæˆæ ‘ã€‚\n\nå¦‚å›¾ï¼š\n\n![](/uploads/æœ€å°ç”Ÿæˆæ ‘/2021-10-13-14-32-49.png)\n\næ€è·¯ï¼šè¿™ä¸ªç”»ä¸ªå›¾ï¼Œæ¨¡æ‹Ÿä¸€ä¸‹åº”è¯¥ä¸éš¾æƒ³\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:41\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-13 14:25:30\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll fr,to,w,type;\n    bool operator < (const Edge& b) const {\n        return w<b.w;\n    }\n}e[maxn];\nll f1[maxn],f2[maxn];\nll n1,m1,n2,m2;\nll found1(ll x){\n    return f1[x]==x?x:f1[x]=found1(f1[x]);\n}\nll found2(ll x){\n    return f2[x]==x?x:f2[x]=found2(f2[x]);\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n1>>m1>>n2>>m2;\n    for(ll i=0;i<n1;i++)  f1[i]=i;\n    for(ll i=0;i<n2;i++)  f2[i]=i;\n    ll tmp=0;\n    for(ll i=1;i<=m1;i++){\n        ll u,v,w;cin>>u>>v>>w;\n        e[tmp++]={u,v,w,1};\n    }\n    for(ll i=1;i<=m2;i++){\n        ll u,v,w;cin>>u>>v>>w;\n        e[tmp++]={u,v,w,2};\n    }\n    sort(e,e+tmp);\n    ll cnt=0,cnt1=0,cnt2=0,p=0,ans=0;\n    while(cnt<=n1+n2-2 && p<tmp){\n        ll ty=e[p].type;\n        if(ty==1){\n            if(cnt1>=n1-1){\n                p++;continue;\n            }\n            ll u=e[p].fr,v=e[p].to;\n            ll fu=found1(u),fv=found1(v);\n            if(fu==fv){\n                p++;continue;\n            }  \n            f1[fu]=fv;\n            ans=ans+(n2-cnt2)*e[p].w;\n            cnt1++;cnt++;p++;\n        }\n        else{\n            if(cnt2>=n2-1){\n                p++;continue;\n            }\n            ll u=e[p].fr,v=e[p].to;\n            ll fu=found2(u),fv=found2(v);\n            if(fu==fv){\n                p++;continue;\n            } \n            f2[fu]=fv;\n            ans=ans+(n1-cnt1)*e[p].w;\n            cnt2++;cnt++;p++;\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n```\n\n# prim\n* **æ€è·¯**  æ„Ÿè§‰æœ¬è´¨ä¸Šå°±æ˜¯kruskalï¼Œä¸kruskalæ€è·¯æ²¡å•¥åŒºåˆ«ï¼Œè¦è¯´åŒºåˆ«å°±æ˜¯kruskalè¿‡ç¨‹ä¸Šæ˜¯åŠ è¾¹ï¼Œè¿™ä¸ªæ˜¯è¿‡ç¨‹ä¸ŠåŠ ç‚¹å§ï¼Œä½†å…¶å®éƒ½æ˜¯æ¯æ¬¡é€‰æ‹©æƒå€¼æœ€å°çš„è¾¹ï¼Œéƒ½æ˜¯è´ªå¿ƒã€‚\n* **å…·ä½“æ–¹æ³•**  å¼„ä¸¤ä¸ªç‚¹é›†ï¼Œä¸€ä¸ªuï¼Œä¸€ä¸ªvï¼Œæ¯æ¬¡é€‰æ‹©ä¸€ä¸ªç«¯ç‚¹åœ¨uï¼Œä¸€ä¸ªç«¯ç‚¹åœ¨väº§ç”Ÿçš„è¾¹ä¸­ï¼Œæƒå€¼æœ€å°çš„è¾¹ï¼Œå¹¶æŠŠåœ¨vä¸­çš„ç‚¹ï¼ŒåŠ å…¥uä¸­ã€‚\n* é“¾å¼å‰å‘æ˜Ÿæ¨¡æ¿ æ—¶é—´O(n*n)\n\n```cpp\n//é“¾å¼å‰å‘æ˜Ÿ-----------------------------------------------------------------------------\n/*** \n * @Practice Win\n * ç•…é€šå·¥ç¨‹ HDU - 1863 \n * prim\n * æœ€å°ç”Ÿæˆæ ‘ æ¿å­é¢˜\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e2+11;//æœ€å¤§é¡¶ç‚¹æ•°\nstruct Edge{\n\tll fr,to,w,next;\n}edge[maxn*maxn];\nll head[maxn],vis[maxn],dis[maxn];\nll n,m,tmp;\nll prim(){//è‹¥å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘ï¼Œè¿”å›å…¶å€¼å¹¶è¾“å‡ºï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ï¼Œå¹¶è¾“å‡º\"?\"\n\tll minn=INF,pos,ans=0;\n\tfor(ll i=head[1];~i;i=edge[i].next){//ä»é¡¶ç‚¹ç¼–å·1å¼€å§‹åˆå§‹åŒ–\n\t\tll v=edge[i].to;\n\t\tdis[v]=min(dis[v],edge[i].w);//è€ƒè™‘æœ‰é‡è¾¹æƒ…å†µï¼ï¼ï¼\n\t}\n\tvis[1]=1;\n\tfor(ll i=2;i<=n;i++){ \n\t\tll minn=INF;\n\t\tpos=-1;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && dis[j]<minn)  minn=dis[j],pos=j;\n\t\tif(pos==-1)  break;\n\t\tvis[pos]=1;\n\t\tans+=minn;\n\t\tfor(ll i=head[pos];~i;i=edge[i].next){\n\t\t\tll v=edge[i].to;\n\t\t\tif(edge[i].w<dis[v])  dis[v]=edge[i].w;\n\t\t}\n\t}\n\tif(pos==-1)  cout<<\"?\"<<endl;\n\telse  cout<<ans<<endl;\n\treturn ans;\n}\nvoid add(ll u,ll v,ll w){\n\tedge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n\tedge[tmp].next=head[u];\n\thead[u]=tmp++;\n}\t\nvoid init(){\n\tmemset(vis,0,sizeof(vis));\n\tmemset(head,-1,sizeof(head));\n\tmemset(dis,0x3f3f3f3f,sizeof(dis));\n\ttmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\twhile(cin>>m>>n && m){\n\t\tinit();\n\t\tfor(ll i=1;i<=m;i++){\n\t\t\tll u,v,w;\n\t\t\tcin>>u>>v>>w;\n\t\t\tadd(u,v,w);\n\t\t\tadd(v,u,w);\n\t\t}\n\t\tprim();\n\t}\n    return 0;\n}\n```\n* é‚»æ¥çŸ©é˜µæ¨¡æ¿ æ—¶é—´O(n*n)\n\n```cpp\n//é‚»æ¥çŸ©é˜µ-----------------------------------------------------------------------------\n/*** \n * @Practice Win\n * ç•…é€šå·¥ç¨‹ HDU - 1863 \n * prim\n * æœ€å°ç”Ÿæˆæ ‘ æ¿å­é¢˜\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e2+11;//æœ€å¤§é¡¶ç‚¹æ•°\nll vis[maxn],dis[maxn],gra[maxn][maxn];\nll n,m;\nll prim(){//è‹¥å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘ï¼Œè¿”å›å…¶å€¼å¹¶è¾“å‡ºï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ï¼Œå¹¶è¾“å‡º\"?\"\n\tll minn=INF,pos,ans=0;\n\tfor(ll i=1;i<=n;i++)  dis[i]=gra[1][i];\n\tvis[1]=1;\n\tfor(ll i=2;i<=n;i++){ \n\t\tll minn=INF;\n\t\tpos=-1;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && dis[j]<minn)  minn=dis[j],pos=j;\n\t\tif(pos==-1)  break;\n\t\tvis[pos]=1;\n\t\tans+=minn;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && gra[pos][j]<dis[j])  dis[j]=gra[pos][j];\n\t}\n\tif(pos==-1)  cout<<\"?\"<<endl;\n\telse  cout<<ans<<endl;\n\treturn ans;\n}\n\t\nvoid init(){\n\tmemset(vis,0,sizeof(vis));\n\tmemset(dis,0x3f3f3f3f,sizeof(dis));\n\tmemset(gra,0x3f3f3f3f,sizeof(gra));\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\twhile(cin>>m>>n && m){\n\t\tinit();\n\t\tfor(ll i=1;i<=m;i++){\n\t\t\tll u,v,w;\n\t\t\tcin>>u>>v>>w;\n\t\t\tif(w<gra[u][v])  gra[u][v]=gra[v][u]=w;\n\t\t}\n\t\tprim();\n\t}\n    return 0;\n}\n```\n# çµæ´»è¿ç”¨ï¼ˆå·²å»ºç«‹æŸäº›è¾¹ï¼‰\n[ç»§ç»­ç•…é€šå·¥ç¨‹](https://vjudge.net/problem/HDU-1879)\n**é¢˜æ„** åœ¨æœ‰äº›è¾¹å·²ç»å»ºç«‹å¥½äº†çš„æƒ…å†µä¸‹ï¼Œæ±‚æœ€å°ç”Ÿæˆæ ‘ã€‚\n**æ€è·¯**  å¯¹äºå·²ç»å»ºç«‹çš„è¾¹ï¼Œå°†å…¶æƒå€¼å˜ä¸º0å³å¯ã€‚\n# çµæ´»è¿ç”¨ï¼ˆå·²çŸ¥æ¯ä¸ªç‚¹çš„ä»£ä»·ï¼‰\n[Shichikuji and Power Grid](https://codeforces.com/problemset/problem/1245/D)\nå¸¸è§æœ€å°ç”Ÿæˆæ ‘æ˜¯çŸ¥é“æ¯æ¡è¾¹çš„ä»£ä»·ï¼Œè¿™é¢˜å¢åŠ äº†ä¸€ä¸ªå°±æ˜¯è¿˜çŸ¥é“æ¯ä¸ªç‚¹çš„ä»£ä»·ã€‚\n**é¢˜é¢**\næœ‰nä¸ªåŸå¸‚,åæ ‡ä¸º(xi,yi),è¿˜æœ‰ä¸¤ä¸ªç³»æ•°ci,ki.åœ¨æ¯ä¸ªåŸå¸‚å»ºç«‹å‘ç”µç«™éœ€è¦è´¹ç”¨ci.å¦‚æœä¸å»ºç«‹å‘ç”µç«™ï¼Œè¦è®©åŸå¸‚é€šç”µï¼Œå°±éœ€è¦ä¸æœ‰å‘ç”µç«™çš„åŸå¸‚è¿é€šã€‚iä¸jä¹‹é—´è¿ä¸€æ¡æ— å‘çš„è¾¹çš„è´¹ç”¨æ˜¯(ki+kj)*ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„æ›¼å“ˆé¡¿è·ç¦».æ±‚è®©æ¯ä¸ªåŸå¸‚éƒ½é€šç”µçš„æœ€å°è´¹ç”¨,å¹¶è¾“å‡ºä»»æ„ä¸€ä¸ªæ–¹æ¡ˆã€‚\n\n**åˆ†æ**\næˆ‘åˆšå¼€å§‹æƒ³çš„å°±æ˜¯ï¼Œè¿™ä¸å°±æ˜¯primï¼Œç„¶åå°†dis[i]åˆå§‹åŒ–ä¸ºæ¯ä¸ªç‚¹çš„ä»£ä»·å˜›ï¼Œç„¶åå‘ç°è¿™æ˜¯ä¸ªå¸¸è§å¥—è·¯ï¼Œä¹Ÿå¯ä»¥**æŠŠé€‰æ¯ä¸ªç‚¹çš„ä»£ä»·è½¬æˆè™šæ‹ŸåŸç‚¹åˆ°è¿™ä¸ªç‚¹çš„è¾¹**,ä¸è¿‡è¿™æ ·å­æ›´å¥½ç†è§£ã€‚è¿™ä¸ªå¥—è·¯å¾ˆå¸¸è§ï¼Œä½†åœ¨æœ€å°ç”Ÿæˆæ ‘é¢˜é‡Œè¿˜æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°ã€‚\n\nåŸå¸‚ä¹‹é—´ä¸¤ä¸¤è¿è¾¹ï¼Œè¾¹æƒæŒ‰é¢˜ç›®é‡Œæåˆ°çš„è®¡ç®—ã€‚ç„¶åå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿæºç‚¹ï¼Œå‘æ¯ä¸ªåŸå¸‚iè¿è¾¹ï¼Œè¾¹æƒä¸ºci.å¯¹æ•´ä¸ªå›¾è·‘ä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘å³å¯.\n\n------------------------------------------------------------------\n* **æ€»ç»“**\n\n* **ä¸¤è€…åŒºåˆ«**è¿™ä¸ªæ–¹æ³•çš„å¥½å¤„å°±æ˜¯ï¼Œå› ä¸ºåˆ†æˆäº†ä¸¤ä¸ªç‚¹é›†åˆï¼Œæ‰€ä»¥ä¿è¯äº†é€‰æ‹©çš„æƒå€¼æœ€å°çš„è¾¹è‚¯å®šä¸ä¼šäº§ç”Ÿç¯ï¼Œå› ä¸ºè¿™ä¸ªè¾¹çš„ç«¯ç‚¹åˆ†åˆ«åœ¨ä¸¤ä¸ªäº’æ–¥çš„é›†åˆå˜›ï¼Œä¸åƒkruskalé€‰æ‹©çš„è¾¹å¯èƒ½éƒ½åœ¨é›†åˆuã€‚ \n* **ç¨€ç–å›¾ä¸ç¨ å¯†å›¾**æ•°æ®ç»“æ„ä¸­å¯¹äºç¨€ç–å›¾çš„å®šä¹‰ä¸ºï¼šæœ‰å¾ˆå°‘æ¡è¾¹æˆ–å¼§ï¼ˆè¾¹çš„æ¡æ•°|E|è¿œå°äº|V|Â²ï¼‰çš„å›¾ç§°ä¸ºç¨€ç–å›¾ï¼ˆsparse graphï¼‰ï¼Œåä¹‹è¾¹çš„æ¡æ•°|E|æ¥è¿‘|V|Â²ï¼Œç§°ä¸ºç¨ å¯†å›¾ï¼ˆdense graphï¼‰ã€‚æ­¤å®šä¹‰æ¥è‡ªç™¾åº¦ç™¾ç§‘ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§æœ´ç´ çš„ç†è§£ï¼Œç®€å•æ¥è¯´è¾¹è¶Šå¤šï¼Œå›¾å°±è¶Šç¨ å¯†\n* **ä¸¤è€…å¤æ‚åº¦**\nKruskal:\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/da9f37d33d494759b106faaed5b2672e.png)\nPrim:\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e6b54fba62554c22acca6cfd1d407586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTcyNzE4OA==,size_16,color_FFFFFF,t_70)","tags":["å›¾è®º"]},{"title":"æœ€çŸ­è·¯","url":"/2021/09/20/æœ€çŸ­è·¯/","content":"\ndijskra floyd æœ€çŸ­è·¯ æœ€å°ç¯ è´Ÿç¯ä¸å·®åˆ†çº¦æŸ\n\n<!--more-->\n\n# é¢˜å•\n* [ ] [Shortest Path Query](https://codeforces.com/problemset/problem/1335/F)\n\n* **æœ€çŸ­è·¯éœ€è¦è€ƒè™‘çš„å‡ ç§æƒ…å†µ**\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/65ff2b2f8d2b4feba6b5f65cdf55b923.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTcyNzE4OA==,size_16,color_FFFFFF,t_70)\n\n# Dijkstra\n* **é€‚ç”¨æƒ…å†µ** æ­¤ç®—æ³•ä¸èƒ½ç”¨äºæ±‚è´Ÿæƒå›¾ï¼Œè¦æ±‚æ‰€æœ‰è¾¹çš„æƒé‡éƒ½ä¸ºéè´Ÿå€¼ã€‚\n* **æ€è·¯**  åœ¨æœ€çŸ­è·¯å¾„çš„é—®é¢˜ä¸­ï¼Œå±€éƒ¨æœ€ä¼˜è§£å³å½“å‰çš„æœ€çŸ­è·¯å¾„æˆ–è€…è¯´æ˜¯åœ¨å½“å‰çš„å·²çŸ¥æ¡ä»¶ä¸‹èµ·ç‚¹åˆ°å…¶ä½™å„ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚\n* é‚»æ¥çŸ©é˜µæš´åŠ›æ¨¡æ¿ æ—¶é—´O(n*n)  \n\n```cpp\n//é‚»æ¥çŸ©é˜µåšæ³•,æ—¶é—´å¤æ‚åº¦O(n*n)----------------------------------------------------------\n/*** \n * @Practice Win\n * HDU - 2544\n * æ¯æ¬¡ä»dis[i]ä¸­é€‰æ‹©æœ€å°çš„åŠ å…¥é›†åˆS\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e2+11;//æœ€å¤šé¡¶ç‚¹æ•°ï¼ï¼ï¼\nll dis[maxn],vis[maxn],gra[maxn][maxn];//è‡ªå·±åˆ°è‡ªå·±å’Œä¸å­˜åœ¨éƒ½è§†ä¸ºINF\nll n,m,start,goal;\nll dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n\tfor(ll i=1;i<=n;i++){\n\t\tdis[i]=gra[start][i];\n\t}\n\tvis[start]=1;\n\tll pos;\n\tfor(ll i=2;i<=n;i++){\n\t\tll minn=INF;\n\t\tpos=-1;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && dis[j]<minn)  minn=dis[j],pos=j;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n\t\tif(pos==-1)  break;\n\t\tvis[pos]=1;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && dis[pos]+gra[pos][j]<dis[j])  dis[j]=dis[pos]+gra[pos][j];//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n\t}\n\tif(pos==-1)  cout<<\"orz\"<<endl;\n\telse  cout<<dis[goal]<<endl;\n\treturn dis[goal];\n}\nvoid init(){\n\tmemset(gra,0x3f3f3f3f,sizeof(gra));\n\tmemset(vis,0,sizeof(vis));\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\twhile(cin>>n>>m && (n||m)){\n\t\tinit();\n\t\tstart=1,goal=n;\n\t\tfor(ll i=1;i<=m;i++){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n\t\t\tll u,v,w;\n\t\t\tcin>>u>>v>>w;\n\t\t\tif(w<gra[u][v])  gra[u][v]=gra[v][u]=w;//æ— å‘å›¾ï¼ŒåŒ…å«é‡è¾¹æƒ…å†µå–æœ€å°è¾¹è€ƒè™‘ï¼ï¼ï¼\n\t\t}\n\t\tdijkstra();\n\t}\n    return 0;\n}\n```\n* é‚»æ¥çŸ©é˜µä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ– æ—¶é—´O(n*logn)\n\n```cpp\n//ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–,æ—¶é—´å¤æ‚åº¦O(n*logn)-----------------------------------------------------------------\n/*** \n * @Practice Win\n * æ´›è°· P4779 ã€æ¨¡æ¿ã€‘å•æºæœ€çŸ­è·¯å¾„ï¼ˆæ ‡å‡†ç‰ˆï¼‰\n * æ¯æ¬¡ä»dis[i]ä¸­é€‰æ‹©æœ€å°çš„åŠ å…¥é›†åˆS\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e6+11;//æœ€å¤šè¾¹æ•°ï¼ï¼ï¼\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxn];\nstruct Point{\n    ll w,pos;\n    friend bool operator <(const Point& a,const Point& b){\n        return a.w>b.w;//ä¼˜å…ˆé˜Ÿåˆ—è¿™é‡Œæ˜¯æŒ‰å€¼ä»é«˜åˆ°ä½æ’åºï¼Œæ‰€ä»¥å¾—æ”¹ä¸º>ï¼Œæ‰å˜æˆä»å°åˆ°å¤§æ’åº\n    }\n};\nll dis[maxn],vis[maxn],head[maxn];//è‡ªå·±åˆ°è‡ªå·±å’Œä¸å­˜åœ¨éƒ½è§†ä¸ºINF\nll n,m,start,goal,tmp;\npriority_queue<Point> dq;\nll dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n\tfor(ll i=head[start];~i;i=edge[i].next){\n        ll v=edge[i].to;\n\t\tdis[v]=min(dis[v],edge[i].w);\n        Point p;\n        p.pos=v;p.w=dis[v];\n        dq.push(p);\n\t}\n\tvis[start]=1;\n\tll pos;\n\tfor(ll i=2;i<=n;i++){\n        while(vis[dq.top().pos])  dq.pop();//è€ƒè™‘é˜Ÿåˆ—ä¸­æœ‰é‡è¾¹æƒ…å†µ\n\t\tpos=dq.top().pos;\n        dq.pop();\n\t\tvis[pos]=1;\n\t\tfor(ll j=head[pos];~j;j=edge[j].next){\n            ll v=edge[j].to;\n            if(!vis[v] && dis[pos]+edge[j].w<dis[v]){\n                Point p;\n                dis[v]=dis[pos]+edge[j].w;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n                p.pos=v;p.w=dis[v];\n                dq.push(p);\n            }  \n        }  \n\t}\n\treturn dis[goal];\n}\nvoid add(ll u,ll v,ll w){\n    edge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid init(){\n\tmemset(head,-1,sizeof(head));\n    memset(dis,0x3f3f3f3f,sizeof(dis));\n\tmemset(vis,0,sizeof(vis));\n    tmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\tcin>>n>>m>>start;\n    init();\n    for(ll i=1;i<=m;i++){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n        ll u,v,w;\n        cin>>u>>v>>w;\n        add(u,v,w);//æœ‰å‘å›¾\n        //add(v,u,w);\n    }\n    dijkstra();\n    for(ll i=1;i<=n;i++){\n        if(start==i)  cout<<0<<\" \";\n        else  cout<<dis[i]<<\" \";\n    }\n    cout<<endl;\n    return 0;\n}\n```\n\n# æœ€çŸ­è·¯è®¡æ•°è¾¹æ— æƒå€¼\n[P1144 æœ€çŸ­è·¯è®¡æ•°](https://www.luogu.com.cn/problem/P1144)\n\næœ€çŸ­è·¯è®¡æ•°ï¼Œå³æœ€çŸ­è·¯ä¸Šæ¯æ¡è¾¹çš„é‡è¾¹ä¸ªæ•°çš„ä¹˜ç§¯ï¼Œé‚£ä¹ˆdp[v]=dp[u] * aï¼ˆaä¸ºé‡è¾¹ä¸ªæ•°ï¼‰,åˆå› ä¸º1ä¸ªç‚¹å¯ä»¥ç”±å¤šä¸ªç‚¹uåˆ°è¾¾ï¼Œåˆ™dp[v]+=dp[u] * a;\nå¯¹äºaï¼Œæˆ‘ä»¬å°†é‡è¾¹åŠ å…¥edgeä¸­ï¼Œæ¯æ¬¡<=disæ—¶ï¼Œå› ä¸ºæœ‰=å·ï¼Œæ‰€ä»¥é‡è¾¹ä¼šè¢«åŠ aæ¬¡ï¼Œå°±ç›¸å½“äºdp[u]*a;\nåˆå› ä¸ºè¿™é“é¢˜é‡Œé¢æ¯æ¡è¾¹é•¿åº¦éƒ½ä¸º1ï¼Œæ‰€æœ‰dis[v]è¢«æ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½åªä¼šæœ‰1ä¸ªå€¼ã€‚**å¦‚æœæ¯æ¡è¾¹é•¿åº¦ä¸ç­‰,åœ¨dis[v]æ›´æ–°ä¸ºä¸€ä¸ªæ›´å°å€¼æ—¶ï¼Œdp[v]è¦åˆå§‹åŒ–ä¸º0ã€‚**\n\n```cpp\n\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll mo=100003;\nconst ll maxn=2e6+11;//æœ€å¤šè¾¹æ•°ï¼ï¼ï¼\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxn<<1];\nstruct Point{\n    ll w,pos;\n    friend bool operator <(const Point& a,const Point& b){\n        return a.w>b.w;//ä¼˜å…ˆé˜Ÿåˆ—è¿™é‡Œæ˜¯æŒ‰å€¼ä»é«˜åˆ°ä½æ’åºï¼Œæ‰€ä»¥å¾—æ”¹ä¸º>ï¼Œæ‰å˜æˆä»å°åˆ°å¤§æ’åº\n    }\n};\nll dis[maxn],vis[maxn],head[maxn],dp[maxn];//è‡ªå·±åˆ°è‡ªå·±å’Œä¸å­˜åœ¨éƒ½è§†ä¸ºINF\nll n,m,start,tmp;\npriority_queue<Point> dq;\nvoid dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n    dq.push({0,start});dis[start]=0;dp[start]=1;\n    while(!dq.empty()){\n        ll pos=dq.top().pos;\n        dq.pop();\n        if(vis[pos]==1)  continue;\n        vis[pos]=1;\n        for(ll j=head[pos];j;j=edge[j].next){\n            ll v=edge[j].to;\n            if(!vis[v] && dis[pos]+edge[j].w<=dis[v]){\n                dp[v]=(dp[v]+dp[pos])%mo;\n                dis[v]=dis[pos]+edge[j].w;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n                dq.push({dis[v],v});\n            }  \n        }  \n    }\n}\nvoid add(ll u,ll v,ll w){\n    edge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid init(){\n    memset(head,0,sizeof(head));\n    memset(dis,0x3f3f3f3f,sizeof(dis));\n    memset(vis,0,sizeof(vis));\n    tmp=1;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&m);\n    start=1;\n    init();\n    for(ll i=1;i<=m;i++){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n        ll u,v,w;\n        scanf(\"%lld%lld\",&u,&v);w=1;\n        add(u,v,w);//æœ‰å‘å›¾\n        add(v,u,w);\n    }\n    dijkstra();\n    for(ll i=1;i<=n;i++){\n        printf(\"%lld\\n\",dp[i]);\n    }\n    return 0;\n}\n\n```\n\n# æœ€çŸ­è·¯è®¡æ•°è¾¹æœ‰æƒå€¼(ä¸è®¡æƒå€¼ç›¸ç­‰è¾¹)\n[P1608 è·¯å¾„ç»Ÿè®¡](https://www.luogu.com.cn/problem/P1608)\n\n```cpp\n\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxm=4e6+11;//æœ€å¤šè¾¹æ•°ï¼ï¼ï¼\nconst ll maxn=2e3+11;\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxm];\nstruct Point{\n    ll w,pos;\n    friend bool operator <(const Point& a,const Point& b){\n        return a.w>b.w;//ä¼˜å…ˆé˜Ÿåˆ—è¿™é‡Œæ˜¯æŒ‰å€¼ä»é«˜åˆ°ä½æ’åºï¼Œæ‰€ä»¥å¾—æ”¹ä¸º>ï¼Œæ‰å˜æˆä»å°åˆ°å¤§æ’åº\n    }\n};\nll dis[maxn],vis[maxn],head[maxn],dp[maxn],ar[maxn][maxn];//è‡ªå·±åˆ°è‡ªå·±å’Œä¸å­˜åœ¨éƒ½è§†ä¸ºINF\nll n,m,start,goal,tmp;\npriority_queue<Point> dq;\nvoid dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n    dq.push({0,start});dis[start]=0;dp[start]=1;\n    while(!dq.empty()){\n        ll pos=dq.top().pos;\n        dq.pop();\n        if(vis[pos]==1)  continue;\n        vis[pos]=1;\n        for(ll i=head[pos];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(!vis[v] && dis[pos]+edge[i].w<=dis[v]){\n                if(dis[pos]+edge[i].w<dis[v])  dp[v]=0;\n                dp[v]+=dp[pos]; \n                dis[v]=dis[pos]+edge[i].w;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n                dq.push({dis[v],v});\n            }  \n        }  \n    }\n}\nvoid add(ll u,ll v,ll w){\n    edge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid init(){\n    memset(head,0,sizeof(head));\n    memset(dis,0x1f1f1f1f,sizeof(dis));\n    memset(vis,0,sizeof(vis));\n    tmp=1;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&m);\n    start=1;goal=n;\n    init();\n    for(ll i=1;i<=m;i++){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n        ll u,v,w;\n        scanf(\"%lld%lld%lld\",&u,&v,&w);\n        if(ar[u][v]==0 || w<ar[u][v]){\n//æ­¤å¤„ä¸ç»Ÿè®¡é‡è¾¹æ•°é‡,å³1 2 1 å’Œ 1 2 1ç®—ä¸€æ¡è¾¹ã€‚ã€‚ã€‚ã€‚ï¼ï¼ï¼ï¼ï¼\n            add(u,v,w);\n            ar[u][v]=w;\n        }\n    }\n    dijkstra();\n    if(dis[goal]>1e9)  printf(\"No answer\\n\");\n    else  printf(\"%lld %lld\\n\",dis[goal],dp[goal]);\n    return 0;\n}\n```\n# æœ€çŸ­è·¯è®¡æ•°è¾¹æœ‰æƒå€¼ï¼ˆè®¡é‡è¾¹\n\n```cpp\n\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxm=4e6+11;//æœ€å¤šè¾¹æ•°ï¼ï¼ï¼\nconst ll maxn=2e3+11;\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxm];\nstruct Point{\n    ll w,pos;\n    friend bool operator <(const Point& a,const Point& b){\n        return a.w>b.w;//ä¼˜å…ˆé˜Ÿåˆ—è¿™é‡Œæ˜¯æŒ‰å€¼ä»é«˜åˆ°ä½æ’åºï¼Œæ‰€ä»¥å¾—æ”¹ä¸º>ï¼Œæ‰å˜æˆä»å°åˆ°å¤§æ’åº\n    }\n};\nll dis[maxn],vis[maxn],head[maxn],dp[maxn];//è‡ªå·±åˆ°è‡ªå·±å’Œä¸å­˜åœ¨éƒ½è§†ä¸ºINF\nll n,m,start,goal,tmp;\npriority_queue<Point> dq;\nvoid dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n    dq.push({0,start});dis[start]=0;dp[start]=1;\n    while(!dq.empty()){\n        ll pos=dq.top().pos;\n        dq.pop();\n        if(vis[pos]==1)  continue;\n        vis[pos]=1;\n        for(ll i=head[pos];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(!vis[v] && dis[pos]+edge[i].w<=dis[v]){\n                if(dis[pos]+edge[i].w<dis[v])  dp[v]=0;\n                dp[v]+=dp[pos];\n                dis[v]=dis[pos]+edge[i].w;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n                dq.push({dis[v],v});\n            }  \n        }  \n    }\n}\nvoid add(ll u,ll v,ll w){\n    edge[tmp].fr=u; edge[tmp].to=v; edge[tmp].w=w;\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid init(){\n    memset(head,0,sizeof(head));\n    memset(dis,0x1f1f1f1f,sizeof(dis));\n    memset(vis,0,sizeof(vis));\n    tmp=1;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&m);\n    start=1;goal=n;\n    init();\n    for(ll i=1;i<=m;i++){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n        ll u,v,w;\n        scanf(\"%lld%lld%lld\",&u,&v,&w);\n        add(u,v,w);//æœ‰å‘å›¾\n    }\n    dijkstra();\n    if(dis[goal]>1e9)  printf(\"No answer\\n\");\n    else  printf(\"%lld %lld\\n\",dis[goal],dp[goal]);\n    return 0;\n}\n\n```\n\n# SPFAåˆ¤æ–­æ˜¯å¦å­˜åœ¨è´Ÿç¯\n[P3385 ã€æ¨¡æ¿ã€‘è´Ÿç¯](https://www.luogu.com.cn/problem/P3385)\n\n* æ¨¡æ¿\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:33\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-22 21:21:38\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=6e3+11;\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxn];\nll head[maxn],cnt[maxn],vis[maxn],dis[maxn],tmp,n,start;\nqueue<ll> q;\nvoid add(ll u,ll v,ll w){\n    edge[tmp]={u,v,w};\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nll spfa(){\n    while(!q.empty())  q.pop();\n    cnt[start]=0;dis[start]=0;\n    q.push(start);vis[start]=1;\n    while(!q.empty()){\n        ll u=q.front();q.pop();\n        vis[u]=0;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(dis[u]+edge[i].w<dis[v]){\n                dis[v]=dis[u]+edge[i].w;\n                cnt[v]=cnt[u]+1;\n                if(cnt[v]>=n)  return 0;\n                if(!vis[v]){\n                    q.push(v);vis[v]=1;\n                }\n            }\n        }\n    }\n    return 1;\n}\nvoid init(){\n    memset(head,0,sizeof(head));\n    memset(vis,0,sizeof(vis));\n    memset(dis,0x1f,sizeof(dis));\n    tmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;start=1;\n    while(ca--){\n        ll m;cin>>n>>m;\n        init();\n        for(ll i=1,u,v,w;i<=m;i++){\n            cin>>u>>v>>w;\n            add(u,v,w);\n            if(w>=0)  add(v,u,w);\n        }\n        if(spfa())  cout<<\"NO\"<<endl;\n        else  cout<<\"YES\"<<endl;\n    }\n    return 0;\n}\n\n```\n\n# SPFA-å·®åˆ†çº¦æŸ\n\n[P5960 ã€æ¨¡æ¿ã€‘å·®åˆ†çº¦æŸç®—æ³•](https://www.luogu.com.cn/problem/P5960)\na-b <= c å³a <= b+c,æ‰€ä»¥æ˜¯**bå‘aå»ºä¸€æ¡æƒå€¼ä¸ºcçš„å•å‘è¾¹**ã€‚åŒæ—¶å»ºç«‹ä¸€ä¸ªæºç‚¹0ï¼Œä»0å‘æ¯ä¸ªç‚¹è¿ä¸€æ¡æƒå€¼ä¸º0çš„å•å‘è¾¹ã€‚\n\n* æ‹“å±•\nå¾ˆå¤šæ—¶å€™å·®åˆ†çº¦æŸçš„æ¡ä»¶å¹¶ä¸æ˜¯ç®€å•çš„å°äºç­‰äºå·ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ç¨å¾®åšç‚¹å˜å½¢ã€‚\nå¦‚æœæœ‰a-b >= c  åˆ™å¯ä»¥ä¸¤è¾¹åŒæ—¶ä¹˜ -1ï¼Œå°†ä¸ç­‰å·åè½¬è¿‡æ¥ã€‚\nå¦‚æœæœ‰ a-b=c åˆ™å¯ä»¥æŠŠè¿™ä¸ªç­‰å¼æ‹†åˆ†ä¸º a-b <= c å’Œ a-b >= c ä¸¤ä¸ªçº¦æŸæ¡ä»¶ã€‚\n\nå¦‚æœéœ€è¦æ±‚çš„æ˜¯ä¸¤ä¸ªå˜é‡å·®çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆéœ€è¦å°†æ‰€æœ‰ä¸ç­‰å¼è½¬å˜æˆ\"<=\"çš„å½¢å¼ï¼Œå»ºå›¾åæ±‚æœ€çŸ­è·¯ï¼›\nç›¸åï¼Œå¦‚æœéœ€è¦æ±‚çš„æ˜¯ä¸¤ä¸ªå˜é‡å·®çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆéœ€è¦å°†æ‰€æœ‰ä¸ç­‰å¼è½¬åŒ–æˆ\">=\"ï¼Œå»ºå›¾åæ±‚æœ€é•¿è·¯ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-23 12:04:28\n*/\n/*\nå¦‚æœéœ€è¦æ±‚çš„æ˜¯ä¸¤ä¸ªå˜é‡å·®çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆéœ€è¦å°†æ‰€æœ‰ä¸ç­‰å¼è½¬å˜æˆ\"<=\"çš„å½¢å¼ï¼Œå»ºå›¾åæ±‚æœ€çŸ­è·¯ï¼›\nç›¸åï¼Œå¦‚æœéœ€è¦æ±‚çš„æ˜¯ä¸¤ä¸ªå˜é‡å·®çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆéœ€è¦å°†æ‰€æœ‰ä¸ç­‰å¼è½¬åŒ–æˆ\">=\"ï¼Œå»ºå›¾åæ±‚æœ€é•¿è·¯ã€‚\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=3e4+11;\nstruct Edge{\n    ll fr,to,w,next;\n}edge[maxn];\nll head[maxn],dis[maxn],vis[maxn],cnt[maxn],tmp,start,n;\nqueue<ll> q;\nvoid add(ll u,ll v,ll w){\n    edge[tmp]={u,v,w};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nll spfa(){\n    dis[start]=0;cnt[start]=0;\n    q.push(start);vis[start]=1;\n    while(!q.empty()){\n        ll u=q.front();q.pop();vis[u]=0;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(dis[u]+edge[i].w<dis[v]){\n                dis[v]=dis[u]+edge[i].w;\n                cnt[v]=cnt[u]+1;\n                if(cnt[v]>=n+1)  return 0;//æ­¤å¤„ä¸ºn+1ï¼Œå› ä¸ºè¿˜æœ‰ä¸€ä¸ªæºç‚¹0ï¼\n                if(!vis[v]){q.push(v);vis[v]=1;}\n            }\n        }\n    }\n    return 1;\n}\nvoid init(){\n    memset(dis,0x1f,sizeof(dis));\n    tmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    init();\n    ll m;cin>>n>>m;\n    for(ll i=1;i<=n;i++)  add(0,i,0);\n    for(ll i=1,u,v,w;i<=m;i++){\n        cin>>u>>v>>w;\n        add(v,u,w);//ä»vå‘uå»ºè¾¹ï¼ï¼ï¼\n    }\n    start=0;\n    if(spfa()){\n        for(ll i=1;i<=n;i++)  cout<<dis[i]<<\" \";\n    }\n    else  cout<<\"NO\"<<endl;\n    return 0;\n}\n\n```\n\n# å·®åˆ†çº¦æŸ-åŒºé—´\n\n[Intervals HDU - 1384 ](https://vjudge.net/contest/458535#problem/I)\n\n[è½¬è½½é¢˜è§£](https://blog.csdn.net/weixin_43209425/article/details/104772812)\n\næ³¨æ„åŒºé—´ç”¨å‰ç¼€å’Œè¡¨ç¤ºæ—¶ï¼Œå·¦ç«¯ç‚¹æ˜¯s[ l-1 ]ï¼Œä¸æ˜¯s[ l ]ï¼›\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-25 22:10:02\n*/\n#include<iostream>\n#include<cstring>\n#include<queue>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=5e4+11;\nstruct Edge{\n    ll to,w,next;\n}edge[maxn<<2];\nll head[maxn],dis[maxn],vis[maxn],tmp,start,goal;\nqueue<ll> q;\nvoid add(ll u,ll v,ll w){\n    edge[tmp]={v,w};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid spfa(){\n    memset(dis,-1,sizeof(dis));memset(vis,0,sizeof(vis));\n    while(!q.empty())  q.pop();\n    dis[start]=0;q.push(start);vis[start]=1;\n    while(!q.empty()){\n        ll u=q.front();q.pop();vis[u]=0;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(dis[u]+edge[i].w>dis[v]){\n                dis[v]=dis[u]+edge[i].w;\n                if(!vis[v]){\n                    q.push(v);vis[v]=1;\n                }\n            }\n        }\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n;\n    while(cin>>n){\n        memset(head,0,sizeof(head));tmp=1;\n        start=0,goal=-1;\n        for(ll i=1;i<=n;i++){\n            ll l,r,w;cin>>l>>r>>w;\n            goal=max(r,goal);\n            add(l-1,r,w);//æ³¨æ„å·¦ç«¯ç‚¹æ˜¯s[l-1]ï¼Œä¸æ˜¯s[l]ï¼›\n        }\n        for(ll i=1;i<=goal;i++){\n            add(i-1,i,0);add(i,i-1,-1);\n        }\n        spfa();\n        cout<<dis[goal]<<endl;\n    }\n    return 0;\n}\n\n```\n\n## å·®åˆ†çº¦æŸ-æ€ç»´å¥½é¢˜\næœ‰N â‰¤ 3 e 3ä¸ªæ ¼å­ï¼Œä½ å¯ä»¥ä»»æ„ç»™æ¯ä¸ªæ ¼å­æŸ“è‰²ï¼Œä½†æ˜¯è¦æ»¡è¶³M â‰¤ 3 e 3é™åˆ¶æ¡ä»¶ï¼Œé™åˆ¶æ¡ä»¶æœ‰ä¸¤ç§ç±»å‹ï¼š\n1.åŒºé—´[ l , r ]ä¸­è¢«æŸ“è‰²çš„æ ¼å­æ•°é‡ä¸å°‘äºKã€‚\n\n2.åŒºé—´[ l , r ]å¤–è¢«æŸ“è‰²çš„æ ¼å­æ•°é‡ä¸å°‘äºKã€‚\nåœ¨æ»¡è¶³æ‰€æœ‰é™åˆ¶æ¡ä»¶ä¸‹æ±‚æŸ“è‰²æ ¼å­æ•°é‡çš„æœ€å°å€¼ã€‚\n\næ€è·¯ï¼šæ­¤é¢˜å…³é”®åœ¨äºæ¡ä»¶2çš„å¤„ç†ï¼Œæˆ‘ä»¬ä¼šå‘ç°s[ n ]-s[ r ]+s[ l-1 ]>=k,å…³é”®åœ¨äºs[ n ]æ˜¯æœªçŸ¥çš„ï¼Œç„¶ånå…·æœ‰å•è°ƒæ€§ï¼ŒäºŒåˆ†nå†è·‘spfaå³å¯ã€‚\n\n\n# Floyd\n* **é€‚ç”¨æƒ…å†µ** é€‚ç”¨äºä»»ä½•å›¾ï¼Œä¸ç®¡æœ‰å‘æ— å‘ï¼Œè¾¹æƒæ­£è´Ÿï¼Œä½†æ˜¯æœ€çŸ­è·¯å¿…é¡»å­˜åœ¨ã€‚ï¼ˆä¸èƒ½æœ‰ä¸ªè´Ÿç¯ï¼‰\n* **æ€è·¯**  è¿™ä¸ªæ€æƒ³ä¸å¤ªå¥½è§£é‡Šï¼Œå¤§æ¦‚æ€è·¯å°±æ˜¯å…¨å±€çš„ä¸€ä¸ªç»´æŠ¤æœ€çŸ­è·¯å¾„ï¼Œæ¯æ¬¡å¢åŠ ä¸€ä¸ªç»“ç‚¹ï¼Œè¿›è¡Œä¸€æ¬¡å…¨å±€çš„ç»´æŠ¤ï¼Œå½“æ‰€æœ‰ç»“ç‚¹éƒ½å¢åŠ æ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªå…¨å±€çš„æœ€çŸ­è·¯å¾„ã€‚å› ä¸ºæ¯æ¬¡å¢åŠ ä¸€ä¸ªç»“ç‚¹ï¼Œéƒ½æ˜¯è¿›è¡Œä¸€ä¸ªå…¨å±€æœ€çŸ­è·¯å¾„çš„ç»´æŠ¤ï¼Œæ‰€ä»¥èƒ½å¤Ÿä¿è¯æœ€åå¾—åˆ°çš„æ˜¯å…¨å±€çš„æœ€çŸ­è·¯å¾„ã€‚\n\nFloydç®—æ³•æ˜¯åŸºäºåŠ¨æ€è§„åˆ’çš„ï¼Œä»ç»“ç‚¹ i åˆ°ç»“ç‚¹ j çš„æœ€çŸ­è·¯å¾„åªæœ‰ä¸¤ç§ï¼š\n1ã€ç›´æ¥ i åˆ° j\n2ã€i ç»è¿‡è‹¥å¹²ä¸ªç»“ç‚¹åˆ° k å†åˆ° j\nå¯¹äºæ¯ä¸€ä¸ªkï¼Œæˆ‘ä»¬éƒ½åˆ¤æ–­ d[i][j] æ˜¯å¦å¤§äº d[i][k] + d[k][j]ï¼Œå¦‚æœå¤§äºï¼Œå°±å¯ä»¥æ›´æ–°d[i][j]äº†ã€‚\n\n* æ¨¡æ¿\n```cpp\n/*** \n * @Practice Win\n */\n#include<iostream>\n#include<cstring>\n#include<algorithm>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e2+11;\nll flo[maxn][maxn];\nll n,m;\nvoid floyd(){//floåˆå§‹åŒ–ä¸ºä¸€ä¸ªé‚»æ¥çŸ©é˜µä¹‹åï¼Œå³å¯è°ƒç”¨ï¼Œæ³¨æ„ç‚¹çš„ç¼–å·æ˜¯å¦ä»1å¼€å§‹ã€‚\n    //flo[x][y]è¡¨ç¤ºxåˆ°yçš„æœ€çŸ­è·ç¦»\n    for (ll k = 1; k <= n; k++) {//kå¿…é¡»æ”¾å¤–å±‚ï¼ï¼ï¼\n        for (ll x = 1; x <= n; x++) {\n            for (ll y = 1; y <= n; y++) {\n                flo[x][y] = min(flo[x][y], flo[x][k] + flo[k][y]);\n            }\n        }\n    }\n}\nvoid init(){\n    memset(flo,0x3f3f3f3f,sizeof(flo));\n    for(ll i=1;i<=n;i++)  flo[i][i]=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n>>m;\n    init();\n    for(ll i=1;i<=m;i++){\n        ll a,b;\n        cin>>a>>b;\n        flo[a+1][b+1]=flo[b+1][a+1]=1;//æ— å‘å›¾ï¼ï¼ï¼å› ä¸ºæ˜¯é‚»æ¥çŸ©é˜µï¼ï¼ï¼\n    }\n    floyd();\n    return 0;\n}\n\n```\n\n# floyd-æœ€å°ç¯ï¼ˆè‡³å°‘ä¸‰ä¸ªä¸åŒç‚¹å½¢æˆçš„ç¯ï¼‰\n[P6175 æ— å‘å›¾çš„æœ€å°ç¯é—®é¢˜](https://www.luogu.com.cn/problem/P6175)\n\n* æ¨¡æ¿\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-22 13:36:10\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nll d[111][111],ar[111][111],minn=INF,n;\nvoid floyd(){\n    for(ll k=1;k<=n;k++){\n        for(ll i=1;i<=n;i++){\n            for(ll j=1;j<=n;j++){\n                if(i==j)  continue;\n                minn=min(minn,ar[k][i]+ar[k][j]+d[i][j]);//å†™åœ¨d[i][j]å‰é¢ï¼æ’é™¤æ‰kåœ¨i,jè·¯å¾„ä¸Šçš„æƒ…å†µ\n                d[i][j]=min(d[i][j],d[i][k]+d[k][j]);\n            }\n        }\n    }\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll m;cin>>n>>m;\n    memset(d,0x1f,sizeof(d));\n    memset(ar,0x1f,sizeof(ar));\n    for(ll i=1,u,v,l;i<=m;i++){\n        cin>>u>>v>>l;\n        if(l<d[u][v])  d[u][v]=d[v][u]=ar[u][v]=ar[v][u]=l;\n    }\n    floyd();\n    if(minn>1e9)  cout<<\"No solution.\"<<endl;\n    else  cout<<minn<<endl;\n    return 0;\n}\n\n```\n\n# floyd-æœ€å¤§ç¯\n[Arbitrage HDU - 1217 ](https://vjudge.net/problem/HDU-1217)\n\né¢˜æ„ï¼šåˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨æœ€å¤§ç¯ï¼Œä½¿å¾—è¾¹ä¹˜ç§¯>1\n\næœ€å¤§ç¯ç®€å•è¿ç”¨ï¼ŒæŠŠ+å˜ä¹˜å³å¯\n\n```cpp\n\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-22 11:41:36\n*/\n#include<iostream>\n#include<cstring>\n#include<map>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=2e5+11;\nll n;\ndouble d[33][33],maxx;\nvoid floyd(){\n    for(ll k=1;k<=n;k++){\n        for(ll i=1;i<=n;i++){\n            for(ll j=1;j<=n;j++){\n                d[i][j]=max(d[i][j],d[i][k]*d[k][j]);\n                if(i==j)  maxx=max(d[i][j],maxx);\n            }\n        }\n    }\n}\nvoid init(){\n    memset(d,0,sizeof(d));\n    maxx=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca=0;\n    while(cin>>n && n){\n        init();\n        map<string,ll> mp;\n        for(ll i=1;i<=n;i++){\n            d[i][i]=1;\n            string sr;cin>>sr;\n            mp[sr]=i;\n        }\n        ll m;cin>>m;\n        for(ll i=1;i<=m;i++){\n            string sr1,sr2;double w;\n            cin>>sr1>>w>>sr2;\n            ll u=mp[sr1],v=mp[sr2];\n            d[u][v]=w;//é‡è¾¹ï¼Ÿ\n        }\n        floyd();\n        cout<<\"Case \"<<++ca<<\": \";\n        if(maxx>1)  cout<<\"Yes\"<<endl;\n        else  cout<<\"No\"<<endl;\n    }\n    return 0;\n}\n\n```\n\n# çµæ´»è¿ç”¨ï¼ˆæœ€çŸ­è·¯å»ºå›¾+å¼±æ€ç»´ï¼‰\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-1062\n**é¢˜æ„**  \n  å°èŠ±æƒ³å¨¶éƒ¨è½é‡Œçš„ç‹å­ ç‹å­çš„çˆ¶äº²è¦æ±‚ä¸€å®šæ•°é‡çš„é‡‘å¸æ‰èƒ½å¨¶  \n  å›°çª˜çš„å°èŠ±è¿˜æœ‰å¦å¤–ä¸€æ¡å‡ºè·¯å°±æ˜¯å¾—åˆ°å¦å¤–ä¸€ä»¶ä¸œè¥¿ä¸ç‹å­çš„çˆ¶äº²äº¤æ¢ ä»¥æ­¤æ¥å‡å°‘é‡‘å¸  \n  åŒç† å¯ä»¥ç”±åˆ«çš„ä¸œè¥¿æ¥æ¢å–ç°åœ¨éœ€è¦çš„ä¸œè¥¿çš„ä¼˜æƒ  \n  å¦ä¸€ä¸ªé™åˆ¶æ¡ä»¶å°±æ˜¯ ç­‰çº§ç›¸å·®kçš„äººä¸èƒ½è¿›è¡Œäº¤æ˜“ å³ä½¿æ˜¯é—´æ¥äº¤æ˜“\n **æ€è·¯**\n å…³é”®åœ¨äºå»ºå›¾ï¼Œä»¥åŠå¯¹ç­‰çº§é™åˆ¶çš„å¤„ç†\n ç‰©å“çš„äº¤æ¢æµç¨‹å¯ä»¥æ„æˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œè€Œä¸”è¿™ä¸ªå›¾æ˜¯æœ‰è¾¹æƒçš„ã€‚\n  äºæ˜¯å°±è½¬åŒ–ä¸ºï¼ˆæ±‚å„ç‚¹åˆ°æºç‚¹æœ€çŸ­çš„è·ç¦»+å„ç‚¹æœ¬èº«ä»·æ ¼ï¼‰çš„æœ€å°å€¼\n  æšä¸¾æ¯ä¸ªç»“ç‚¹å³å¯ã€‚\n  å…³äºç­‰çº§é™åˆ¶\n  åœ¨DijkstraæœŸé—´å°†è¿èƒŒç­‰çº§çš„ç‚¹ä¹‹é—´çš„è¾¹æƒè®¾ä¸ºæ— é™å¤§å³å¯ï¼Œè¡¨ç¤ºä¸å¯è®¿é—®\n  \n\n```cpp\nll dijkstra(){//è‹¥å›¾è¿é€šï¼Œè¿”å›æœ€çŸ­è·¯æƒå€¼å’Œï¼Œå¦åˆ™ï¼Œè¿”å›ä¸€ä¸ªæœªçŸ¥å€¼ã€‚\n\tfor(ll i=1;i<=n;i++){\n\t\tdis[i]=gra[start][i];\n\t\tlevell[i]=min(l[1],l[i]);\n\t\tlevelr[i]=max(l[1],l[i]);\n        if(abs(l[i]-l[1])>m)  dis[i]=INF;//è·¯å¾„ä¸Šçš„ç­‰çº§æå€¼å·®å¦‚æœå¤§äºm\n\t}\n\tvis[start]=1;\n\tll pos;\n\tfor(ll i=2;i<=n;i++){\n\t\tll minn=INF;\n\t\tpos=-1;\n\t\tfor(ll j=1;j<=n;j++)  if(!vis[j] && dis[j]<minn)  minn=dis[j],pos=j;//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n\t\tif(pos==-1)  break;\n\t\tvis[pos]=1;\n\t\tfor(ll j=1;j<=n;j++){\n            if(!vis[j] && dis[pos]+gra[pos][j]<dis[j]){//é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ï¼ï¼ï¼\n                dis[j]=dis[pos]+gra[pos][j];\n\t\t\t\tlevell[j]=min(levell[pos],l[j]);\n\t\t\t\tlevelr[j]=max(levelr[pos],l[j]);\n                if(levelr[j]-levell[j]>m)  dis[j]=INF;//è·¯å¾„ä¸Šçš„ç­‰çº§æå€¼å·®å¦‚æœå¤§äºm\n            }\n        }    \n\t}\n    return 1;\n}\n```\n\n# çµæ´»è¿ç”¨ï¼ˆå¼±æ€ç»´ï¼‰\n**é¢˜ç›®é“¾æ¥**  https://www.luogu.com.cn/problem/P1364\n**é¢˜æ„**  è®¾æœ‰ä¸€æ£µäºŒå‰æ ‘ï¼Œå¦‚å›¾ï¼šå…¶ä¸­ï¼Œåœˆä¸­çš„æ•°å­—è¡¨ç¤ºç»“ç‚¹ä¸­å±…æ°‘çš„äººå£ã€‚åœˆè¾¹ä¸Šæ•°å­—è¡¨ç¤ºç»“ç‚¹ç¼–å·ï¼Œç°åœ¨è¦æ±‚åœ¨æŸä¸ªç»“ç‚¹ä¸Šå»ºç«‹ä¸€ä¸ªåŒ»é™¢ï¼Œä½¿æ‰€æœ‰å±…æ°‘æ‰€èµ°çš„è·¯ç¨‹ä¹‹å’Œä¸ºæœ€å°\n**æ€è·¯** floydè¿ç”¨ä¸‹å°±è¡Œäº†\n```cpp\n/*** \n * @Practice Win\n * æ´›è°· P1364 åŒ»é™¢è®¾ç½®\n * floyd \n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e2+11;\nll flo[maxn][maxn],cnt[maxn];\nll n;\nvoid floyd(){//floåˆå§‹åŒ–ä¸ºä¸€ä¸ªé‚»æ¥çŸ©é˜µä¹‹åï¼Œå³å¯è°ƒç”¨ï¼Œæ³¨æ„ç‚¹çš„ç¼–å·æ˜¯å¦ä»1å¼€å§‹ã€‚\n    //flo[x][y]è¡¨ç¤ºxåˆ°yçš„æœ€çŸ­è·ç¦»\n    for (ll k = 1; k <= n; k++) {\n        for (ll x = 1; x <= n; x++) {\n            for (ll y = 1; y <= n; y++) {\n                flo[x][y] = min(flo[x][y], flo[x][k] + flo[k][y]);\n            }\n        }\n    }\n}\nvoid solve(){\n    ll ans=INF;\n    for(ll i=1;i<=n;i++){\n        ll minn=0;\n        for(ll j=1;j<=n;j++){\n            minn+=cnt[j]*flo[i][j];\n        }\n        ans=min(ans,minn);\n    }\n    cout<<ans<<endl;\n}\nvoid init(){\n    memset(flo,0x3f3f3f3f,sizeof(flo));\n    for(ll i=1;i<=n;i++)  flo[i][i]=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin>>n;\n    init();\n    for(ll i=1;i<=n;i++){\n        cin>>cnt[i];\n        ll l,r;\n        cin>>l>>r;\n        flo[i][l]=flo[l][i]=1;\n        flo[i][r]=flo[r][i]=1;\n    }\n    floyd();\n    solve();\n    return 0;\n}\n\n\n```\n\n# ç†è§£dijskraä¼˜å…ˆé˜Ÿåˆ—ä»£ç \n[æœ€çŸ­è·¯å¾„é—®é¢˜ HDU - 3790](https://vjudge.net/problem/HDU-3790/origin)\né¢˜æ„ï¼šç»™ä½ nä¸ªç‚¹ï¼Œmæ¡æ— å‘è¾¹ï¼Œæ¯æ¡è¾¹éƒ½æœ‰é•¿åº¦då’ŒèŠ±è´¹pï¼Œç»™ä½ èµ·ç‚¹sç»ˆç‚¹tï¼Œè¦æ±‚è¾“å‡ºèµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»åŠå…¶èŠ±è´¹ï¼Œå¦‚æœæœ€çŸ­è·ç¦»æœ‰å¤šæ¡è·¯çº¿ï¼Œåˆ™è¾“å‡ºèŠ±è´¹æœ€å°‘çš„ã€‚(1<n<=1000, 0<m<100000, s != t)\n\næ€è·¯ï¼šåœ¨ä¼˜å…ˆé˜Ÿåˆ—é‡Œé€‰åˆ™**è·¯å¾„**æ—¶ï¼Œé€‰æ‹©è·ç¦»æœ€çŸ­ä¸”èŠ±è´¹æœ€å°çš„è·¯å¾„å³å¯ã€‚æ³¨æ„ä»£ç ç»†èŠ‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-20 20:58:32\n*/\n\n#include<iostream>\n#include<cstring>\n#include<queue>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e5+11;\nstruct Edge{\n    ll fr,to,l,w,next;\n}edge[maxn<<1];\nll head[maxn],dis[maxn],vis[maxn],cost[maxn],tmp=1,start,goal,n,m;\nvoid add(ll u,ll v,ll l,ll w){\n    edge[tmp]={u,v,l,w};\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nstruct Point{\n    ll l,w,to;\n    bool operator < (const Point &b)  const{\n        if(l==b.l)  return w>b.w;\n        return l>b.l;\n    }\n};\npriority_queue<Point> qu;\nvoid dijkstra(){\n    qu.push({0,0,start});dis[start]=0,cost[start]=0;\n    while(!qu.empty()){\n        ll to=qu.top().to;qu.pop();\n        if(vis[to])  continue;\n        vis[to]=1;\n        for(ll i=head[to];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(!vis[v] && dis[to]+edge[i].l<=dis[v]){//æ¯æ¬¡é€‰æœ€çŸ­ä¸”èŠ±è´¹æœ€å°çš„è·¯å¾„ï¼Œè¦åŠ =å·ï¼ï¼ï¼ï¼\n                cost[v]=cost[to]+edge[i].w;\n                dis[v]=dis[to]+edge[i].l;\n                qu.push({dis[v],cost[v],v});//è¿™é‡Œæ˜¯cost[v],å³åˆ°vç‚¹çš„è·¯å¾„èŠ±è´¹  \n            }\n        }\n    }\n}\nvoid init(){\n    memset(dis,0x3f,sizeof(dis));\n    memset(head,0,sizeof(head));memset(vis,0,sizeof(vis));\n    tmp=1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    while(cin>>n>>m && (n||m)){\n        init();\n        for(ll i=1,u,v,l,w;i<=m;i++){\n            cin>>u>>v>>l>>w;\n            add(u,v,l,w);add(v,u,l,w);\n        }\n        cin>>start>>goal;\n        dijkstra();\n        cout<<dis[goal]<<\" \"<<cost[goal]<<endl;\n    }\n    return 0;\n}\n\n```\n\n# dijæ€ç»´å¥½é¢˜\n[Shortest Path Query](https://codeforces.com/problemset/problem/1335/F)\n\né¢˜æ„ï¼šç»™å®šä¸€ä¸ªå›¾ï¼Œå›¾ä¸­æ¯ä¸€æ¡è¾¹çš„ä¸¤ç‚¹ç¬¦åˆä»¥ä¸‹æ¡ä»¶ï¼šä¸¤ç‚¹ç¼–å·äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹ä¸€ä¸ªä½å¦ä¸€ä¸ªçš„å‰ç¼€ã€‚ç»™å‡ºqæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡ç»™å‡ºuï¼Œvï¼Œè¯¢é—®uå’Œvä¹‹é—´çš„æœ€çŸ­è·¯ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\næ€è·¯ï¼šæ±‚b,cä¸¤ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œç›´æ¥floydè‚¯å®šä¸è¡Œã€‚æ³¨æ„åˆ°é¢˜ç›®å‰ç¼€è¿™ä¸€æ€§è´¨ï¼Œè‹¥b,cå¯è¾¾ï¼Œ\nåˆ™bï¼Œcè‚¯å®šå­˜åœ¨ä¸€å…±åŒå‰ç¼€a,åˆ™bï¼Œcä¹‹é—´çš„è·ç¦»å³ä¸º(a,b)+(a,c)ã€‚\nè‹¥b < cï¼Œå¯ä»¥æšä¸¾bçš„å‰ç¼€ï¼Œlogbä¸ªï¼Œå†æ±‚min((a,b)+(a,c))å³å¯ã€‚\né‚£ä¹ˆå¦‚ä½•æ±‚(a,b)å’Œ(a,c)å‘¢ï¼Œç›´æ¥å¯¹æ‰€æœ‰ç‚¹æ±‚ä¸€édijè‚¯å®šä¸è¡Œï¼Œæ€è€ƒè§‚å¯Ÿåä¸éš¾å‘ç°ï¼Œ\næˆ‘ä»¬å¯ä»¥æ±‚(b,a)å’Œ(c,a)ï¼Œbå’Œcçš„ç¥–å…ˆç»“ç‚¹lognä¸ªï¼Œåˆ™æˆ‘ä»¬å­˜ä¸‹æ‰€æœ‰ç‚¹åˆ°å…¶ç¥–å…ˆèŠ‚ç‚¹çš„è·ç¦»å³å¯ã€‚\n\n  </code></pre>\n</details>\n\nä»£ç ï¼Œwaäº†ï¼Œä¸çŸ¥é“waåœ¨å“ªäº†ã€‚ã€‚ï¼Œæ”¹äº†ä¸€ä¸‹åˆæ²¡æ”¹å‡ºæ¥ã€‚ã€‚\nå¥½å¿ƒäººè‹¥æ‰¾å‡ºé”™è¯¯äº†ä¸€å®šå‘Šè¯‰æˆ‘(qiuqiule)\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-21 16:34:07\n*/\n/*\næ±‚b,cä¸¤ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œç›´æ¥floydè‚¯å®šä¸è¡Œã€‚æ³¨æ„åˆ°é¢˜ç›®å‰ç¼€è¿™ä¸€æ€§è´¨ï¼Œè‹¥b,cå¯è¾¾ï¼Œ\nåˆ™bï¼Œcè‚¯å®šå­˜åœ¨ä¸€å…±åŒå‰ç¼€a,åˆ™bï¼Œcä¹‹é—´çš„è·ç¦»å³ä¸º(a,b)+(a,c)ã€‚\nè‹¥b<cï¼Œå¯ä»¥æšä¸¾bçš„å‰ç¼€ï¼Œlogbä¸ªï¼Œå†æ±‚min((a,b)+(a,c))å³å¯ã€‚\né‚£ä¹ˆå¦‚ä½•æ±‚(a,b)å’Œ(a,c)å‘¢ï¼Œç›´æ¥å¯¹æ‰€æœ‰ç‚¹æ±‚ä¸€édijè‚¯å®šä¸è¡Œï¼Œæ€è€ƒè§‚å¯Ÿåä¸éš¾å‘ç°ï¼Œ\næˆ‘ä»¬å¯ä»¥æ±‚(b,a)å’Œ(c,a)ï¼Œbå’Œcçš„ç¥–å…ˆç»“ç‚¹lognä¸ªï¼Œåˆ™æˆ‘ä»¬å­˜ä¸‹æ‰€æœ‰ç‚¹åˆ°å…¶ç¥–å…ˆèŠ‚ç‚¹çš„è·ç¦»å³å¯ã€‚\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x3f3f3f3f3f3f3f3f\ntypedef long long ll;\nconst ll maxn=2e5+11;\nstruct Edge{\n    ll fr,to,l,next;\n}edge[maxn];\nll head[maxn],dis[maxn][22],tmp=1;\nstruct Point{\n    ll l,p;\n    bool operator < (const Point& b) const {\n        return l>b.l;\n    }\n};\npriority_queue<Point> qu;\nvoid add(ll u,ll v,ll l){\n    edge[tmp]={u,v,l};\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nll shu(ll x){\n    for(ll i=1;i<=20;i++)  if(x>>i==0)  return i;\n}\nll check(ll a,ll b){//åˆ¤æ–­aä¸ºbçš„å‰ç¼€\n    for(ll i=1;i<=20;i++)  if(b>>i==a)  return 1;\n    return 0;\n}\nvoid dijkstra(ll root){\n    ll vis[22];\n    memset(vis,0,sizeof(vis));\n    ll num=shu(root);\n    qu.push({0,root});dis[root][num]=0;\n    while(!qu.empty()){\n        ll pos=qu.top().p;qu.pop();\n        ll nn=shu(pos);\n        if(vis[nn]==1)  continue;\n        vis[nn]=1;\n        for(ll i=head[pos];i;i=edge[i].next){\n            ll v=edge[i].to;ll nnn=shu(v);\n            if(check(v,root)==0)  continue;\n            if(dis[root][nn]+edge[i].l<dis[root][nnn]){\n                dis[root][nnn]=dis[root][nn]+edge[i].l;\n                qu.push({dis[root][nnn],v});\n            }\n        }\n    }\n}\nvoid solve(ll b,ll c){\n    if(b>c)  swap(b,c);\n    ll ans=INF;\n    ll in=1;\n    if(check(b,c))  in=0;\n    for(ll i=in;i<=20;i++){\n        ll a=b>>i;ll num=shu(a);\n        ans=min(ans,dis[b][num]+dis[c][num]);\n    }\n    if(ans==INF)  cout<<-1<<endl;\n    else  cout<<ans<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    memset(dis,0x3f,sizeof(dis));\n    ll n,m;cin>>n>>m;\n    for(ll i=1,u,v,l;i<=m;i++){\n        cin>>v>>u>>l;\n        add(u,v,l);\n    }\n    for(ll i=1;i<=n;i++)  dijkstra(i);\n    ll q;cin>>q;\n    while(q--){\n        ll b,c;cin>>b>>c;\n        solve(b,c);\n    }\n    return 0;\n}\n\n```\n\n# dijæ€ç»´å¥½é¢˜\n\n[Silver Cow Party](https://vjudge.net/problem/POJ-3268)\n\n[è½¬è½½é¢˜è§£](https://www.cnblogs.com/Jason-Damon/archive/2012/04/29/2476285.html)\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-21 18:59:30\n*/\n#include<iostream>\n#include<cstring>\n#include<queue>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e5+11;\nstruct Edge{\n    ll fr,to,t,next;\n}edge[maxn];\nll head[maxn],fr[maxn],to[maxn],t[maxn],vis[maxn],disf[maxn],diss[maxn],tmp,root;\nstruct Point{\n    ll l,p;\n    bool operator < (const Point& b) const{\n        return l>b.l;\n    }\n};\npriority_queue<Point> qu; \nvoid add(ll u,ll v,ll t){\n    edge[tmp]={u,v,t};\n    edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid dijkstra1(){\n    qu.push({0,root});disf[root]=0;\n    while(!qu.empty()){\n        ll u=qu.top().p;qu.pop();\n        if(vis[u]==1)  continue;\n        vis[u]=1;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(disf[u]+edge[i].t<disf[v]){\n                disf[v]=disf[u]+edge[i].t;\n                qu.push({disf[v],v});\n            }\n        }\n    }\n}\nvoid dijkstra2(){\n    qu.push({0,root});diss[root]=0;\n    while(!qu.empty()){\n        ll u=qu.top().p;qu.pop();\n        if(vis[u]==1)  continue;\n        vis[u]=1;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(diss[u]+edge[i].t<diss[v]){\n                diss[v]=diss[u]+edge[i].t;\n                qu.push({diss[v],v});\n            }\n        }\n    }\n}\nvoid init(){\n    memset(head,0,sizeof(head));tmp=1;\n    memset(vis,0,sizeof(vis));\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n,m;cin>>n>>m>>root;\n    for(ll i=1;i<=m;i++){\n        cin>>fr[i]>>to[i]>>t[i];\n    }\n    init();memset(disf,0x3f,sizeof(disf));\n    for(ll i=1;i<=m;i++){\n        add(fr[i],to[i],t[i]);\n    }\n    dijkstra1();\n    init();memset(diss,0x3f,sizeof(diss));\n    for(ll i=1;i<=m;i++){\n        add(to[i],fr[i],t[i]);\n    }\n    dijkstra2();\n    ll ans=0;\n    for(ll i=1;i<=n;i++){\n        if(i==root)  continue;\n        ans=max(ans,disf[i]+diss[i]);\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\n```\n\n# dijçµæ´»è¿ç”¨(æ€ç»´ä¸€èˆ¬)\n\n[Delay Constrained Maximum Capacity Path HDU - 1839](https://vjudge.net/contest/458535#problem/G)\n\né¢˜æ„ï¼šæ±‚ä¸€æ¡ä»1åˆ°nå®¹é‡æœ€å¤§ï¼Œæ—¶é—´åœ¨tä»¥å†…çš„è·¯å¾„ã€‚è·¯å¾„å®¹é‡æ˜¯æŒ‡è·¯å¾„ä¸Šçš„æœ€å°è¾¹ï¼Œtæ˜¯è·¯å¾„ä¸Šæ¯æ¡è¾¹çš„æ—¶é—´æ€»å’Œã€‚\næ¯æ¡è¾¹å››ä¸ªå‚æ•°ï¼Œu,vï¼Œå®¹é‡ï¼ŒèŠ±è´¹æ—¶é—´ã€‚(n < 1e4,m < 5e4);\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\nä¸€å¼€å§‹æƒ³çš„ï¼Œè¿™ä¸å°±dfså˜›ï¼Œç„¶åè·‘äº†ä¸€éå‘ç°è¶…æ—¶äº†ï¼Œä¹Ÿå¯¹ï¼Œè¿™ç§æœ‰ç¯å›¾dfså¤æ‚åº¦æƒŠäººã€‚\nç„¶åæƒ³åˆ°äºŒåˆ†è¾¹é•¿å»ºå›¾ï¼ŒæŠŠæ¯æ¬¡>midçš„è¾¹å»ºå›¾ï¼Œçœ‹dis[ n ]æ˜¯å¦ <= t;\n \n  </code></pre>\n</details>\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-23 19:34:35\n*/\n#include<iostream>\n#include<cstring>\n#include<queue>\n#include<algorithm>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e5+11;\nstruct Edge{\n    ll to,w,t,next;\n}edge[maxn];\nll ar[maxn],head[maxn],dis[maxn],vis[maxn],u[maxn],v[maxn],w[maxn],t[maxn];\nll n,m,total,tmp,start,goal,step;\nstruct Point{\n    ll w,pos;\n    bool operator < (const Point& b) const{\n        return w>b.w;\n    }\n};\npriority_queue<Point> dq;\nvoid add(ll u,ll v,ll w,ll t){\n    edge[tmp]={v,w,t};edge[tmp].next=head[u];\n    head[u]=tmp++;\n}\nvoid dijkstra(){\n    dis[start]=0;\n    dq.push({0,start});\n    while(!dq.empty()){\n        ll u=dq.top().pos;dq.pop();\n        if(vis[u]==1)  continue;\n        vis[u]=1;\n        for(ll i=head[u];i;i=edge[i].next){\n            ll v=edge[i].to;\n            if(!vis[v] && dis[u]+edge[i].t<dis[v]){\n                dis[v]=dis[u]+edge[i].t;\n                dq.push({dis[v],v});\n            }\n        }\n    }\n}\nvoid init(){\n    memset(head,0,sizeof(head));memset(dis,0x1f,sizeof(dis));\n    memset(vis,0,sizeof(vis));\n}\nll check(ll mid){\n    tmp=1;init();\n    for(ll i=1;i<=m;i++){\n        if(w[i]>=ar[mid]){\n            add(u[i],v[i],w[i],t[i]);add(v[i],u[i],w[i],t[i]);\n        }\n    }\n    dijkstra();\n    if(dis[goal]<=total)  return 1;\n    else  return 0;\n}\nvoid solve(){\n    ll l=0,r=step;\n    while(l<r){\n        ll mid=(l+r)>>1;\n        if(check(mid))  r=mid;\n        else  l=mid+1;\n    }\n    cout<<ar[l]<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;\n    while(ca--){\n        cin>>n>>m>>total;\n        start=1;goal=n;step=0;\n        for(ll i=1;i<=m;i++){\n            cin>>u[i]>>v[i]>>w[i]>>t[i];\n            ar[i-1]=w[i];\n        }\n        step=m;\n        sort(ar,ar+step,greater<ll>());\n        solve();\n    }\n    return 0;\n}\n\n```\n","tags":["å›¾è®º"]},{"title":"å›¾çš„éå†","url":"/2021/09/20/å›¾çš„éå†/","content":"\ndfs bfs ..\n\n<!--more-->\n\n# dfs\ndfséœ€è¦è§£å†³çš„æœ€å…³é”®é—®é¢˜ï¼š\nå½“æ— æ³•ç»§ç»­å¾€ä¸‹éå†æ—¶ï¼Œå¦‚ä½•å›é€€åˆ°ä¸Šä¸€æ­¥\næ–¹æ³•ï¼šçœ‹åˆ°å…³é”®å­—å›é€€ï¼Œåº”è¯¥æƒ³åˆ°é€’å½’ï¼Œé€’å½’å°±æ˜¯ä¸€æ­¥æ­¥å¾€ä¸‹å¤„ç†ï¼Œå¤„ç†åˆ°æœ«å°¾å†ä¸€æ­¥æ­¥å›é€€ï¼Œä¸dfså¾ˆå¥‘åˆ\nå¯¹äºdfsè¿‡ç¨‹ä¸­çš„ç»“ç‚¹ï¼Œæœ‰å…ˆå…¥åå‡ºçš„ç‰¹ç‚¹ï¼ŒFILO,å³æ ˆã€‚\nï¼ˆæ ˆè¿™é‡Œä¸æ‡‚çœ‹è¿™ç¯‡https://blog.csdn.net/saltriver/article/details/54429068ï¼‰\nä¸‹é¢æ¼”ç¤ºç”¨dfsæ•°å‡ºå›¾ä¸­ä¸æºç‚¹è·ç¦»å¤§äºdçš„ç‚¹çš„ä¸ªæ•°\n```cpp\nvoid dfs(ll u,ll step){\n    if(step>d)  ans++;\n    for(ll i=head[u];i!=-1;i=edge[i].next){//é“¾å¼å‰å‘æ˜Ÿå­˜å‚¨\n        dfs(edge[i].to,step+1);\n    }\n    return ;\n}\n```\n# çµæ´»è¿ç”¨(dfsæ€ç»´å¥½é¢˜)\n**é¢˜ç›®é“¾æ¥**  https://www.luogu.com.cn/problem/P3916\n**é¢˜æ„**  ç»™å‡ºNä¸ªç‚¹ï¼ŒMæ¡è¾¹çš„æœ‰å‘å›¾ï¼Œå¯¹äºæ¯ä¸ªç‚¹vï¼Œæ±‚A(v)è¡¨ç¤ºä»ç‚¹vå‡ºå‘ï¼Œèƒ½åˆ°è¾¾çš„ç¼–å·æœ€å¤§çš„ç‚¹ã€‚\n**æ€è·¯**  ç¼–å·æœ€å¤§çš„ç‚¹ï¼Œæˆ‘ä»¬ä¸å¦¨**ä»æœ€å¤§çš„ç‚¹å¼€å§‹éå†**ï¼Œ**åå‘å»ºè¾¹**ï¼Œè¿™æ ·å­ä»æœ€å¤§çš„ç‚¹éå†åˆ°çš„æ‰€æœ‰ç‚¹ï¼Œå°±éƒ½æ˜¯ä»¥è¯¥ç‚¹ä½œä¸ºæœ€å¤§å€¼\n\n# çµæ´»è¿ç”¨ï¼ˆè¾ƒç®€å•dfsï¼‰\n**é¢˜ç›®é“¾æ¥**  https://www.luogu.com.cn/problem/P1123\n**é¢˜æ„** ä¸€ä¸ªNÃ—Mçš„ç”±éè´Ÿæ•´æ•°æ„æˆçš„æ•°å­—çŸ©é˜µï¼Œä½ éœ€è¦åœ¨å…¶ä¸­å–å‡ºè‹¥å¹²ä¸ªæ•°å­—ï¼Œä½¿å¾—å–å‡ºçš„ä»»æ„ä¸¤ä¸ªæ•°å­—ä¸ç›¸é‚»ï¼ˆè‹¥ä¸€ä¸ªæ•°å­—åœ¨å¦å¤–ä¸€ä¸ªæ•°å­—ç›¸é‚»8ä¸ªæ ¼å­ä¸­çš„ä¸€ä¸ªå³è®¤ä¸ºè¿™ä¸¤ä¸ªæ•°å­—ç›¸é‚»ï¼‰ï¼Œæ±‚å–å‡ºæ•°å­—å’Œæœ€å¤§æ˜¯å¤šå°‘ã€‚\nå¯¹äº100%çš„æ•°æ®ï¼ŒN, Mâ‰¤6,Tâ‰¤20ï¼ŒTæ˜¯æ ·ä¾‹æ•°\n**æ€è·¯** ç®€å•dfs\n# çµæ´»è¿ç”¨ï¼ˆdfsæ€ç»´å¥½é¢˜ï¼‰\n**é¢˜ç›®é“¾æ¥**  https://ac.nowcoder.com/acm/contest/188/C?&headNav=www&headNav=acm&headNav=acm&headNav=acm\n**é¢˜æ„**  å°wæœ‰ä¸€å¼ nä¸ªç‚¹n-1æ¡è¾¹çš„æ— å‘è”é€šå›¾,æ¯ä¸ªç‚¹ç¼–å·ä¸º1~n,æ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ï¼Œå°wç°åœ¨åœ¨ç‚¹xä¸Šï¼Œå¥¹æƒ³çŸ¥é“ä»ç‚¹xå‡ºå‘ç»è¿‡æ¯ä¸ªç‚¹è‡³å°‘ä¸€æ¬¡ï¼Œæœ€å°‘éœ€è¦èµ°å¤šå°‘è·¯\n**æ€è·¯**  åªæœ‰ä»èµ·ç‚¹åˆ°å„ä¸ªç»“ç‚¹ä¸­ï¼Œæœ€é•¿çš„é‚£ä¸ªè·¯å¾„éœ€è¦èµ°ä¸€æ¬¡ï¼Œå…¶ä»–è·¯å¾„éƒ½éœ€è¦èµ°ä¸¤æ¬¡\n\n```cpp\nvoid dfs(ll u,ll uu,ll length){\n      ans=max(ans,length);\n      for(ll i=head[u];~i;i=edge[i].next){\n          if(edge[i].to==uu)  continue;\n          dfs(edge[i].to,u,length+edge[i].w);\n      }\n}\n```\n# çµæ´»è¿ç”¨ï¼ˆç»†èŠ‚dfsï¼‰\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/HDU-2821\n**é¢˜æ„**  æœ‰ä¸€ä¸ªR*Cçš„æ–¹æ ¼ï¼Œâ€˜.â€™ä»£è¡¨ç©ºåœ°ï¼Œâ€˜a~zâ€™åˆ†åˆ«ä»£è¡¨è¯¥å¤„æœ‰1~26ä¸ªç®±å­ï¼ŒæŸäººå¯ä»¥ä»è·ç¦»ç®±å­è‡³å°‘ä¸€ä¸ªç©ºæ ¼å¤„æ¨ç®±å­ï¼Œæ¨ä¸€æ¬¡æ­¤å¤„å°‘ä¸€ä¸ªç®±å­ï¼Œå¦‚æœè¿™ä¸ªæ ¼è¿˜æœ‰å…¶ä»–ç®±å­ï¼Œåˆ™å’Œå®ƒä¸‹ä¸€ä¸ªæ ¼çš„ç®±å­åˆå¹¶æˆ–åˆ°ä¸‹ä¸€ä¸ªæ ¼ï¼Œæœç€æŸä¸ªæ–¹å‘ä¸€ç›´æ¨åˆ°è¾¹ç•Œæˆ–è€…é‡åˆ°ç®±å­ä¸èƒ½æ¨ä¸ºæ­¢ï¼ˆå³ç®±å­æ•°å¤šäº1çš„å †åœ¨è¾¹ç•Œï¼‰æ‰å¯ä»¥æ¢æ–¹å‘ï¼Œä»»æ„è¾“å‡ºä¸€ç§å¯ä»¥æŠŠç®±å­æ¨å®Œçš„æ–¹æ¡ˆï¼Œè¾“å‡ºæ¨ç®±å­æ—¶èµ·ç‚¹çš„ä½ç½®ä»¥åŠæ¨ç®±å­æ—¶çš„æ–¹å‘ã€‚\næ³¨æ„ï¼šâ‘ èµ·ç‚¹ä¸èƒ½æœ‰ç®±å­ã€‚â‘¡å¿…é¡»è¦éš”ä¸€ä¸ªä½ç½®æ‰èƒ½ç¢°ã€‚â‘¢ç¢°çš„ç®±å­åœ¨è¾¹ä¸Šæ—¶ï¼Œå‰©ä¸‹çš„ç®±å­ä¸èƒ½ç§»å‡ºçŸ©å½¢èŒƒå›´ã€‚â‘£æ ¼å­åœ¨è¾¹ä¸Šæ—¶ï¼Œç¢°ä¹‹åå¦‚æœè¿˜æœ‰æ ¼å­å‰©ä½™ï¼Œpusherçš„ä½ç½®å°±ä¸åœ¨è¾¹ä¸Šï¼Œå¦åˆ™å°±åœ¨è¾¹ä¸Šã€‚\n**æ€è·¯** ç»†èŠ‚dfsï¼Œå…ˆé¢„å¤„ç†ä¸‹ï¼Œå°†'.'æ¢æˆæ•°å­—0,abcdæ¢æˆå¯¹åº”æ•°å­—å³å¯\n**è¸©å‘** **åˆ«ç”¨getchar()ä¸€ä¸ªä¸ªè¯»å…¥å¤„ç†ï¼Œå®¹æ˜“å‡ºé”™ï¼ï¼ï¼**\n**å°æŠ€å·§** **åŒé‡å¾ªç¯è¿˜å¯ä»¥è¿™æ ·é€€å‡ºï¼ï¼ï¼**\n```cpp\nll dfs(ll x,ll y,ll cnt,string s,ll d,ll b){//d 1 2 3 4,ä¸Šå³ä¸‹å·¦ï¼Œbä¸ºé—´éš™æ•°ã€‚dfsæ‰¾åˆ°è¿”å›1ï¼Œå¦åˆ™è¿”å›0\n    if(x<1 || x>r || y<1 || y>c)  return 0;//å½“å‰è¶Šç•Œ\n    if(cnt==0){//ç®±å­å…¨éƒ¨æ¸…é™¤\n        outs=s;\n        return 1;\n    }  \n    if(d==0){//dä¸º0ï¼Œé€‰æ‹©æ–¹å‘\n        for(ll i=1;i<=4;i++){\n            if(dfs(x+dir[i][0],y+dir[i][1],cnt,s+ar[i],i,b+1))  return 1;\n        }\n    }\n    else{//dä¸ä¸º0\n        if(gra[x][y]==0){//å½“å‰ä½ç½®æ˜¯é“è·¯\n            if(dfs(x+dir[d][0],y+dir[d][1],cnt,s,d,b+1))  return 1;\n        }  \n        else{//å½“å‰ä½ç½®æ˜¯ä¸æœ¨å—é‡åˆï¼Œå³æ’åˆ°æœ¨å—ï¼Œ\n            if(b<2)  return 0;//å¦‚æœæ²¡æœ‰é—´éš™ï¼Œå³å¿…é¡»è¦éš”ä¸€ä¸ªä½ç½®æ‰èƒ½ç¢°\n            if(x+dir[d][0]<1 || x+dir[d][0]>r || y+dir[d][1]<1 || y+dir[d][1]>c){//å¦‚æœåé¢æ˜¯è¾¹ç•Œ\n                ll t=gra[x][y];\n                if(t>1)  return 0;//å¦‚æœç®±å­æ•°æ¯”1å¤š\n                gra[x][y]=0;\n                if(dfs(x,y,cnt-1,s,0,0))  return 1;\n                gra[x][y]=1;\n            }\n            else{//å¦‚æœåé¢ä¸æ˜¯è¾¹ç•Œ\n                ll t=gra[x][y];\n                gra[x][y]=0;\n                gra[x+dir[d][0]][y+dir[d][1]]+=t-1;\n                if(dfs(x,y,cnt-1,s,0,0))  return 1;\n                gra[x][y]=t;//å›æº¯\n                gra[x+dir[d][0]][y+dir[d][1]]+=1-t;\n            }\n        }\n    }\n    return 0;\n}\n```\n\n# bfs\nç»“ç‚¹æ€§è´¨ç¬¦åˆFIFOï¼Œå³é˜Ÿåˆ—\n```cpp\næ”¾å…¥0ç‚¹åˆ°é˜Ÿåˆ—é‡Œã€‚\nwhileï¼ˆé˜Ÿåˆ—ä¸ä¸ºç©ºï¼‰{\n        å–å‡ºé˜Ÿåˆ—é‡Œçš„ä¸€ä¸ªç‚¹ä¸ºAã€‚\n        å¼¹å‡ºA\n    forï¼ˆéå†Aç‚¹æ‰€æœ‰ç›¸è¿çš„ç‚¹ï¼‰{\n        if(è¯¥ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡) {\n        è®°å½•è¯¥ç‚¹è®¿é—®è¿‡\n        è¯¥ç‚¹å…¥é˜Ÿåˆ—\n        }\n    }\n}\n\n```\n","tags":["å›¾è®º"]},{"title":"å›¾è®ºåŸºç¡€","url":"/2021/09/20/å›¾è®ºåŸºç¡€/","content":"\nå­˜å›¾=\n\n<!--more-->\n\nï¼ˆé‚»æ¥çŸ©é˜µåªé€‚ç”¨äºæ²¡æœ‰é‡è¾¹ï¼ˆæˆ–é‡è¾¹å¯ä»¥å¿½ç•¥ï¼‰çš„æƒ…å†µï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ç”¨è€ƒè™‘ï¼‰\n* **é‚»æ¥çŸ©é˜µ**\n\n>  ç©ºé—´å¤æ‚åº¦é«˜ï¼šO(n^2) \n   æŸ¥è¯¢ä¸€æ¡è¾¹çš„å­˜åœ¨æƒ…å†µå¿«ï¼š O(1)\n   éå†ä¸€ä¸ªç‚¹çš„æ‰€æœ‰å‡ºè¾¹ ï¼šO(n) \n    éå†æ•´ä¸ªå›¾ ï¼šO(n^2)\n* **é‚»æ¥è¡¨**\n>ç©ºé—´å¤æ‚åº¦ä½ ï¼šä¸ºO(m) mä¸ºè¾¹æ•°\næŸ¥è¯¢æŸæ¡è¾¹ ï¼š O(d+(u))å³è¿™ä¸ªç‚¹çš„è¾¹æ•° ï¼Œå¦‚æœè¾¹æœ‰æ’åºï¼Œåˆ™é€šè¿‡äºŒåˆ†å°±æ˜¯O(log d+(u)) logè¾¹æ•°çš„äº‹ä»¶ã€‚\néå†ä¸€ä¸ªç‚¹çš„æ‰€æœ‰å‡ºè¾¹ ï¼šO(d+(u))å³è¯¥ç‚¹çš„è¾¹æ•°\néå†æ•´ä¸ªå›¾ ï¼šO(n+m) äº‹ä»¶ä¸ºç‚¹çš„ä¸ªæ•°åŠ è¾¹æ•°ã€‚\n* é“¾å¼å‰å‘æ˜Ÿ\nä¸é‚»æ¥è¡¨åŸºæœ¬ä¸€è‡´ã€‚\nä¼˜ç‚¹æ˜¯è¾¹æœ‰ç¼–å·ï¼ˆåœ¨æ›´å‰å®³ç‚¹çš„ç®—æ³•ä¸­æœ‰ç”¨ï¼‰\n","tags":["å›¾è®º"]},{"title":"XTUè‡ªåŠ¨æ‰“å¡","url":"/2021/09/17/XTUè‡ªåŠ¨æ‰“å¡/","content":"\nXTUæ¯å¤©è‡ªåŠ¨å¥åº·æ‰“å¡  çœŸé¦™ï¼\n<!--more-->\n\n[è½¬è½½](https://www.bilibili.com/video/BV1fU4y1x7tA)\n","tags":["å·¥å…·"]},{"title":"atom","url":"/2021/09/15/atom/","content":"\natomç»™æˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰ï¼Œæ— ç–‘æ˜¯æƒŠè‰³çš„ï¼Œè¾ƒè½»é‡ï¼Œç®€æ´è€Œä¸å¤±ç¾è§‚ï¼Œå¾ˆæ–¹ä¾¿çš„åˆ†å±ï¼Œæ’ä»¶å®‰è£…ååˆ†æ–¹ä¾¿ï¼Œå¹¶ä¸”æ’ä»¶åœ¨GitHubéƒ½æœ‰è¯¦ç»†ä»‹ç»\n\n<!--more-->\n\nå¯æƒœæ²¡æ‰¾åˆ°ä¸€é”®æ·»åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Šï¼ˆæ‡’å¾—æ•²é‚£ä¸€å †include,defineï¼‰å’Œä»£ç è‡ªåŠ¨è¡¥å…¨ï¼ˆæŒ‡æ•²ä¸ªstring sr,sr.åé¢ä¸å‡ºæ¥ä¸œè¥¿ï¼‰çš„æ’ä»¶ï¼Œæœ‰ç‚¹å¯æƒœã€‚\n\n# æˆ‘å®‰è£…çš„ä¸€äº›æ’ä»¶\n\nlinter-gcc              gccè¯­æ³•é”™è¯¯æ£€æŸ¥\nlinter                  è¯­æ³•é”™è¯¯æ£€æŸ¥\ngcc-make-run            C++F6ä¸€é”®ç¼–è¯‘è¿è¡Œ\nHighlight Selected      ç›¸åŒå˜é‡é«˜äº®\nminimap                 å³ä¸Šè§’ä¸€ä¸ªå…¨éƒ¨ä»£ç ç¼©ç•¥å›¾\natom-file-icons         å¥½çœ‹çš„æ–‡ä»¶å›¾æ ‡\nactivate-power-mode     ä»£ç è¿å‡»ï¼Œæ•²ä»£ç ï¼ŸéŸ³æ¸¸ï¼\n\n# æœ‰å¥½ç”¨çš„æ’ä»¶ä¸€èµ·äº¤æµå‘€&#x1F60F;\n\n","tags":["å·¥å…·"]},{"title":"æœç´¢","url":"/2021/09/13/æœç´¢/","content":"\ndfs bfs ...\n<!--more-->\n\n# DFS\n## æ¨¡æ¿1\néœ€è¦æ ‡è®°ç›¸å…³ä¿¡æ¯æ—¶ä½¿ç”¨è¿™ç§åšæ³•\nä¸”æœç´¢åˆ°æ»¡è¶³æ¡ä»¶çš„ä¼šç»§ç»­æœç´¢ï¼Œä¸ä¼šåœæ­¢\n```cpp\nint check(å‚æ•°)\n{\n    if(æ»¡è¶³æ¡ä»¶)\n        return 1;\n    return 0;\n}\n \nvoid dfs(int step)\n{\n        åˆ¤æ–­è¾¹ç•Œ\n        {\n            ç›¸åº”æ“ä½œ\n        }\n        å°è¯•æ¯ä¸€ç§å¯èƒ½\n        {\n               æ»¡è¶³checkæ¡ä»¶\n               æ ‡è®°\n               ç»§ç»­ä¸‹ä¸€æ­¥dfs(step+1)\n               æ¢å¤åˆå§‹çŠ¶æ€ï¼ˆå›æº¯çš„æ—¶å€™è¦ç”¨åˆ°ï¼‰\n        }\n}   \n```\n## ä¾‹é¢˜\n**é¢˜ç›®é“¾æ¥**  https://www.luogu.com.cn/problem/P1123\n**é¢˜æ„**   ä¸€ä¸ªNÃ—Mçš„ç”±éè´Ÿæ•´æ•°æ„æˆçš„æ•°å­—çŸ©é˜µï¼Œä½ éœ€è¦åœ¨å…¶ä¸­å–å‡ºè‹¥å¹²ä¸ªæ•°å­—ï¼Œ ä½¿å¾—å–å‡ºçš„ä»»æ„ä¸¤ä¸ªæ•°å­—ä¸ç›¸é‚»ï¼ˆè‹¥ä¸€ä¸ªæ•°å­—åœ¨å¦å¤–ä¸€ä¸ªæ•°å­—ç›¸é‚»8ä¸ªæ ¼å­ä¸­çš„ä¸€ä¸ªå³è®¤ä¸ºè¿™ä¸¤ä¸ªæ•°å­—ç›¸é‚»ï¼‰ï¼Œæ±‚å–å‡ºæ•°å­—å’Œæœ€å¤§æ˜¯å¤šå°‘ã€‚\nå¯¹äº100%çš„æ•°æ®ï¼ŒN, Mâ‰¤6,Tâ‰¤20ï¼ŒTæ˜¯æ ·ä¾‹æ•°\n* **æ³¨æ„ç»†èŠ‚**\n```cpp\n/*** \n * @Practice Win\n * æ´›è°· P1123 å–æ•°æ¸¸æˆ \n * dfs \n * æ€è·¯ ç®€å•dfs\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nll ar[11][11],vis[11][11],d[11][2]={-1,0,-1,1,0,1,1,1,1,0,1,-1,0,-1,-1,-1,0,0};\n//æ–¹å‘æ•°ç»„ï¼Œä¾¿äºå¯¹xå‘¨å›´çš„å…«ä¸ªæ•°æ“ä½œï¼Œå¾ˆå·§å¦™ï¼ï¼ï¼\nll n,m,ans=0,maxx=0;\nvoid dfs(ll x,ll y){\n    if(y==m+1){\n        dfs(x+1,1);\n        return ;\n    }\n    if(x==n+1){\n        ans=max(ans,maxx);\n        return ;\n    }\n    dfs(x,y+1);\n    if(vis[x][y]==0){\n        maxx+=ar[x][y];\n        for(ll i=0;i<=8;i++){\n            vis[x+d[i][0]][y+d[i][1]]++;//è¿™é‡Œæ˜¯++ï¼Œä¸èƒ½æ˜¯=1ï¼Œå› ä¸ºä¸€ä¸ªæ•°å¯èƒ½ä¼šè¢«å¤šæ¬¡æ ‡è®°ä¸ºä¸å¯è®¿é—®\n        }\n        dfs(x,y+1);\n        for(ll i=0;i<=8;i++){\n            vis[x+d[i][0]][y+d[i][1]]--;\n        }\n        maxx-=ar[x][y];\n    }\n}\nvoid init(){\n    memset(vis,0,sizeof(vis));\n    ans=maxx=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll t;\n    cin>>t;\n    while(t--){\n        init();\n        cin>>n>>m;\n        for(ll i=1;i<=n;i++){\n            for(ll j=1;j<=m;j++)  cin>>ar[i][j];\n        }\n        dfs(1,1);\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n\n\n```\n\n## æ¨¡æ¿2\nä¸éœ€è¦æ ‡è®°ç›¸å…³ç»“ç‚¹ä¿¡æ¯æ—¶å¯ä»¥ç”¨è¿™ç§å†™æ³•\nè¿™ç§åœ¨æœç´¢åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç»“æœå°±ä¼šåœæ­¢æœç´¢\n```cpp\nbool dfs(ll step){\n    if(step==n)  return true;//è¾¾åˆ°è¾¹ç•Œ\n    for(//éå†nä¸ªç»“ç‚¹){\n        if(dfs(step+1))  return ture;//æ»¡è¶³åˆ™åœæ­¢æœç´¢\n    }\n    return false;\n}\n```\n\n# å›æº¯æ³•\nå…¶å®æˆ‘è§‰å¾—æ›´å¥½ç†è§£çš„å°±æ˜¯ï¼Œå¦‚æœå½“å‰æ¡ä»¶å·²ç»ä¸æ»¡è¶³äº†ï¼Œå°±ä¸å†å¾€ä¸‹ç»§ç»­æ‰¾äº†ï¼Œæˆ‘è§‰å¾—å«å‰ªææ›´åˆé€‚å§ã€‚å›æº¯ï¼Ÿè¿˜è¦å¾€å›æ‰¾ï¼Ÿä»€ä¹ˆä¸œä¸œï¼Œæœç´¢æœ¬èº«ä¸ä¹…åŒ…æ‹¬äº†å›æº¯å˜›ï¼Œè¿™åå­—å–å¾—ç¡®å®è¯¯å¯¼äººã€‚","tags":["æ•°æ®ç»“æ„"]},{"title":"æˆ‘çš„hexoé…ç½®","url":"/2021/09/11/æˆ‘çš„hexoé…ç½®/","content":"\næˆ‘çš„ä¸€äº›hexoé…ç½®\n\n<!--more-->\n\né¦–å…ˆæ„Ÿè°¢zhbï¼Œwyqå¸¦æˆ‘å…¥é—¨ï¼Œhbå…„è¿˜ä¸å«Œå¼ƒçš„è®©æˆ‘ç”¨äº†è·Ÿä»–åŒæ ·ä¸€ä¸ªä¸»é¢˜Stunï¼Œæˆ‘ä¿è¯ï¼Œæœ‰æ—¶é—´æˆ‘ä¼šæ¢ä¸€ä¸ªä¸»é¢˜\nå½“åˆç”¨è¿™ä¸ªä¸»é¢˜Stunçš„åŸå› æœ‰äºŒï¼š1æ˜¯ç¾è§‚ç®€ä»‹ 2æ˜¯æœ‰æ–°æ‰‹æ–‡æ¡£ï¼Œå¯¹æˆ‘è¿™ç§åˆšæ¥è§¦çš„æ–°æ‰‹ååˆ†å‹å¥½\n\n# Stunä¸»é¢˜\n\n## è¯„è®ºåŠŸèƒ½\næˆ‘ç”¨çš„æ˜¯Gitalk\n[å®‰è£…ä½¿ç”¨è¯·è§Stuné…ç½®æ–‡æ¡£](https://theme-stun.github.io/docs/zh-CN/advanced/third-part.html#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F)\n\n## å‹é“¾åŠŸèƒ½\n[æ–¹æ³•](https://zhuanlan.zhihu.com/p/384472746)\n\n## ç‚¹å‡»æŸ¥çœ‹æ€è·¯/ä»£ç åŠŸèƒ½\n\nåœ¨æ–‡ç« ä¸­åŠ å…¥ä»¥ä¸‹è¿™æ®µæ¨¡æ¿å³å¯\n\n```html\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n    å¡«å†™ä½ çš„å…·ä½“æ€è·¯\n  </code></pre>\n</details>\n\n```\n\n## æœç´¢åŠŸèƒ½\nåœ¨Stunä¸»é¢˜ä¸‹æ·»åŠ æœç´¢åŠŸèƒ½ï¼Œå¾ˆç®€å•\n[å‚ç…§Stuné…ç½®æ–‡æ¡£å³å¯](https://theme-stun.github.io/docs/zh-CN/advanced/third-part.html#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2)\n\n## æ–‡ç« æŒ‰æ›´æ–°æ—¶é—´æ’åº\n\nèƒŒæ™¯ï¼šç”±äºhomeé¡µæŒ‰æ–‡ç« åˆ›å»ºæ—¶é—´æ’åºï¼Œä½†æœ‰äº›æ–‡ç« åˆ›å»ºçš„æ¯”è¾ƒæ—©ï¼Œåœ¨homeé¡µæ’å¾—å¾ˆé åï¼Œå´ç»å¸¸éœ€è¦ä¿®æ”¹ï¼Œååˆ†éº»çƒ¦ã€‚\næ‰¾äº†å¾ˆå¤šè§£å†³åŠæ³•ï¼Œä¹Ÿå»githubçœ‹äº†ç›¸å…³è®¨è®ºï¼Œæé—®ï¼Œæ²¡æœ‰åˆé€‚çš„è§£å†³æ–¹æ³•ï¼Œå¤§æ¦‚å°±æ˜¯è¯´hexoæœ¬èº«ä¸æä¾›è¿™ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½éœ€è¦æ’ä»¶æˆ–ä¸»é¢˜è‡ªå¸¦ï¼Œæ‰€ä»¥æš‚ä¸”æ”¾å¼ƒã€‚ä¸è¿‡æœ‰ä¸ªç±»ä¼¼æ–‡ç« ç½®é¡¶åŠŸèƒ½ï¼Œå°±æ˜¯æ–‡ç« å¤´éƒ¨stickyå±æ€§ï¼Œstickyæƒå€¼è¶Šå¤§ï¼Œæ’åè¶Šé å‰\n\n","tags":["å·¥å…·"]},{"title":"Sublime","url":"/2021/09/10/Sublime/","content":"\næˆ‘çš„Sublimeçš„ä¸€äº›é…ç½®\n\n<!--more-->\n\nç¯å¢ƒï¼šWin10 Sublime 4\n\n# å‘½ä»¤ä¸€é”®æ–‡ä»¶é‡å®šå‘è¾“å…¥è¾“å‡º\n\nä¼˜åŒ–æ—¥å¿—ï¼š\n1.èƒ½å¤Ÿå°†è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶\n2.è‡ªåŠ¨å…³é—­outputæ—¶å‡ºç°çš„cmdçª—å£\n3.ä¸€ä¸ªå‘½ä»¤ç¼–è¯‘å¹¶è¿è¡Œ\n4.æ·»åŠ å¿«æ·é”®ä¸€é”®ç¼–è¯‘è¿è¡Œ\n\n## è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶\nç®€ä»‹ï¼šè®¾ç½®å‘½ä»¤ï¼Œä¸€é”®è®©ç¨‹åºä»std.inè¯»å…¥ï¼Œè¾“å‡ºåˆ°std.outã€‚\n\nèƒŒæ™¯ï¼šç”±äºAcmeræ€»æ˜¯éœ€è¦æ ·ä¾‹çš„è¾“å…¥ä¸è¾“å‡ºï¼Œå¦‚æœæ ·ä¾‹è¾“å…¥å¾ˆå¤šï¼Œè¾“å‡ºä¸æ ·ä¾‹æ··æ‚åœ¨ä¸€èµ·ï¼Œä¼šæ¯”è¾ƒéš¾çœ‹ã€‚\nè¿™ä¸ªæ—¶å€™å°±éœ€è¦å°†è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶\n\n[è½¬è½½ï¼Œè§‰å¾—è°¢å¤§å†™å¾—å¥½çš„å¯ä»¥æŠ•ä¸ªå¸](https://ericxie.github.io/2021/07/18/sublime-gcc/)\n\n## è‡ªåŠ¨å…³é—­outputæ—¶å‡ºç°çš„cmdçª—å£\nç”±äºæ¯æ¬¡outputè¾“å‡ºåˆ°æ–‡ä»¶æ—¶ï¼Œéƒ½ä¼šå‡ºç°cmdè¿™ä¸ªé»‘æ¡†æ¡†ï¼Œéœ€è¦æ‰‹åŠ¨åˆ æ‰ï¼Œååˆ†éº»çƒ¦ï¼Œä¸‹é¢ä»£ç å°±æ˜¯è‡ªåŠ¨å…³æ‰è¿™ä¸ªcmdé»‘æ¡†æ¡†ï¼Œä¸è¿‡è¿˜æ˜¯ä¼šé—ªä¸€ä¸‹ã€‚\næŠŠrun.batæ”¹ä¸º\n\n```bat\n@echo off\n \nif \"%time:~0,2%\" lss \"10\" (SET HOUR=%time:~1,1%) else (SET HOUR=%time:~0,2%)\nif \"%time:~3,2%\" lss \"10\" (SET MINUTE=%time:~4,1%) else (SET MINUTE=%time:~3,2%)\nif \"%time:~6,2%\" lss \"10\" (SET SECOND=%time:~7,1%) else (SET SECOND=%time:~6,2%)\nif \"%time:~9,2%\" lss \"10\" (SET MILLISECIOND=%time:~10,1%) else (SET MILLISECIOND=%time:~9,2%)\nset /a START=%HOUR%*3600*100+%MINUTE%*60*100+%SECOND%*100+%MILLISECIOND%\n%1 <%2 >%3\nif \"%time:~0,2%\" lss \"10\" (SET HOUR=%time:~1,1%) else (SET HOUR=%time:~0,2%)\nif \"%time:~3,2%\" lss \"10\" (SET MINUTE=%time:~4,1%) else (SET MINUTE=%time:~3,2%)\nif \"%time:~6,2%\" lss \"10\" (SET SECOND=%time:~7,1%) else (SET SECOND=%time:~6,2%)\nif \"%time:~9,2%\" lss \"10\" (SET MILLISECIOND=%time:~10,1%) else (SET MILLISECIOND=%time:~9,2%)\nset /a END=%HOUR%*3600*100+%MINUTE%*60*100+%SECOND%*100+%MILLISECIOND%\nset /a TOTAL=(%END%-%START%)*10\necho.\necho Run time : %TOTAL% ms\n\nif \"%1\" == \"h\" goto begin\nmshta vbscript:createobject(\"wscript.shell\").run(\"\"\"%~nx0\"\" h\",0)(window.close)&&exit\n:begin\nREM\n```\n\nå¦‚æœä¸éœ€è¦runtimeè¿™ä¸ªä¿¡æ¯ï¼Œrun.batæ”¹ä¸ºå¦‚ä¸‹å³å¯\n\n```bat\n@echo off\n%1 <%2 >%3\nif \"%1\" == \"h\" goto begin\nmshta vbscript:createobject(\"wscript.shell\").run(\"\"\"%~nx0\"\" h\",0)(window.close)&&exit\n:begin\nREM\n```\n\n## ä¸€ä¸ªå‘½ä»¤ç¼–è¯‘å¹¶è¿è¡Œ\nç”±äºæ¯æ¬¡éœ€è¦å…ˆç‚¹g++ç¼–è¯‘å†ç‚¹runæˆ–outputè¿è¡Œï¼Œååˆ†éº»çƒ¦ï¼Œé‚£ä¹ˆå¯ä¸å¯ä»¥ä¸€ä¸ªå‘½ä»¤è®©ç¼–è¯‘å¹¶è¿è¡Œå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä»£ç å¦‚ä¸‹\n\n```cpp\n{\n    \"working_dir\": \"${file_path}\",\n    \"cmd\": [\"g++\",  \"${file}\", \"-o\", \"${file_base_name}.exe\", \"-lm\", \"-Wall\", \"-O2\",\"-std=gnu++11\",\"-Wl,--stack,100000000\"],\n    \"file_regex\": \"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\",    \n    \"selector\": \"source.c\",\n    \"shell\": true,\n    \"variants\":\n    [\n       {\n            \"name\": \"Run\",\n            \"shell_cmd\": \"g++ -Wall -std=c++11 \\\"$file\\\" -o \\\"$file_base_name\\\" && start cmd /c \\\"${file_path}/${file_base_name} & pause\\\"\"\n       },\n       {\n            \"name\": \"Output\",       \n            \"cmd\": [\"g++\", \"-Wall\",\"${file}\", \"-o\", \"${file_path}/${file_base_name}\", \"&&\", \"start\",\"/D ${file_path}\",\"run.bat\",\"${file_base_name}.exe\",\"std.in\",\"std.out\"]\n       },\n    ]\n}\n```\n\n## å¿«æ·é”®ä¸€é”®ç¼–è¯‘è¿è¡Œ\næˆ‘ä¸æƒ³æ¯æ¬¡ctrl+shift+bæ¥é€‰æ‹©å‘½ä»¤è¿è¡Œï¼Œå¤ªéº»çƒ¦äº†ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½è®¾ç½®ä¸ªå¿«æ·é”®å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š\nåœ¨sumlimeç‚¹å‡»preferences->key bindings\nç„¶ååœ¨é‡Œé¢åŠ ä¸Šä»¥ä¸‹ä»£ç å³å¯ï¼š\n\n```cpp\n[\n\t{\"keys\": [\"f9\"], \"command\": \"build\", \"args\": {\"variant\": \"Run\"}},\n\t{\"keys\": [\"f10\"], \"command\": \"build\", \"args\": {\"variant\": \"Output\"}}  \n]\n\n```\n\n## æœ€ç»ˆé…ç½®\ng++.sublime-build:\n\n```cpp\n{\n    \"working_dir\": \"${file_path}\",\n    \"cmd\": [\"g++\",  \"${file}\", \"-o\", \"${file_base_name}.exe\", \"-lm\", \"-Wall\", \"-O2\",\"-std=gnu++11\",\"-Wl,--stack,100000000\"],\n    \"file_regex\": \"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$\",    \n    \"selector\": \"source.c\",\n    \"shell\": true,\n    \"variants\":\n    [\n       {\n            \"name\": \"Run\",\n            \"shell_cmd\": \"g++ -Wall -std=c++11 \\\"$file\\\" -o \\\"$file_base_name\\\" && start cmd /c \\\"${file_path}/${file_base_name} & pause\\\"\"\n       },\n       {\n            \"name\": \"Output\",       \n            \"cmd\": [\"g++\", \"-Wall\",\"${file}\", \"-o\", \"${file_path}/${file_base_name}\", \"&&\", \"start\",\"/D ${file_path}\",\"run.bat\",\"${file_base_name}.exe\",\"std.in\",\"std.out\"]\n       },\n    ]\n}\n```\n\nrun.bat:\n```cpp\n@echo off\n%1 <%2 >%3\nif \"%1\" == \"h\" goto begin\nmshta vbscript:createobject(\"wscript.shell\").run(\"\"\"%~nx0\"\" h\",0)(window.close)&&exit\n:begin\nREM\n```\n\nå¿«æ·é”®ï¼š\n```cpp\n[\n\t{\"keys\": [\"f9\"], \"command\": \"build\", \"args\": {\"variant\": \"Run\"}},\n\t{\"keys\": [\"f10\"], \"command\": \"build\", \"args\": {\"variant\": \"Output\"}}  \n]\n\n```\n\nè‡³æ­¤ï¼Œå¤§åŠŸå‘Šæˆï¼ï¼ï¼å¿«å¿«æ¥äº«å—ä»£ç çš„ä¹è¶£å§ï¼\nï¼ˆç»ˆäºæŠŠç¼–è¾‘å™¨é…æˆäº†è‡ªå·±ç†æƒ³çš„æ ·å­ï¼‰\n# æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š\n\nç®€ä»‹ï¼šåœ¨æ–‡ä»¶å¤´éƒ¨è‡ªåŠ¨å†™ä¸Šä¸€å•ªå•¦çš„æ¨¡æ¿ä»£ç \n\nèƒŒæ™¯ï¼šç”±äºAcmeråœ¨æ¯ä¸ªcppæ–‡ä»¶éƒ½è¦å†™ä¸Šå¤´æ–‡ä»¶,å®å®šä¹‰ç­‰ä¸€ç³»åˆ—æ¨¡æ¿ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªæ’ä»¶FileHeaderäº†\n\nå®‰è£…ä»€ä¹ˆçš„å°±ä¸å¤šè¯´äº†ï¼Œç½‘ä¸Šéƒ½æœ‰ï¼Œè¿™é‡Œé‡ç‚¹è®²ä¸‹é…ç½®\n\n1.ä¿®æ”¹authorç­‰ä¿¡æ¯\nè®¾ç½®-->é¦–é€‰é¡¹-->æ’ä»¶è®¾ç½®-->File Header-->settings-User(è¿™é‡Œä¸€å®šæ˜¯user,åˆ«é€‰é»˜è®¤)\næ·»åŠ ä»¥ä¸‹å†…å®¹\n\n```cpp\n{\n    \"Default\": {\n        \"author\":\"Ding Jianlong\",\n        \"last_modified_by\":\"Ding Jianlong\",\n        \"email\":\"123@51015.cn\"\n    }\n}\n```\n\n2.æ–‡ä»¶è‡ªåŠ¨æ·»åŠ å¤´æ–‡ä»¶ï¼Œå®å®šä¹‰ç­‰æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š\nåœ¨\"C:\\Users\\BohongLi\\AppData\\Roaming\\Sublime Text\\Packages\\FileHeader\\template\\header\"ä¸‹æ‰¾åˆ°å¯¹åº”è¯­è¨€çš„tmpl(C++æ˜¯C++.tmpl)(AppDataå¾—æ˜¾ç¤ºéšè—æ–‡ä»¶æ‰èƒ½çœ‹åˆ°)\næ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯C++.tmplï¼Œæˆ‘å°±åœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šæˆ‘çš„æ¿å­å³å¯ï¼Œæ³¨æ„æ¿å­ä¸­ä¸è¦æœ‰æ³¨é‡Šç¬¦å·\"//\"ï¼Œä¸ç„¶å¯èƒ½æ˜¾ç¤ºä¸å‡ºæ¥ã€‚\n\nå¥½åƒtemplate\\bodyé‡Œä¹Ÿæœ‰ä¸ªå¯¹åº”çš„C++.tmplï¼Œè¿™ä¸ªåº”è¯¥ç”¨æ¥è´´æ–‡ä»¶å¤´éƒ¨é‚£ä¸€å•ªå•¦å¥½åƒæ›´åˆé€‚ï¼Œä¸è¿‡ä¸‹æ¬¡å†å¼„å§ï¼Œ12ç‚¹åŠäº†ï¼Œå›°äº†ï¼Œå›°äº†\n","tags":["å·¥å…·"]},{"title":"å†æˆ˜128","url":"/2021/09/05/å†æˆ˜128/","content":"ç»è¿‡ä¸€ä¸ªæš‘å‡çš„é›†è®­ï¼Œè¯•è¯•é›†è®­çš„æ•ˆæœ\nçœ‹çœ‹å½“å¹´æŠ˜ç£¨äººçš„128\nå†æ¬¡å†™å®Œéœ€è¦å¤šä¹…å‘¢ï¼Ÿ\n<!--more-->\n\n# å†™éº»äº†ï¼Œå†™äº†87é“ï¼Œä¼‘æ¯ä¸€ä¸‹ï¼Œç­‰å¿ƒæƒ…å¥½å†å†™(æ»‘ç¨½)\n\n# æ—¶é—´è¡¨\n1 9.5æ™š 22é“      --30min\n2 9.6æ—© 18é“      --150min\n3 9.6æ™š 8é“       --180min\n4 9.7   5é“       --60min\n5 9.7æ™š 14é“      --180min\n6 9.8   17é“      --180min\n# ä¸€äº›ç¦»è°±çš„é”™è¯¯\n1.æ²¡ææ‡‚çš„ä¸‰ç‚¹ä¸€çº¿\n2.if çŸ­è·¯åŸåˆ™\n3.1218 solve è¾“å‡ºè¶…é™\n4.ll è¶…æ—¶ æ”¹ int 100msè¿‡\n# 1112 ä¸‰ç‚¹å…±çº¿\né¢˜æ„ï¼šç»™ä½ å¹³é¢ä¸Šä¸‰ä¸ªç‚¹çš„åæ ‡ï¼Œè¯·åˆ¤æ–­ä¸‰ç‚¹æ˜¯å¦å…±çº¿ã€‚\nç›´æ¥åˆ¤æ–­æ–œç‡k1==k2é”™äº†ï¼Œåº”è¯¥æŠŠè¿™ä¸ªåˆ†å¼è½¬æ¢æˆä¹˜ç§¯çš„å½¢å¼ï¼Œå‡å°‘å‡ºé”™ã€‚\n**absåªé€‚ç”¨äºæ•´å½¢ï¼Œdoubleè¦ç”¨fabs**\n**ä½†æ˜¯ç›®å‰ä¸çŸ¥é“é”™åœ¨å“ªäº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚**\n\n# 1078 å­—æ¯ä¸‰è§’å½¢\né¢˜æ„ï¼šè¾“å‡ºå½¢å¦‚\nABCDEDCBA\n ABCDCBA\n  ABCBA\n    ABA\n     A\nçš„å­—æ¯ä¸‰è§’å½¢ã€‚\nä»£ç å†™å¾—æŒºå¥½çœ‹çš„(å˜¿å˜¿,å†™çš„ä»£ç æ¯”ä¹‹å‰å¥½å¤šäº†  æ€è·¯å¾ˆæ¸…æ™°\n```cpp\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\ntypedef long long ll;\nconst ll maxn=2e5+11;\nvoid out1(ll n){\n    for(ll i=0;i<n;i++)  cout<<\" \";\n}\nvoid out2(ll n){\n    for(ll i='A';i<n;i++)  printf(\"%c\",i);\n    printf(\"%c\",n);\n    for(ll i=n-1;i>='A';i--)  printf(\"%c\",i);\n}\nint main(){\n    // ios::sync_with_stdio(false);\n    // cin.tie(0);\n    char c;ll step=1;\n    while(cin>>c){\n        if(c=='#')  break;\n        cout<<\"case \"<<step++<<\":\"<<endl;\n        for(ll i='A';i<=c;i++){\n            out1(i-'A');\n            out2(c-(i-'A'));\n            cout<<endl;\n        }\n    }\n    return 0;\n}\n```\n\n# 1189 root\né¢˜æ„ï¼šæ±‚æ–¹ç¨‹ (x+a)/(x+b) = cçš„éè´Ÿæ•´æ•°æ ¹ï¼Œå…¶ä¸­a,b,céƒ½æ˜¯éè´Ÿæ•´æ•°ã€‚\nåˆå¯„äº†ï¼Œçƒ¦æ­»äº†ã€‚\nwaäº†è¿˜æ˜¯å¾—å¥½å¥½æƒ³æƒ³å‘ï¼Œä¸è¦æ€¥ï¼Œé”»ç‚¼è‡ªå·±æ‰¾bugèƒ½åŠ›ï¼Œç§¯ç´¯debugç»éªŒã€‚\n\n# 1223 Repeat One\né¢˜ç›®ï¼šæ±‚ç”±æœ€å°çš„ä¸€ä¸ªNï¼ŒNä¸ªæ•°ç 1ç»„æˆçš„æ•°èƒ½è¢«Mæ•´é™¤ï¼Ÿ æ¯”å¦‚M=3æ—¶ï¼Œ111èƒ½è¢«3æ•´é™¤ã€‚M=2æ—¶ï¼Œåˆ™ä¸å­˜åœ¨è¿™æ ·çš„Nã€‚\nä¸€é“æœ‰ç‚¹æ„æ€çš„é¢˜ç›®ï¼Œä½†æ˜¯æ”¾åˆ°æ•°ç»„é‡Œä¸åˆé€‚å§ï¼Œè·Ÿæ•°ç»„æ¯›çº¿å…³ç³»éƒ½æ²¡æœ‰çš„ï¼Œè¯¯å¯¼æ–°æ‰‹\næ–¹æ³•è‡ªå·±æ˜¯æƒ³å‡ºæ¥äº†çš„ï¼Œä½†æ˜¯è¶…æ—¶äº†ï¼Œè‡ªå·±åº”è¯¥è‡ªä¿¡ç‚¹ï¼Œæ¯•ç«Ÿå¾ˆå¤§çš„ä¸€ä¸ªæ ·ä¾‹éƒ½å¯¹äº†ï¼Œå°±ä¸è¦æ€€ç–‘æ˜¯æ–¹æ³•çš„é—®é¢˜\n555ï¼Œåˆå¿ä¸ä½çœ‹äº†ç­”æ¡ˆ\nä½†æ˜¯è¿™é“é¢˜è‡ªå·±æƒ³å¤æ‚äº†ï¼Œn=(10*n+1)%xå°±è¡Œï¼Œ**å› ä¸ºæ¨¡xå¯¹ç»“æœæ— å½±å“ã€‚**\n**tleäº†æ˜¯å› ä¸ºå¸¸æ•°å¼€å¤§äº†ï¼Œæ¯æ¬¡å¾ªç¯éƒ½æ˜¯maxnï¼Œæ”¹æˆnå°±è¿‡äº†ã€‚å¸å–æ•™è®­ï¼ï¼ï¼**\n\n# 1247 Robb's Problem\né¢˜æ„ï¼šRobbæƒ³çŸ¥é“é˜¶ä¹˜n!ç¬¬mä½æ•°ç æ˜¯ä»€ä¹ˆï¼Ÿ\nå±…ç„¶æœ‰å¤§æ•°æ¨¡æ‹Ÿæ˜¯æˆ‘æ²¡æƒ³åˆ°çš„ï¼Œéšä¾¿å†™ä¸‹å§ï¼Œä¸æ˜¯å¾ˆæ„Ÿå…´è¶£,ç®—äº†ï¼ŒæŒºæ¶å¿ƒäººçš„ï¼Œæ‡’å¾—å†™äº†\nç”¨javaå¥—å¤§æ•°å°±å®Œäº‹äº†\n\n# 1270 Unique Digit Number\né¢˜æ„ï¼šæ•°ä½ä¸åŒçš„æ•°æ˜¯æŒ‡æ‰€æœ‰æ•°ä½ä¸Šçš„æ•°ç éƒ½ä¸ä¸€æ ·çš„æ•°ï¼Œæ¯”å¦‚â€œ123â€ä¸‰ä¸ªæ•°ç 1,2,3ï¼Œéƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ˜¯æ•°ä½ä¸åŒçš„æ•°ï¼›ä½†æ˜¯â€œ1232â€ä¸­æœ‰ä¸¤ä¸ªç›¸åŒçš„æ•°ç 2ï¼Œæ‰€ä»¥ä¸æ˜¯ã€‚è¯·å†™ä¸€ä¸ªç¨‹åºï¼Œè®¡ç®—ç¬¬å‡ ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°æ˜¯ä»€ä¹ˆï¼Ÿ\n\nè¿™æ˜¯å½“æ—¶è‡ªå·±è§‰å¾—æœ€éš¾çš„å‡ é“é¢˜ç›®ä¹‹ä¸€äº†å§ï¼Œç°åœ¨å¦‚ä»Šè‡ªå·±ä¹Ÿèƒ½å†™å‡ºæ¥äº†\nå…³é”®åœ¨äºè®°å½•æ¯ä¸ªæ•°ç”¨äº†å“ªäº›æ•°å­—ï¼Œä»¥åŠæŠŠè¿™ä¸ªæ•°çš„è®°å½•ä¿¡æ¯ä¼ åˆ°ä¸‹ä¸€ä¸ªæ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ•°ä½äº†ã€‚\næœ‰ä¸€è¯´ä¸€ï¼Œç”¨æ•°ä½å­˜æ•°è¿˜æ˜¯æŒºå·§å¦™çš„ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªæ•°ï¼Œçœ‹ä½œä¸€ä¸ªæ•°ç»„ã€‚æ¯”å¦‚ä¸€ä¸ªintæ•°ï¼Œæœ‰32ä½å¯¹å§ï¼Œ\né‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º32çš„æ•°ç»„ï¼Œåªä¸è¿‡è¿™ä¸ªæ•°ç»„çš„æ¯ä½åªèƒ½å­˜0å’Œ1ï¼Œä¸è¿‡å¯¹è¿™é“é¢˜è€Œè¨€å¤Ÿäº†ï¼Œåªéœ€è¦æ ‡è®°çŠ¶æ€ç”¨0å’Œ1å°±å¤Ÿäº†\nè¿™æ ·å­çš„è¯ï¼Œæ— è®ºæ˜¯è®°å½•çŠ¶æ€ï¼Œè¿˜æ˜¯ä¼ é€’çŠ¶æ€ï¼Œéƒ½å¾ˆå¿«é€Ÿã€‚\n\n# 1108 a+b\né¢˜ç›®ï¼šè¯·è®¡ç®—a+bï¼Œä½†aå’Œbæ˜¯æŒ‰ä¸åŒçš„è¿›åˆ¶ç»™å‡ºçš„ã€‚è¿›åˆ¶æœ€å°ä¸º2è¿›åˆ¶ï¼Œæœ€å¤§ä¸º62è¿›åˆ¶ï¼Œå…¶ä¸­ä½¿ç”¨A-Zä¾æ¬¡è¡¨ç¤º10åˆ°35ï¼Œa-zè¡¨ç¤º36-61ã€‚è¯·å†™å‡ºa+bçš„ç»“æœï¼Œç»“æœæŒ‰åè¿›åˆ¶è¾“å‡ºã€‚ è¾“å…¥ ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Nï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªæµ‹è¯•æ ·ä¾‹ï¼Œä»¥åæ¯è¡Œæ˜¯ä¸€ä¸ªæ ·ä¾‹ï¼Œæ¯è¡Œæ˜¯4ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºaçš„å€¼ï¼Œaçš„è¿›åˆ¶ï¼Œbçš„å€¼ï¼Œbçš„è¿›åˆ¶ã€‚å…¶ä¸­å€¼éƒ½æ˜¯ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè¿›åˆ¶éƒ½æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚4ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œä¿è¯è¾“å…¥çš„åˆæ³•ï¼Œaã€bå’Œa+bçš„å€¼éƒ½åœ¨-2^31åˆ°2^31-1ä¹‹é—´ã€‚ è¾“å‡º æ¯è¡Œè¾“å‡ºä¸€ä¸ªæ ·ä¾‹çš„ç»“æœã€‚\n\né†‰æ­»ï¼Œæˆ‘å…ˆæŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—ï¼Œç„¶åç”¨sr.length()ç®—å­—ç¬¦ä¸²é•¿åº¦ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æ³¨æ„åˆ°ï¼Œ**å°†å­—ç¬¦ä¸²è½¬åŒ–çš„æ•°å­—ä¸­ï¼Œæœ‰0ï¼Œé‚£ä¹ˆå†ç”¨sr.length()å°±ä¼šå‡ºé”™**ï¼Œæœ¬åœ°è·‘æ²¡æœ‰é—®é¢˜ï¼Œä¸€äº¤ä¸Šå»å°±å‡ºé”™äº†ã€‚ã€‚ã€‚\n\n# 1378 blocks\nç®€å•çš„DPï¼Œä½†æ— å¥ˆæˆ‘PDè’Ÿè’»ï¼ŒçŠ¶æ€éƒ½å†™å‡ºæ¥äº†ï¼Œå°±å·®çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå±…ç„¶æ²¡å†™å‡ºæ¥ã€‚ã€‚\n","tags":["æ²¡æƒ³å¥½æ ‡ç­¾çš„æ ‡ç­¾"]},{"title":"çº¿æ®µæ ‘+æ ‘çŠ¶æ•°ç»„","url":"/2021/08/31/çº¿æ®µæ ‘-æ ‘çŠ¶æ•°ç»„/","content":"\nçº¿æ®µæ ‘å¤§C\n\n<!--more-->\n\n# æ ‘çŠ¶æ•°ç»„ä¸çº¿æ®µæ ‘æ€»ç»“\n**æ—¶é—´å¤æ‚åº¦**\nè™½ç„¶å®ƒä»¬éƒ½æ˜¯nlognï¼Œä½†æ˜¯ï¼Œä½ ä¼šå‘ç°ï¼Œåœ¨æŸ¥è¯¢æ—¶ï¼Œæ ‘çŠ¶æ•°ç»„æœ€åæƒ…å†µæ˜¯lognï¼ˆæ¯”å¦‚8ä¸ªæ•°ï¼Œç„¶åæŸ¥è¯¢8ï¼‰ï¼Œä½†æ˜¯çº¿æ®µæ ‘æ˜¯æ‰€æœ‰æƒ…å†µéƒ½æ˜¯nlognï¼Œç¨æ…¢äºæ ‘çŠ¶æ•°ç»„ã€‚\n\n**ç©ºé—´å¤æ‚åº¦**\n\næ ‘çŠ¶æ•°ç»„å®Œèƒœäºçº¿æ®µæ ‘ï¼Œçº¿æ®µæ ‘è¦å¼€2å€åˆ°4å€å†…å­˜ï¼ˆæ¨è4å€ï¼‰ï¼Œä½†æ˜¯æ ‘çŠ¶æ•°ç»„ä¸€å€å°±å¤Ÿäº†ã€‚\n\n**é€‚ç”¨èŒƒå›´**\n\nçº¿æ®µæ ‘ä¹‹æ‰€ä»¥å­˜åœ¨çš„ç†ç”±æ˜¯å› ä¸ºå®ƒèƒ½é€‚ç”¨äºå¾ˆå¤šæ–¹é¢ï¼Œä¸ä»…ä»…æ˜¯åŒºé—´ã€å•ç‚¹çš„æŸ¥è¯¢ä¿®æ”¹ï¼Œè¿˜æœ‰æ ‡è®°ç­‰ç­‰ï¼Œå¯ä»¥ç”¨äºæ¨¡æ‹Ÿã€DPç­‰ç­‰ï¼Œè€Œä¸”ç©ºé—´ç»è¿‡ç¦»æ•£åŒ–ä»¥åä¹Ÿå¯ä»¥ç›¸å¯¹å‹ç¼©ï¼Œæ‰€ä»¥é€‚ç”¨èŒƒå›´çº¿æ®µæ ‘æ›´åŠ å¹¿ä¸€äº›ã€‚\n\n# æ ‘çŠ¶æ•°ç»„\n\n## æ ‘çŠ¶æ•°ç»„å•ç‚¹ä¿®æ”¹\n[æ¨¡æ¿](https://www.luogu.com.cn/problem/P3374)\n```cpp\n#include<bits/stdc++.h>\ntypedef long long ll;\nconst long long maxn=5e5+11;\nusing namespace std;\nll t[maxn],n;//æ ‘çŠ¶æ•°ç»„ç©ºé—´å¼€ä¸€å€å°±å¤Ÿäº†\nll lowbit(ll x){\n    return x & -x;\n}\nvoid add(ll x,ll val){\n    while(x<=n){\n        t[x]+=val;\n        x+=lowbit(x);\n    }\n}\nll getsum(ll x){\n    ll sum=0;\n    while(x>=1){\n        sum+=t[x];\n        x-=lowbit(x);\n    }\n    return sum;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll m;\n    cin>>n>>m;\n    for(ll i=1,val;i<=n;i++){\n        cin>>val;\n        add(i,val);\n    }\n    ll op,val,l,r;\n    while(m--){\n        cin>>op;\n        if(op==1){\n            cin>>l>>val;\n            add(l,val);\n        }\n        else if(op==2){\n            cin>>l>>r;\n            cout<<getsum(r)-getsum(l-1)<<endl;\n        }\n    }\n    return 0;\n}\n\n\n```\n\n\n# çº¿æ®µæ ‘\n\n## çº¿æ®µæ ‘å•ç‚¹ä¿®æ”¹\n[æ¨¡æ¿](https://www.luogu.com.cn/problem/P3374)\n```cpp\n//æ³¨æ„ä¿è¯l<råŠæ•°æ®çš„åˆæ³•æ€§\n#include<bits/stdc++.h>\nusing namespace std;\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\ntypedef long long ll;\nconst long long maxn=5e5+11;\nll t[maxn<<2],ar[maxn]; //çº¿æ®µæ ‘å¾—å¼€å››å€\nvoid push_up(ll now){\n    t[now]=t[now<<1]+t[now<<1|1];\n}\nvoid build(ll l,ll r,ll now){\n    if(l==r){\n        t[now]=ar[l];\n        return ;\n    }\n    ll m=l+((r-l)>>1);//è¿™ä¸ªæ“ä½œæŒºç‰›é€¼çš„,ä¸ç„¶æˆ‘åªä¼šå†™m=(l+r)/2...\n    build(lson);build(rson);\n    push_up(now);\n}\n\nvoid add(ll x,ll val,ll l,ll r,ll now){\n    t[now]+=val;\n    if(l==r)  return ;\n    ll m=l+((r-l)>>1);\n    if(x<=m)  add(x,val,lson);\n    else  add(x,val,rson);\n}\nll getsum(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        return t[now];\n    }\n    ll m=l+((r-l)>>1);\n    ll sum=0;\n    if(L<=m)  sum+=getsum(L,R,lson);\n    if(R>m)  sum+=getsum(L,R,rson);\n    return sum;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n,m;\n    cin>>n>>m;\n    for(ll i=1;i<=n;i++){\n        cin>>ar[i];\n    }\n    build(1,n,1);\n    ll op,x,val,r;\n    while(m--){\n        cin>>op;\n        if(op==1){\n            cin>>x>>val;\n            add(x,val,1,n,1);\n        }\n        else if(op==2){\n            cin>>x>>r;\n            cout<<getsum(x,r,1,n,1)<<endl;\n        }\n    }\n    return 0;\n}\n\n```\n## çº¿æ®µæ ‘åŒºé—´ä¿®æ”¹\n[æ¨¡æ¿](https://www.luogu.com.cn/problem/P3372)\n```cpp\n//æ³¨æ„ä¿è¯l<råŠæ•°æ®çš„åˆæ³•æ€§\n#include<bits/stdc++.h>\nusing namespace std;\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\ntypedef long long ll;\nconst long long maxn=5e5+11;\nll t[maxn<<2],ar[maxn],lazy[maxn<<2];//çº¿æ®µæ ‘å¾—å¼€å››å€\nvoid push_up(ll now){\n    t[now]=t[now<<1]+t[now<<1|1];\n}\nvoid push_down(ll l,ll r,ll now){\n    ll m=l+((r-l)>>1);\n    if(lazy[now]){\n        t[now<<1]+=lazy[now]*(m-l+1),lazy[now<<1]+=lazy[now];\n        t[now<<1|1]+=lazy[now]*(r-m),lazy[now<<1|1]+=lazy[now];\n        lazy[now]=0;\n    }\n}\nvoid build(ll l,ll r,ll now){\n    if(l==r){\n        t[now]=ar[l];\n        return ;\n    }\n    ll m=l+((r-l)>>1);//è¿™ä¸ªæ“ä½œæŒºç‰›é€¼çš„,ä¸ç„¶æˆ‘åªä¼šå†™m=(l+r)/2...\n    build(lson);build(rson);\n    push_up(now);\n}\nvoid add(ll L,ll R,ll val,ll l,ll r,ll now){\n    if(L <= l && r <= R){//å› ä¸ºè¾“å…¥æ•°æ®çš„L,Rå¯èƒ½è¶…è¿‡æœ€å¤§èŒƒå›´\n        t[now]+=(r-l+1)*val,lazy[now]+=val;\n        return;\n    }\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    if(L<=m) add(L,R,val,lson);\n    if(R>m) add(L,R,val,rson);\n    push_up(now);\n}\nll getsum(ll L,ll R,ll l,ll r,ll now){\n    if (L<=l && r<=R)  return t[now];\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    ll sum=0;\n    if(L<=m)  sum=getsum(L,R,lson);\n    if(R>m)  sum+=getsum(L,R,rson);\n    return sum;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n,m;\n    cin>>n>>m;\n    for(ll i=1;i<=n;i++){\n        cin>>ar[i];\n    }\n    build(1,n,1);\n    ll op,x,val,r;\n    while(m--){\n        cin>>op;\n        if(op==1){\n            cin>>x>>r>>val;\n            add(x,r,val,1,n,1);\n        }\n        else if(op==2){\n            cin>>x>>r;\n            cout<<getsum(x,r,1,n,1)<<endl;\n        }\n    }\n    return 0;\n}\n```\n\n## çº¿æ®µæ ‘æ‰«æçº¿\n[æ¨¡æ¿](https://www.luogu.com.cn/problem/P5490)\n```cpp\n//æ²¡æœ‰ä¸‹æ”¾æ“ä½œï¼Œåœ¨cnt=1æ—¶ä¸ä¼šé”™ï¼Œcnt=2æ—¶ä¼šé”™,å³å¦‚æœæ±‚çŸ©å½¢é¢ç§¯çš„å¹¶ä¸ä¼šé”™ï¼Œæ±‚è‡³å°‘è¦†ç›–ä¸¤æ¬¡çš„ä¼šå‡ºé”™\n//çº¿æ®µæ ‘æ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªåŒºé—´ï¼Œä¸èƒ½ç”¨æ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªç‚¹\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define Debug(x) cout<<#x<<\":\"<<x<<endl;\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\ntypedef long long ll;\nconst ll maxn=4e5+11;\nstruct Line{\n    ll x1,x2,y,w;\n    bool operator < (const Line& b)  const{\n        return y<b.y;\n    }\n}line[maxn];\nll t[maxn<<2],cnt[maxn<<2],x[maxn],step;\nvoid push_up(ll l,ll r,ll now){\n    if(cnt[now])  t[now]=x[r+1]-x[l];\n    else  t[now]=t[now<<1]+t[now<<1|1];\n}\nvoid update(ll L,ll R,ll val,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        cnt[now]+=val;\n        push_up(l,r,now);\n        return ;\n    }\n    ll m=l+((r-l)>>1);\n    if(L<=m)  update(L,R,val,lson);\n    if(R>m)  update(L,R,val,rson);\n    push_up(l,r,now);\n}\nll pos(ll xi){\n    return lower_bound(x+1,x+1+step,xi)-x;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n;cin>>n;\n    for(ll i=1,x1,y1,x2,y2;i<=n;i++){\n        cin>>x1>>y1>>x2>>y2;\n        line[(i<<1)-1].x1=x1,line[(i<<1)-1].x2=x2,line[(i<<1)-1].y=y1,line[(i<<1)-1].w=1;\n        line[i<<1].x1=x1,line[i<<1].x2=x2,line[i<<1].y=y2,line[i<<1].w=-1;\n        x[(i<<1)-1]=x1,x[i<<1]=x2;\n    }\n    sort(line+1,line+1+2*n);\n    sort(x+1,x+1+2*n);\n    step=unique(x+1,x+1+2*n)-(x+1);\n    ll ans=0;\n    for(ll i=1;i<=2*n-1;i++){\n        update(pos(line[i].x1),pos(line[i].x2)-1,line[i].w,1,step-1,1);\n        ans+=t[1]*(line[i+1].y-line[i].y);\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n```\n\n# 4â­æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡aiä¹‹å‰æ¯”aiå°çš„æ•°ä¸ªæ•°\né¢˜æ„ï¼šç»™ä¸€ä¸ªé•¿åº¦ä¸ºn<5e4çš„æ•°åˆ—ï¼Œæ¯ä¸ªæ•°ç¼–å·ä»1åˆ°nï¼Œä¸”æ— é‡å¤ã€‚ä¸€ä¸ªå››å…ƒç»„(a,b,c,d)ï¼Œè¦æ±‚a<b<c<d ä¸” Aa<Ab && Ac<Ad,é—®æ•°åˆ—ä¸­è¿™æ ·çš„å››å…ƒç»„æœ‰å¤šå°‘ä¸ªã€‚\n\næ€è·¯ï¼šå…³é”®åœ¨äºå¦‚ä½•ç»Ÿè®¡æ•°åˆ—ä¸­åœ¨aiä¹‹å‰ä¸”æ¯”aiå°çš„æ•°æœ‰å¤šå°‘ä¸ªã€‚ç”¨æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡ï¼Œä»£ç å¦‚ä¸‹ï¼š\nfor(ll i=1;i<=n;i++)  re[i]=sum(ar[i]),add(ar[i],1);\nçŸ¥é“è¿™ç‚¹åï¼Œå¯¹äºå››å…ƒç»„ä¸­æ¯ä¸ªbï¼Œå…¶å››å…ƒç»„ä¸ªæ•°ä¸º(bä¹‹å‰å°äºbçš„ä¸ªæ•°)*(bä¹‹åçš„(c,d)å¯¹æ•°)ï¼Œå¯¹äº(c,d)å¯¹æ•°ç»Ÿè®¡ï¼Œå³å€’è¿‡æ¥å†æ‰«ä¸€éå³å¯ã€‚\n\n```cpp\n\n#include<iostream>\n#include<cstring>\ntypedef long long ll;\nconst long long maxn=5e4+11;\nusing namespace std;\nll t[maxn],ar[maxn],markl[maxn],markr[maxn],n;//æ ‘çŠ¶æ•°ç»„ç©ºé—´å¼€ä¸€å€å°±å¤Ÿäº†\nll lowbit(ll x){\n    return x & -x;\n}\nvoid add(ll x,ll val){\n    while(x<=n){\n        t[x]+=val;\n        x+=lowbit(x);\n    }\n}\nll getsum(ll x){\n    ll sum=0;\n    while(x>=1){\n        sum+=t[x];\n        x-=lowbit(x);\n    }\n    return sum;\n}\nvoid solve(){\n    memset(t,0,sizeof(t));\n    for(ll i=1;i<=n;i++){\n        markl[i]=getsum(ar[i]);\n        add(ar[i],1);\n    }\n    memset(t,0,sizeof(t));\n    memset(markr,0,sizeof(markr));\n    for(ll i=n;i>=1;i--){\n        markr[i]=n-i-getsum(ar[i])+markr[i+1];\n        add(ar[i],1);\n    }\n    ll ans=0;\n    for(ll i=1;i<=n-1;i++){\n        ans+=markl[i]*markr[i+1];\n    }\n    cout<<ans<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll t;cin>>t;\n    while(t--){\n        cin>>n;\n        for(ll i=1;i<=n;i++)  cin>>ar[i];\n        solve();\n    }\n    return 0;\n}\n\n```\n\n\n# çº¿æ®µæ ‘åŸºæœ¬è¿ç”¨ï¼ˆæœ‰å¦ç±»å·§å¦™åšæ³•ï¼‰\n**é¢˜æ„** æœ‰ t ç»„æ•°æ®ï¼Œæ¯ç»„æœ‰ n å¼ (1<=n<=1e4)è¦†ç›–äº† åŒºé—´ [li,ri] çš„æµ·æŠ¥(1<=i<=n,1<=li<=ri<=1e7)ï¼Œæµ·æŠ¥ä¼šç”±äºå¼ è´´é¡ºåºå…ˆåè€Œè¢«è¦†ç›– é—®è¿˜æœ‰å¤šå°‘å¼ æµ·æŠ¥èƒ½å¤Ÿçœ‹å¾—è§\n[ä¼˜è´¨é¢˜è§£](https://blog.csdn.net/weixin_44077863/article/details/98037868)\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹ä»£ç </summary>\n  <pre><code>  \n\n```cpp\n//ä¸¤ç§åšæ³•\n//dfsåšæ³•\n#include<iostream>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nconst ll maxn=1e5+11;\nll li[maxn],ri[maxn],vis[maxn],ans;\nvoid dfs(ll l,ll r,ll x){\n    if(x==0)  return ;\n    if(l<=ri[x] && li[x]<=r){\n        if(!vis[x]){\n            vis[x]=1;ans++;\n        }\n        if(l<li[x])  dfs(l,li[x]-1,x-1);\n        if(r>ri[x])  dfs(ri[x]+1,r,x-1);\n    }\n    else  dfs(l,r,x-1);\n}\nvoid init(){\n    memset(vis,0,sizeof(vis));\n    ans=0;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll t;cin>>t;\n    while(t--){\n        init();\n        ll n;cin>>n;\n        for(ll i=1;i<=n;i++)  cin>>li[i]>>ri[i];\n        dfs(1,1e7,n);\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n\n\n//çº¿æ®µæ ‘åšæ³•\n#include<iostream>\n#include<cstring>\n#include<algorithm>\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\nusing namespace std;\n#define Debug(x) cout<<#x<<\":\"<<x<<endl;\ntypedef long long ll;\nconst ll maxn=3e4+11;\nll t[maxn<<2],vis[maxn<<2],x[maxn<<2],a[maxn<<2],b[maxn<<2],ans,step;\nvoid push_down(ll now){\n    if(t[now]){\n        t[now<<1]=t[now<<1|1]=t[now];\n        t[now]=0;\n    }\n}\nvoid update(ll L,ll R,ll val,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        t[now]=val;return ;\n    }\n    push_down(now);\n    ll m=l+((r-l)>>1);\n    if(L<=m) update(L,R,val,lson);\n    if(R>m) update(L,R,val,rson);\n}\nvoid query(ll l,ll r,ll now){\n    if(t[now] && !vis[t[now]]){\n        vis[t[now]]=1;ans++;\n        return ;\n    }\n    if(l==r)  return ;\n    push_down(now);\n    ll m=l+((r-l)>>1);\n    query(lson);query(rson);\n}\nll pos(ll xi){\n    return lower_bound(x+1,x+1+step,xi)-x;\n}\nvoid init(){\n    memset(vis,0,sizeof(vis));\n    memset(t,0,sizeof(t));\n}\nint main(){\n    ll ta;cin>>ta;\n    while(ta--){\n        init();\n        ll n;step=1;cin>>n;\n        for(ll i=1;i<=n;i++){\n            cin>>a[i]>>b[i];\n            if(b[i]-a[i]>1)  x[step++]=a[i]+1;\n            x[step++]=a[i];x[step++]=b[i];\n        }\n        sort(x+1,x+step);\n        step=unique(x+1,x+step)-(x+1);\n        for(ll i=1;i<=n;i++){\n            update(pos(a[i]),pos(b[i]),i,1,step,1);\n        }\n        ans=0;query(1,step,1);\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n```\n\n  </code></pre>\n</details>\n\n# çº¿æ®µæ ‘åŸºæœ¬è¿ç”¨ï¼ˆæœ‰å¦ç±»å·§å¦™åšæ³•ï¼‰\n**é¢˜æ„**\nnä¸ªç‚¹ï¼Œmä¸ªæ“ä½œ(1<=n,m<=5e4)ï¼Œmè¡Œä¸­æ¯è¡Œä¸€ä¸ªå­—ç¬¦cè¡¨ç¤ºæ“ä½œç±»å‹ï¼Œä¸€ä¸ªæ•´å‹æ•°xè¡¨ç¤ºç¬¬xä¸ªç‚¹\nD x è¡¨ç¤ºå»æ‰ç¬¬xç‚¹ï¼ŒQ xè¡¨ç¤ºéœ€è¾“å‡ºå« x çš„æœ€å¤§è¿ç»­åŒºé—´çš„é•¿åº¦ï¼ŒR xè¡¨ç¤ºè¿˜åŸæœ€åå»æ‰çš„ç‚¹\n\n[ä¼˜è´¨é¢˜è§£](https://blog.csdn.net/weixin_44077863/article/details/99681125)\n\n# çº¿æ®µæ ‘çµæ´»è¿ç”¨(1700)\n**é¢˜æ„**\nt ç»„æ•°æ®(t<=10)ï¼Œæ¯ç»„ç¬¬ä¸€è¡Œä¸€ä¸ª n è¡¨ç¤º n ä¸ªå‘˜å·¥(n<=5e4)ï¼Œæ¥ä¸‹æ¥ n-1 è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° u,v è¡¨ç¤º v æ˜¯ u çš„ä¸Šå¸\nç„¶åä¸€è¡Œ m è¡¨ç¤ºæœ‰ m ä¸ªæ“ä½œ(m<=5e4) ï¼Œ æ¥ä¸‹æ¥ m è¡Œ ç”±ä¸€ä¸ªå­—ç¬¦ å’Œ æ•´å‹æ•°æ„æˆ ï¼Œè¡¨ç¤ºä¸åŒæ“ä½œ\nC x è¡¨ç¤º è¾“å‡º ç¬¬ x ä¸ªå‘˜å·¥çš„å·¥ä½œå· \nT x y è¡¨ç¤º å°† ç¬¬ x ä¸ªå‘˜å·¥çš„å·¥ä½œå·å˜ä¸º y (x<=nï¼Œ0<=y<=1e9)\nè§„å®šï¼Œæ”¹å˜å·¥ä½œæ—¶ï¼Œè¢«æ”¹å˜å‘˜å·¥çš„ä¸‹å±ä¸€åŒå˜ä¸º y\n\n[ä¼˜è´¨é¢˜è§£](https://blog.csdn.net/weixin_44077863/article/details/100050457)\n**æ³¨æ„ç”¨çº¿æ®µæ ‘æ±‚æŸç‚¹å¯¹åº”åŒºé—´æ—¶ï¼Œåªéœ€è¦åœ¨dfsåºæ—¶ï¼Œè®°å½•å…¶åŒºé—´å·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹å³å¯ï¼Œæ²¡å¿…è¦å†æ‹‰ä¸ªæ·±åº¦dæ•°ç»„ï¼Œå†äºŒåˆ†æ‰¾**\n\n# çº¿æ®µæ ‘çµæ´»è¿ç”¨-ä¸ç¡®å®šåŒºé—´\né¢˜æ„ï¼šæœ‰n<5e4ä¸ªèŠ±ç“¶ï¼Œç¼–å·0~n-1ï¼Œæœ‰m<5e4æ¬¡æ“ä½œï¼Œæ“ä½œ1ï¼šä»aå¼€å§‹æ”¾fä¸ªèŠ±ç“¶ï¼Œè¾“å‡ºèŠ±ç“¶æ”¾ç½®çš„ç¬¬ä¸€ä¸ªä½ç½®å’Œæœ€åä¸€ä¸ªä½ç½®ï¼Œæ“ä½œ2ï¼šæ‹¿æ‰a~bä¹‹é—´çš„èŠ±ç“¶ï¼Œè¾“å‡ºæ‹¿æ‰çš„èŠ±ç“¶çš„æ•°é‡\n\næ€è·¯ï¼šç”±äºè¿™é¢˜æ˜¯ä»aå¼€å§‹æ”¾fä¸ªèŠ±ç“¶ï¼Œé‚£ä¹ˆä¸ä»¥å¾€çº¿æ®µæ ‘ä¸åŒçš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ä¸ªåŒºé—´çš„å³ç«¯ç‚¹æ˜¯ä¸ç¡®å®šçš„ï¼Œå¾—æˆ‘ä»¬è‡ªå·±ç¡®å®šè¿™ä¸ªåŒºé—´çš„å³ç«¯ç‚¹ã€‚**è™½ç„¶æœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯åœ¨çº¿æ®µæ ‘é‡Œæ¨¡æ‹Ÿæ”¾ç½®èŠ±ç“¶ï¼Œä½†æ˜¯è¿™è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚ç¬¬ä¸€ï¼Œçº¿æ®µæ ‘çš„ä¸€èˆ¬ç”¨æ³•ä¸æ˜¯è¿™ä¹ˆç”¨çš„ï¼Œç¬¬äºŒï¼Œæ¨¡æ‹Ÿçš„ç»†èŠ‚å·¨å¤šï¼Œè€—æ—¶ï¼Œç‚¸å¿ƒï¼Œä¸å¯èƒ½å†™å‡ºæ¥ã€‚**é‚£æˆ‘ä»¬çš„æ–¹æ³•å°±æ˜¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å‡ºè¿™ä¸ªåŒºé—´çš„å³ç«¯ç‚¹å³å¯ï¼Œè¿˜æœ‰ä¸€ä¸ªç‚¹å°±æ˜¯è¿˜éœ€è¦æ‰¾åˆ°æ”¾ç½®èŠ±ç“¶çš„èµ·å§‹ä½ç½®å’Œæœ€åä¸€ä¸ªä½ç½®ï¼Œå‰©ä¸‹çš„å°±æ˜¯åŸºç¡€çº¿æ®µæ ‘æ“ä½œã€‚è¿™é“é¢˜è¿˜æ˜¯éœ€è¦çº¿æ®µæ ‘è¾ƒæ‰å®çš„åŠŸåº•çš„ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-17 15:02:14\n*/\n#include<iostream>\n#include<cstring>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=5e4+11;\nll t[maxn<<2],lazy[maxn<<2],beg,en,ans;\n//ç¼–å·0~N-1\nvoid push_up(ll now){\n    t[now]=t[now<<1]+t[now<<1|1];\n}\nvoid push_down(ll l,ll r,ll now){\n    if(lazy[now]>=0){\n        ll m=l+((r-l)>>1);\n        t[now<<1]=(m-l+1)*lazy[now];t[now<<1|1]=(r-m)*lazy[now];\n        lazy[now<<1]=lazy[now<<1|1]=lazy[now];\n        lazy[now]=-1;\n    }\n}\nvoid build(){\n    memset(t,0,sizeof(t));\n    memset(lazy,-1,sizeof(lazy));\n}\nll get_sum(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        return t[now];\n    }\n    push_down(l,r,now);\n    ll m=l+((r-l)>>1);\n    ll sum=0;\n    if(L<=m)  sum+=get_sum(L,R,lson);\n    if(R>m)  sum+=get_sum(L,R,rson);\n    return sum;\n}\nvoid add(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        t[now]=r-l+1;lazy[now]=1;\n        return ;\n    }\n    push_down(l,r,now);\n    ll m=l+((r-l)>>1);\n    if(L<=m)  add(L,R,lson);\n    if(R>m)  add(L,R,rson);\n    push_up(now);\n}\nvoid dle(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R){\n        ans+=t[now];t[now]=0;lazy[now]=0;\n        return ;\n    }\n    push_down(l,r,now);\n    ll m=l+((r-l)>>1);\n    if(L<=m)  dle(L,R,lson);\n    if(R>m)  dle(L,R,rson);\n    push_up(now);\n}\nvoid found_b(ll L,ll R,ll l,ll r,ll now){\n    if(t[now]==r-l+1)  return ;\n    if(beg!=-1)  return ;\n    if(l==r && t[now]==0){\n        beg=l;return ;\n    }\n    push_down(l,r,now);\n    ll m=l+((r-l)>>1);\n    if(L<=m)  found_b(L,R,lson);\n    if(R>m)  found_b(L,R,rson);\n}\nvoid found_e(ll L,ll R,ll l,ll r,ll now){\n    if(t[now]==r-l+1)  return ;\n    if(en!=-1)  return ;\n    if(l==r && t[now]==0){\n        en=l;return ;\n    }\n    push_down(l,r,now);\n    ll m=l+((r-l)>>1);\n    if(R>m)  found_e(L,R,rson);\n    if(L<=m)  found_e(L,R,lson);\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ta;cin>>ta;\n    while(ta--){\n        ll n,m;cin>>n>>m;\n        build();\n        for(ll i=1,o,a,f;i<=m;i++){\n            cin>>o>>a>>f;\n            if(o==1){\n                ll nn=get_sum(a,n-1,0,n-1,1);\n                beg=-1;en=-1;\n                found_b(a,n-1,0,n-1,1);found_e(a,n-1,0,n-1,1);\n                if(nn==n-a){\n                    cout<<\"Can not put any one.\"<<endl;\n                    continue;\n                }\n                if(nn+f>=n-a){\n                    add(a,n-1,0,n-1,1);\n                    cout<<beg<<\" \"<<en<<endl;continue;\n                }\n                ll l=a,r=n-1;\n                while(l<r){\n                    ll mid=(r+l)>>1;\n                    if(get_sum(a,mid,0,n-1,1)+f<=mid-a+1)  r=mid;\n                    else  l=mid+1;\n                }\n                add(a,l,0,n-1,1);\n                cout<<beg<<\" \"<<l<<endl;continue;\n            }\n            else{\n                ans=0;\n                dle(a,f,0,n-1,1);\n                cout<<ans<<endl;continue;\n            }\n            \n        }\n        cout<<endl;\n    }\n    return 0;\n}\n\n\n```\n\n# çº¿æ®µæ ‘-æ‰¾æœ€è¿‘å°\nThe 2021 ICPC Asia Regionals Online Contest  A Busiest Computing Nodes\né¢˜æ„ï¼šæœ‰k<1e5ä¸ªå·¥å‚ï¼Œä»0~k-1ç¼–å·ï¼Œæœ‰nä¸ªä»»åŠ¡ï¼Œä»0~n-1ç¼–å·ï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªåˆ°è¾¾æ—¶é—´å’Œä¸€ä¸ªå¤„ç†æ—¶é—´ã€‚æ¯ä¸ªä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œè‹¥å…¶ä»»åŠ¡ç¼–å·ä¸ºiï¼Œåˆ™å…ˆä»ç¬¬i%kä¸ªå·¥å‚å¼€å§‹å¾€åæ‰¾,i+1%k,i+2%k.....ä¸€ç›´æ‰¾åˆ°i-1%kï¼Œå¦‚æœæ‰€æœ‰å·¥å‚éƒ½ä¸ç©ºé—²ï¼Œåˆ™æ­¤ä»»åŠ¡è¢«ä¸¢å¼ƒï¼Œé—®å¤„ç†ä»»åŠ¡æœ€å¤šçš„å·¥å‚æ˜¯å“ªäº›ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\næ€è·¯ï¼šå³æ‰¾æœ€è¿‘å°çš„tï¼Œæ»¡è¶³arrival_timeï¼ˆè®°ä¸ºtaï¼‰ < t,é‚£ä¹ˆå› ä¸ºè¿™ä¸ªæ˜¯æœ€è¿‘å°ï¼Œè·ç¦»æ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§ï¼Œå°±ä¸èƒ½ç”¨å•è°ƒé˜Ÿåˆ—é‚£äº›ï¼Œå› ä¸ºä¸æ˜¯æŒ‰tæ’åºçš„ã€‚è¿™é‡Œå°±è¦ç”¨åˆ°äºŒåˆ†æŸ¥æ‰¾ã€‚æŸ¥æ‰¾åˆ†ä¸ºä¸¤ä¸ªåŒºé—´ï¼Œä¸€ä¸ªæ˜¯[i%k,n-1],å¦ä¸€ä¸ªæ˜¯[0,i-1%k]ï¼Œå‰è€…è®°ä¸ºaåŒºé—´ï¼Œåè€…è®°ä¸ºbåŒºé—´ã€‚å…ˆæ‰¾åˆ°aåŒºé—´çš„æœ€å°å€¼ï¼Œå¦‚æœæœ€å°å€¼(è®°ä¸ºminn)éƒ½>taï¼Œåˆ™æ‰¾båŒºé—´ã€‚å¦åˆ™â€œå…ˆâ€åœ¨aåŒºé—´çš„å·¦åŠåŒºé—´æ‰¾ï¼Œè‹¥minn>taï¼Œåˆ™æ‰¾açš„å³åŠåŒºé—´æ‰¾ã€‚å³å…ˆæ‰¾æ¯ä¸ªåŒºé—´çš„å·¦åŒºé—´ï¼Œå·¦åŒºé—´æ²¡æœ‰å†æ‰¾å³åŒºé—´å³å¯ã€‚æ˜¯ä¸€ä¸ªäºŒåˆ†çš„æ€æƒ³ã€‚ç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´æœ€å°å€¼å³å¯ã€‚æˆ‘ä¸€å¼€å§‹ä¹Ÿæ²¡æƒ³åˆ°äºŒåˆ†è¿˜èƒ½è¿™ä¹ˆç”¨ï¼Œå› ä¸ºæˆ‘çœ‹è¿™é“é¢˜tä¸æ˜¯å•è°ƒçš„ï¼Œä½†æ˜¯ç°åœ¨å‘ç°è·ç¦»æ˜¯å•è°ƒçš„ï¼Œæ‰€ä»¥**æŸ¥æ‰¾æœ€è¿‘å°è¿˜æ˜¯å¯ä»¥ç”¨äºŒåˆ†**ã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-20 12:29:16\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e5+11;\nll t[maxn<<2],cnt[maxn],maxx;\nvector<ll> v;\nvoid push_up(ll now){\n    t[now]=min(t[now<<1],t[now<<1|1]);\n}\nvoid update(ll L,ll val,ll l,ll r,ll now){\n    if(L==l && L==r){t[now]=val;return ;}\n    ll m=l+((r-l)>>1);\n    if(L<=m)  update(L,val,lson);\n    else  update(L,val,rson);\n    push_up(now);\n}\nll found(ll L,ll R,ll val,ll l,ll r,ll now){\n    if(val<t[now])  return -1;\n    if(l==r && t[now]<=val){\n        return l;\n    }  \n    if(l==r)  return -1;\n    ll m=l+((r-l)>>1);\n    ll flag=-1;\n    if(L<=m)  flag=found(L,R,val,lson);\n    if(flag==-1){\n        if(R>m)  return found(L,R,val,rson);\n    }\n    return flag;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll k,n;cin>>k>>n;\n    for(ll i=0,ta,tc;i<n;i++){\n        cin>>ta>>tc;\n        ll pos=i%k;\n        ll flag=found(pos,k-1,ta,0,k-1,1);\n        if(flag==-1){\n            if(pos==0)  continue;\n            ll flagg=found(0,pos-1,ta,0,k-1,1);\n            if(flagg==-1)  continue;\n            flag=flagg;\n        }\n        update(flag,ta+tc,0,k-1,1);\n        cnt[flag]++;\n        if(cnt[flag]>maxx){\n            maxx=cnt[flag];v.clear();v.push_back(flag);\n        }\n        else if(cnt[flag]==maxx)  v.push_back(flag);\n    }\n    sort(v.begin(),v.end());\n    for(auto i=v.begin();i!=v.end();i++){\n        if(i==v.end()-1)  cout<<*i;\n        else  cout<<*i<<\" \";\n    }\n    return 0;\n}\n\n```\n\n# Segment Tree beats ç»´æŠ¤ä¸€ä¸ªæ•°åˆ—\né¢˜æ„\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-20-22-39.png)\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-20-22-49.png)\n\nè¿™é‡Œå¯¹äº100ä»¥å†…çš„25ä¸ªè´¨æ•°çš„ç»´æŠ¤ï¼Œå¯ä»¥çŠ¶æ€å‹ç¼©ï¼Œå³ç”¨ä¸€ä¸ªintçš„ä¸€ä½äºŒè¿›åˆ¶è¡¨ç¤ºæ”¹è´¨æ•°æ˜¯å¦å­˜åœ¨ã€‚ä¹Ÿå°±æ˜¯å†æ‹‰ä¸ªçº¿æ®µæ ‘ç»´æŠ¤25ä¸ªè´¨æ•°ã€‚\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x)  cout<<#x<<\": \"<<x<<endl;\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\ntypedef long long ll;\nconst ll maxn=1e5+11;\nconst ll mo=998244353;\nll t[maxn<<2],rr[maxn<<2],x[maxn],lazy[maxn<<2],ar[111];\nll tmp;\nll is(ll x){\n    for(ll i=2;i*i<=x;i++)  if(x%i==0)  return 0;\n    return 1;\n}\nvoid init(){\n    tmp=0;\n    for(ll i=2;i<=100;i++){\n        if(is(i))  ar[tmp++]=i;\n    }\n}\nll fy(ll x){//è®¡ç®—xçš„æ¬§æ‹‰å€¼\n    ll ans=x;\n    for(ll i=0;i<25;i++){\n        if(x%ar[i]==0){\n            ans=ans*(ar[i]-1)/ar[i];\n        }\n    }\n    return ans;\n}\nll wei(ll x){\n    ll ans=0;\n    for(ll i=0;i<25;i++){\n        if(x%ar[i]==0){\n            ans=ans|(1<<i);\n        }\n    }\n    return ans;\n}\nvoid push_up(ll now){\n    t[now]=(t[now<<1]+t[now<<1|1])%mo;\n    rr[now]=rr[now<<1]&rr[now<<1|1];\n}\nvoid push_down(ll l,ll r,ll now){\n    if(lazy[now]>1){\n        t[now<<1]=t[now<<1]*lazy[now]%mo;\n        lazy[now<<1]=lazy[now<<1]*lazy[now]%mo;\n        t[now<<1|1]=t[now<<1|1]*lazy[now]%mo;\n        lazy[now<<1|1]=lazy[now<<1|1]*lazy[now]%mo;\n        lazy[now]=1;\n    }\n}\nvoid build(ll l,ll r,ll now){\n    lazy[now]=1;\n    if(l==r){\n        t[now]=fy(x[l]);rr[now]=wei(x[l]);\n        return ;\n    }\n    ll m=l+((r-l)>>1);\n    build(lson);build(rson);\n    push_up(now);\n}\nvoid update(ll L,ll R,ll w,ll val,ll l,ll r,ll now){\n    if(L<=l && r<=R && (rr[now]&val)==val){\n        t[now]=t[now]*w%mo;lazy[now]=lazy[now]*w%mo;\n        return ;\n    }\n    if(l==r){\n        t[now]=t[now]*w;\n        for(ll i=0;i<25;i++){\n            if(((rr[now]>>i)&1)==0 && ((val>>i)&1)==1){\n                t[now]=t[now]*(ar[i]-1)/ar[i];\n            }\n        }\n        t[now]=t[now]%mo;\n        rr[now]=rr[now]|val;  \n        return ;\n    }\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    if(L<=m)  update(L,R,w,val,lson);\n    if(R>m)  update(L,R,w,val,rson);\n    push_up(now);\n}\nll getsum(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R)  return t[now];\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    ll sum=0;\n    if(L<=m)  sum=getsum(L,R,lson)%mo;\n    if(R>m)  sum=(sum+getsum(L,R,rson))%mo;\n    return sum;\n}\nint main(){\n    init();\n    ll n,m;cin>>n>>m;\n    for(ll i=1;i<=n;i++)  cin>>x[i];\n    build(1,n,1);\n    for(ll i=1;i<=m;i++){\n        ll op,l,r,w;\n        cin>>op;\n        if(op==0){\n            cin>>l>>r>>w;\n            if(w==1)  continue;\n            update(l,r,w,wei(w),1,n,1);\n        }\n        if(op==1){\n            cin>>l>>r;\n            cout<<getsum(l,r,1,n,1)<<endl;\n        }\n    }\n    return 0;\n}\n\n```\n\n\n\n","tags":["æ•°æ®ç»“æ„"]},{"title":"2021XTUç¨‹è®¾è€ƒè¯•","url":"/2021/08/31/2021XTUç¨‹è®¾è€ƒè¯•/","content":"\nå¥½èœå•Šï¼Œå°±åšäº†ä¸€é“é¢˜ï¼ŒæŒ‚ç§‘äº†555\nèµ¶å¿™æ¥è¡¥é¢˜\n\n<!--more-->\n\n# xtu 1385 é¢ç§¯\næ­£æ–¹å½¢è¾¹é•¿ä¸º1,Eæ˜¯å¯¹è§’çº¿BDä¸Šä¸€ç‚¹ï¼ŒFæ˜¯è¾¹ABä¸Šä¸€ç‚¹ï¼Œå·²çŸ¥|DE|=a/b|DB|,|BF|=c/d|AB|ï¼Œæ±‚â–³CEFçš„é¢ç§¯ã€‚\n\næ€è·¯:æ¨å…¬å¼,æ³¨æ„ä¸ºè´Ÿæ•°çš„æƒ…å†µ\n\n```cpp\n#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint main(){\n    int t;\n    scanf(\"%d\",&t);\n    while(t--){\n        int a,b,c,d;\n        scanf(\"%d %d %d %d\",&a,&b,&c,&d);\n        int m=b*d-a*c-a*d;\n        int n=2*b*d;\n        if(m==0){\n            printf(\"0\\n\");\n            continue;\n        }  \n        if(m<0)  m=abs(m);\n        int k=__gcd(m,n);\n        m/=k,n/=k;\n        printf(\"%d/%d\\n\",m,n);\n    }\n    return 0;\n}\n```\n\n#  xtu 1386\tå½©çƒ\næœ‰nä¸ªçƒï¼Œæ ‡å·ä¸º1âˆ¼nï¼Œç¬¬iä¸ªçƒæœ‰çš„é¢œè‰²ä¸ºciã€‚ä½ éœ€è¦é€‰æ‹©3ä¸ªä¸åŒé¢œè‰²çš„çƒï¼Œé—®æœ‰å¤šå°‘ç§ä¸åŒçš„é€‰æ‹©æ–¹æ¡ˆï¼Ÿ\n\næ€è·¯:å…ˆhashç»Ÿè®¡å„ä¸ªé¢œè‰²æ°”çƒæ•°é‡(å¯ä»¥map,unordered_map,unordered_mapåº”è¯¥ä¸ä¼šè¶…æ—¶,mapä¸çŸ¥é“)\nç„¶åå› ä¸ºç›´æ¥æ•°ä¸‰ä¸ªä¸åŒè‰²çš„å¾ˆå›°éš¾,è¿™é‡Œå°±å¾—ç”¨åˆ°é—´æ¥æ³•,ä½†æ˜¯è°¢å¤§è®¤ä¸ºè¿™æ˜¯å°å­¦ä¸‰å¹´çº§çŸ¥è¯†,å…¶å®æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½æ²¡æƒ³åˆ°.\nå°±æ˜¯ç”¨ä»nä¸ªçƒä¸­é€‰å‡º3ä¸ªçƒçš„æ–¹æ¡ˆæ•°(å³ç»„åˆæ•°C n é€‰3) å‡å» ä¸‰çƒåŒè‰² å‡å» ä¸¤çƒåŒè‰²,å³ä¸ºä¸‰çƒä¸åŒè‰²çš„æ–¹æ¡ˆæ•°,å¤æ‚åº¦æ˜¯O(n)çš„,å¯ä»¥æ¥å—\n\nå‘ç‚¹:64ä½å¦‚æœæ˜¯scanfè¾“å…¥è®°å¾—ç”¨__int64,ä¸ç„¶ä¼šwa,ç”¨cinçš„å¯ä»¥ä¸ç”¨ç®¡\n\n```cpp\n#include<iostream>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\n#define mo 20011\n#define maxn 10000\nll re[mo+11];\ninline ll hash1(ll n){\n    ll x=n%mo;\n    if(re[x]==INF)  {re[x]=n;return x;}\n    else{\n        ll i=0;\n        while(re[(x+i)%mo]!=INF){\n            if(re[(x+i)%mo]!=n) i++;\n            else  return (x+i)%mo;\n        }  \n        re[(x+i)%mo]=n;\n        return (x+i)%mo;\n    }\n}\nvoid init(){//å“ˆå¸Œè¡¨åˆå§‹åŒ–\n    for(ll i=0;i<mo;i++)  re[i]=INF;\n}\nint main(){\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr);\n    ll t;\n    cin>>t;\n    while(t--){\n        init();\n        ll co[mo+11]={0};\n        ll ar[mo+11]={0};\n        ll n;\n        cin>>n;\n        for(ll i=1;i<=n;i++){\n            ll t;cin>>t;\n            co[hash1(t)]++;\n        }\n        ll step=0;\n        for(ll i=0;i<mo;i++){\n            if(co[i]!=0){\n                ar[++step]=co[i];\n            }\n        }\n        ll ans=n*(n-1)*(n-2)/6;\n        for(ll i=1;i<=step;i++){\n            if(ar[i]>=3)  ans=ans-ar[i]*(ar[i]-1)*(ar[i]-2)/6;\n            if(ar[i]>=2)  ans=ans-ar[i]*(ar[i]-1)/2*(n-ar[i]);\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n```\n\n# xtu 1387\tå®Œå…¨åŒºé—´\nåºåˆ—Xç”±çº¿æ€§äº§ç”Ÿå¼ xn=axnâˆ’1+bxnâˆ’2,x0=x1=1 äº§ç”Ÿï¼Œ\nåºåˆ—Yç”±çº¿æ€§äº§ç”Ÿå¼ yn=cynâˆ’1+dynâˆ’2,y0=y1=1 äº§ç”Ÿï¼Œ\né›†åˆZ={x+yâˆ£xâˆˆX,yâˆˆY}ã€‚\nç°æœ‰åŒºé—´[L,R]ï¼Œæ±‚æœ€é•¿çš„å­åŒºé—´[l,r],æ»¡è¶³Lâ‰¤lâ‰¤râ‰¤R,âˆ€zâˆˆ[l,r],zâˆˆZã€‚\n\næ€è·¯ï¼šé¢˜ç›®çœ‹ä¼¼æ•°æ®é‡å¾ˆå¤§ï¼Œåˆ°10^9,æˆ‘ä¹Ÿæ˜¯ä¸€å¼€å§‹è¢«å“åˆ°äº†\n  å…¶å®ä¸ç„¶ï¼Œä»”ç»†åˆ†æ\n  å› ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—å¢é•¿å¾ˆå¿«ï¼Œçº¦ä¸º2çš„xæ¬¡æ–¹ï¼ŒæŒ‡æ•°çº§åˆ«\n  æ‰€ä»¥xä¸­æœ€å¤šåˆ°å·®ä¸å¤š50é¡¹ï¼Œå°±ä¼šè¶…å‡º1e9æ¬¡æ–¹ï¼Œå³xä¸­æœ€å¤š50ä¸ªå…ƒç´ \n  åŒç†ï¼Œyä¸­æœ€å¤šä¹Ÿåªæœ‰50ä¸ªï¼Œé‚£ä¹ˆzä¸­æœ€å¤šå°±åªæœ‰50*50ä¸ª\n  å¯ä»¥æšä¸¾äº§ç”ŸZ  å¤æ‚åº¦å¯ä»¥æ¥å—\n  æœ€åå†åœ¨L~RåŒºé—´å†…éå†ä¸€é,æ‰¾å‡ºæœ€é•¿å­åŒºé—´å³å¯\n\nå‘ç‚¹:æœ€å¥½ç”¨64ä½,ä¸ç„¶å®¹æ˜“çˆ†int,å¾ˆå¤šäººreäº†æˆ‘ä¸çŸ¥é“ä»€ä¹ˆåŸå› \n\n```cpp\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e9;\nint main(){\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr);\n\tll t;\n\tcin>>t;\n\twhile(t--){\n\t\tll a,b,c,d,l,r;\n\t\tll x[55]={1,1,1},y[55]={1,1,1};\n\t\tll re[2555],step=1;\n\t\tcin>>a>>b>>c>>d>>l>>r;\n\t\tll l1=2,l2=2;\n\t\tfor(ll i=3;i<55;i++){\n\t\t\tx[i]=a*x[i-1]+b*x[i-2];\n\t\t\tl1++;\n\t\t\tif(x[i]<=0 || x[i]>=1e9)  break;\n\t\t}\n\t\tfor(ll i=3;i<55;i++){\n\t\t\ty[i]=c*y[i-1]+d*y[i-2];\n\t\t\tl2++;\n\t\t\tif(y[i]<=0 || y[i]>=1e9)  break;\n\t\t}\n\t\tfor(ll i=1;i<l1;i++){\n\t\t\tfor(ll j=1;j<l2;j++){\n\t\t\t\tif(l<=x[i]+y[j] && x[i]+y[j]<=r){\n\t\t\t\t\tre[step++]=x[i]+y[j];\n\t\t\t\t\t//Debug(re[step-1]);\n\t\t\t\t}  \n\t\t\t}\n\t\t}\n\t\tsort(re+1,re+step);\n\t\tstep=unique(re+1,re+step)-(re+1);\n\t\tif(step==0)  cout<<0<<endl;\n\t\telse{\n\t\t\tll length=1,maxl=1;\n\t\t\tfor(ll i=2;i<=step;i++){\n\t\t\t\t//Debug(re[i]);\n\t\t\t\tif(re[i]==re[i-1]+1){\n\t\t\t\t\tlength++;\n\t\t\t\t\tif(length>maxl)  maxl=length;\n\t\t\t\t}  \n\t\t\t\telse  length=1;\n\t\t\t}\n\t\t\tcout<<maxl<<endl;\n\t\t}\n\t}\n    return 0;\n}\n```\n\n# xtu 1388\tç§¯æœ¨\nç§¯æœ¨å—éƒ½æ˜¯ç›¸åŒçš„ç«‹æ–¹ä½“ï¼Œä¸€å…±æœ‰nåˆ—ç§¯æœ¨å †ï¼Œè¿™nåˆ—ç§¯æœ¨æ’æˆä¸€æ’ï¼Œæ¯å †ä¸Šæ˜¯aiä¸ªç§¯æœ¨å †å èµ·æ¥ï¼Œå¹¶ä¸”ä¿è¯ä»å·¦åˆ°å³ï¼Œæ¯åˆ—çš„ç§¯æœ¨æ•°æ˜¯éé€’å‡çš„ã€‚\n\nç°åœ¨ä½ è¿˜æœ‰kä¸ªç§¯æœ¨å—ï¼Œè¯·æŠŠè¿™kä¸ªç§¯æœ¨å—æ”¾åˆ°ç§¯æœ¨ä¸Šï¼ˆå¯ä»¥åªç”¨éƒ¨åˆ†ç§¯æœ¨å—ï¼Œä½†ä¸èƒ½å †æ–°çš„åˆ—ï¼‰ã€‚ä½ æƒ³çš„åˆ°ä¸€ä¸ªè¿ç»­çš„ç§¯æœ¨åˆ—ï¼Œå¹¶ä½¿å¾—è¿™äº›ç§¯æœ¨åˆ—å…·æœ‰ç›¸åŒçš„é«˜åº¦ã€‚\n\nè¯·é—®ä½ èƒ½å¾—åˆ°è¿™æ ·çš„ç§¯æœ¨åˆ—çš„æœ€å¤§å®½åº¦ï¼Ÿ\n \n æ€è·¯:\n æœ€é•¿åŒºé—´é—®é¢˜,å®¹æ˜“æƒ³åˆ°å°ºå–,è¦ç”¨å°ºå–,åºåˆ—å°±å¾—æ»¡è¶³å•è°ƒæ€§,è¿™é¢˜éšç€åŒºé—´é•¿åº¦é€’å¢,kå€¼æ˜¯é€’å¢çš„,æ»¡è¶³å•è°ƒæ€§.\n å…·ä½“æ¥è¯´å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆ,ä¸€ä¸ªå³æŒ‡é’ˆæŒ‡å‘åŒºé—´å³è¾¹ç«¯ç‚¹,ä¸€ä¸ªå·¦æŒ‡é’ˆæŒ‡å‘åŒºé—´å·¦è¾¹ç«¯ç‚¹,ç”¨sumå€¼è®°å½•è¿™ä¸ªåŒºé—´å†…æ»¡è¶³è¿ç»­ç§¯æœ¨åˆ—æ‰€éœ€çš„æœ¨å—æ•°,å½“sum<=kæ—¶,å³æŒ‡é’ˆå³ç§»,åŒºé—´é•¿åº¦+1,å½“sum>kæ—¶,å·¦æŒ‡é’ˆå³ç§»,åŒºé—´é•¿åº¦-1.è®°å½•ä¸‹æ»¡è¶³æ¡ä»¶çš„æœ€å¤§é•¿åº¦\n\nå°æç¤º:\"å·¨å¤§çš„è¾“å…¥é‡ï¼Œè¯·ä½¿ç”¨stdio.hå¤´æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨Cé£æ ¼çš„è¾“å…¥\",è¿™å¥è¯åœ¨xtu ojç»å¸¸æœ‰,ä½†å…¶å®å…³äº†åŒæ­¥,ç”¨cinä¹Ÿä¸æ˜¯å¾ˆæ…¢.åƒè¿™é“é¢˜å°±æ˜¯.\n```cpp\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef __int64 ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=10000+11;\nll ar[maxn];\nint main(){\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr);\n    ll t;\n    cin>>t;\n    while(t--){\n        ll n,k;\n        cin>>n>>k;\n        for(ll i=1;i<=n;i++)  cin>>ar[i];\n        ll l=1,r=1,length,maxl,k1=0;\n        for(ll r=1;r<=n;r++){\n            if(r==1){\n                length=1;\n                maxl=1;\n            }  \n            else{\n                if(ar[r]!=ar[r-1])  k1=k1+(r-l)*(ar[r]-ar[r-1]);\n                length++;\n                while(k1>k){\n                    k1=k1-(ar[r]-ar[l]);\n                    length--;\n                    l++;\n                }\n                if(length>maxl)  maxl=length;\n            }\n        }\n        cout<<maxl<<endl;\n    }\n    return 0;\n}\n```\n\nå¦ä¸€ä¸ªæ€è·¯:æœ€é•¿åŒºé—´é•¿åº¦,ç”±å…³é”®è¯æœ€é•¿,ä¹Ÿå®¹æ˜“æƒ³åˆ°äºŒåˆ†,å°±æ˜¯äºŒåˆ†æšä¸¾æœ€å¤§å®½åº¦,å¯¹äºæ¯ä¸ªå®½åº¦checkä¸‹æ˜¯å¦ç¬¦åˆè¦æ±‚\n\n# xtu 1389\täºŒå‰æŸ¥æ‰¾æ ‘\nnä¸ªå…ƒç´ ï¼Œä¾æ¬¡æ’å…¥ä¸€é¢—åˆå§‹ä¸ºç©ºçš„äºŒå‰æŸ¥æ‰¾æ ‘ã€‚å¯¹äºç¬¬iä¸ªå…ƒç´ ï¼Œå…¶æ‰€åœ¨äºŒå‰æŸ¥æ‰¾ä¹¦çš„å·¦å³å­æ ‘æ·±åº¦å·®çš„ç»å¯¹å€¼ä¸ºdiï¼Œæ±‚max{di}ã€‚\n\næ¿å­é¢˜,ç›´æ¥å¥—æ•°æ®ç»“æ„ä¹¦ä¸Šçš„æ¨¡æ¿å°±è¡Œäº†,æ€è·¯æ²¡å•¥å¥½è®²çš„\n\n```cpp\n#include<stdio.h>\n#include<algorithm>\nusing namespace std;\ntypedef struct Node * BST;\nstruct Node{\n    int num;\n    BST left;\n    BST right;\n};\nint GetHeight(BST a);\nBST Insert(BST a,int b);\nBST Free1(BST a);\nint max_num;\nint main(){\n    int t;\n    scanf(\"%d\",&t);\n    while(t--){\n        max_num=0;\n        int n;\n        scanf(\"%d\",&n);\n        BST root;\n        root=NULL;\n        for(int i=0;i<n;i++){\n            int b;\n            scanf(\"%d\",&b);\n            root=Insert(root,b);\n        }  \n        GetHeight(root);\n        printf(\"%d\\n\",max_num);\n        Free1(root);//freeå¤§å¤§å‡å°‘OJä¸Šçš„ç©ºé—´\n    }\n    return 0;\n}\nint GetHeight(BST a){\n    if(!a)  return 0;\n    int d,max_2,hl,hr;\n    hl=GetHeight(a->left);\n    hr=GetHeight(a->right);\n    max_2=hl>hr?hl:hr;\n    d=abs(hr-hl);\n    if(d>max_num)  max_num=d;\n    return (max_2+1);\n}\nBST Insert(BST a,int b){//é€’å½’æ’å…¥ç›¸å¯¹è€—æ—¶è¾ƒé•¿\n    if(!a){//ä¸ºç©ºæ ‘æ—¶ä¹Ÿå¯ä»¥æ’å…¥\n        a=(BST)malloc(sizeof(struct Node));\n        a->num=b;\n        a->left=a->right=NULL;\n    }\n    else{\n        if(b>a->num)  a->right=Insert(a->right,b);\n        else if(b<a->num)  a->left=Insert(a->left,b);\n        //b==a->numæƒ…å†µä¸è€ƒè™‘\n    }\n    return a;\n}\nBST Free1(BST a){\n    if(a){//è‹¥æœªè€ƒè™‘éç©ºæƒ…å†µï¼Œä¼šå¯¼è‡´å‡ºé”™ï¼\n        if(a->left==NULL && a->right==NULL){\n            free(a);\n            a=NULL;\n            return NULL;\n        }  \n        a->left=Free1(a->left);\n        a->right=Free1(a->right);\n        free(a);\n        a=NULL;\n        return NULL;\n    }\n    else  return NULL;\n}\n```\n# xtu 1390\tå­—æ¯è®¡æ•°\nä¸ºäº†å‹ç¼©ä¸€ä¸ªåªå«å°å†™è‹±æ–‡å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è¡¨ç¤ºå®ƒ\n\nä»»ä¸€å­—æ¯cæ˜¯è¡¨è¾¾å¼\nä»»ä¸€å­—æ¯cåæ¥ä¸€ä¸ªæ•´æ•°nä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¡¨ç¤ºæŠŠå­—æ¯cé‡å¤næ¬¡ï¼Œnæ˜¯ä¸€ä¸ªæ²¡æœ‰å‰å¯¼é›¶çš„10è¿›åˆ¶æ•´æ•°ï¼Œä¸” nâ‰¥2ã€‚\nå¦‚æœs1,s2æ˜¯è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆs1s2ä¹Ÿæ˜¯è¡¨è¾¾å¼ã€‚\nSæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ(S)nä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºå°†Sè¿™ä¸ªè¡¨è¾¾å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²é‡å¤næ¬¡ï¼Œnæ˜¯ä¸€ä¸ªæ²¡æœ‰å‰å¯¼é›¶çš„10è¿›åˆ¶æ•´æ•°ï¼Œä¸” nâ‰¥2ã€‚\næ¯”å¦‚è¡¨è¾¾å¼ ((a2b)2b)2a è¡¨ç¤ºå­—ç¬¦ä¸²aabaabbaabaabbaã€‚\n\nç°åœ¨ç»™ä½ ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¯·ç»Ÿè®¡ä¸€ä¸‹å…¶ä¸­å„ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚\n\næ€è·¯:å¾ˆå…¸å‹çš„é€’å½’å¤„ç†,å› ä¸ºæ¯æ¬¡å¤„ç†çš„å­—ç¬¦ä¸²è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„,å¯¹äºæ‹¬å·å†…çš„å­—ç¬¦ä¸²,å¯ä»¥å°†å®ƒçœ‹æˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²æ¥é€’å½’å¤„ç†.\n\nå‘ç‚¹:ojçš„64ä½æ˜¯çœŸçš„å‘,ä¸å°å¿ƒç”¨äº†ä¸ªlong longæ¥ç”¨scanfè½¬åŒ–è¾“å‡ºå­—ç¬¦å°±é”™äº†,å»ºè®®å¤§å®¶åœ¨xtu ojä¸Šè¦ä¹ˆåˆ«ç”¨long long,è¦ä¹ˆç”¨__int64,è¦ä¹ˆå°±ä¸ç”¨scanf.\n\nä»£ç :\n\n```cpp\n/*** \n * @Practice Win\n * @æ‰“h_1,h_2\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nll cnt[222];\nstring sr;\nll number(ll l,ll r){//å°†æ•°å­—å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•´æ•°\n    ll ans=0;\n    for(ll i=l;i<r;i++){\n        ans=ans*10+sr[i]-'0';\n    }\n    return ans;\n}\nvoid solve(ll l,ll r,ll power){//é€’å½’å¤„ç†ï¼Œlæ˜¯ä¸²èµ·ç‚¹ï¼Œræ˜¯ç»ˆç‚¹ï¼Œpoweræ˜¯ä¸²ä¹˜ä»¥çš„å€æ•°\n                            //å…³äºpowerï¼Œå› ä¸ºæ‹¬å·åé¢å¯ä»¥æ¥æ•°å­—ï¼Œè¡¨ç¤ºå‡ å€ï¼Œæ‰€æœ‰éœ€è¦powerè®°å½•\n    for(ll i=l;i<r;i++){\n        if(sr[i]=='('){//å¦‚æœæ˜¯æ‹¬å·\n            ll t=1,p=i+1;\n            for(;p<r;p++){//æ‰¾åˆ°è¿™ä¸ªæ‹¬å·å¯¹åº”çš„å³æ‹¬å·ä½ç½®\n                if(t==0)  break;\n                if(sr[p]=='(')  t++;\n                if(sr[p]==')')  t--;\n            }\n            if(p<r && '1'<=sr[p] && sr[p]<='9'){//å¦‚æœæ‹¬å·åé¢æ˜¯æ•°å­—\n                ll l_t=p,r_t=p+1;\n                while(r_t<r && '0'<=sr[r_t] && sr[r_t]<='9')  r_t++;\n                solve(i+1,p-1,number(l_t,r_t)*power);\n                i=r_t-1;\n            }\n            else{//å¦‚æœæ‹¬å·åé¢ä¸æ˜¯æ•°å­—\n                solve(i+1,p-1,power);\n                i=p-1;\n            }\n        }\n        else{//å¦‚æœæ˜¯å°å†™å­—æ¯\n            if(i+1<r && '1'<=sr[i+1] && sr[i+1]<='9'){//å¦‚æœå­—æ¯åé¢æ˜¯æ•°å­—\n                ll l_t=i+1,r_t=i+2;\n                while(r_t<r && '0'<=sr[r_t] && sr[r_t]<='9')  r_t++;\n                cnt[sr[i]]=cnt[sr[i]]+number(l_t,r_t)*power;\n                i=r_t-1;\n            }\n            else{//å¦‚æœåé¢ä¸æ˜¯æ•°å­—\n                cnt[sr[i]]=cnt[sr[i]]+power;\n            }\n        }\n    }\n    return ;\n}\nvoid init(){\n    memset(cnt,0,sizeof(cnt));//cntæ•°ç»„åˆå§‹åŒ–\n}\nvoid out(){//è¾“å‡ºå‡½æ•°\n    for(char i='a';i<='z';i++){\n        if(cnt[i]==0)  continue;\n        cout<<i<<\" : \"<<cnt[i]<<endl;\n    }\n    cout<<endl;\n}\nint main(){\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(nullptr);\n    while(cin>>sr){\n        init();\n        solve(0,sr.length(),1);\n        out();\n    }\n    return 0;\n}\n```\n\nå¤´ä¸€æ¬¡å‘ç°è‡ªå·±ä¹Ÿèƒ½å†™å‡ºæ¥è¿™ä¹ˆä¼˜é›…ç®€ä»‹çš„ä»£ç äº†,mainå‡½æ•°é‡Œå‡ ä¸ªå‡½æ•°å°±æå®šäº†(çªƒå–œ)","tags":["æ¯”èµ›"]},{"title":"å‰ç¼€å’ŒSubstring","url":"/2021/08/29/å‰ç¼€å’ŒSubstring/","content":"\nå‰ç¼€å’Œä¸Substringçš„çˆ±æ¨æƒ…ä»‡ \n<!--more-->\n\n\n# å‰ç¼€å’Œå¦™ç”¨-ç»å…¸å¥—è·¯\n[Command Sequence HDU - 7108](https://vjudge.net/problem/HDU-7108)\né¢˜æ„ï¼Œç»™ä¸€ä¸ªåªå«UDRLçš„é•¿åº¦ä¸ºn<1e5çš„ä¸²ï¼Œé—®æœ‰å¤šå°‘å­ä¸²çš„Uä¸ªæ•°==Dä¸ªæ•°,Rä¸ªæ•°==Lä¸ªæ•°ï¼Œ(ä¸ªæ•°å¯ä»¥ä¸º0).\n\tåˆæ˜¯ä¸€é“å­ä¸²çš„é¢˜ç›®ï¼Œå‰ç¼€å’Œå°±æ˜¯ä¸ºå­ä¸²é‡èº«å®šåˆ¶çš„å§ã€‚\n\tå‰ç¼€å’Œå¦™ç”¨ï¼ŒçœŸçš„å¤ªå¦™äº†ã€‚æ„Ÿè§‰è¿™é“é¢˜å¯ä»¥å»¶ä¼¸ä¸€ä¸‹ï¼Œä½†æ˜¯ç°åœ¨åœ¨å¯å®¤ï¼Œæœ‰äººæ‰“æ¸¸æˆå¤ªåµäº†ï¼Œé™ä¸ä¸‹å¿ƒæ¥ï¼Œå»¶ä¼¸ä¸äº†ã€‚ã€‚\n\t\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/05fb2336ecca4ddc9c032311a2d9202b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATWFyaG9vc2g=,size_20,color_FFFFFF,t_70,g_se,x_16)\n\n\n**åŸæ¥mapå¯ä»¥pairåˆ°valueï¼Œç‰›å•Šï¼Œmap**\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹ä»£ç </summary>\n  <pre><code>  \n\t\n```cpp\n#include<iostream>\n#include<map>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\ntypedef long long ll;\nconst ll maxn=1e5+11;\nmap<pair<ll,ll>,ll> mp;\npair<ll,ll> pir[maxn]; \nchar ar[maxn];\nll ai[maxn],bi[maxn];\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll t;\n    cin>>t;\n    while(t--){\n        ll n;\n        cin>>n;\n        mp.clear();\n        ai[0]=bi[0]=0;  pir[0].first=ai[0],pir[0].second=bi[0];\n        mp[pir[0]]++;\n        for(ll i=1;i<=n;i++){\n            cin>>ar[i];\n            if(ar[i]=='U')  ai[i]=ai[i-1]+1;\n            else if(ar[i]=='D')  ai[i]=ai[i-1]-1;\n            else  ai[i]=ai[i-1];\n            if(ar[i]=='R')  bi[i]=bi[i-1]+1;\n            else if(ar[i]=='L')  bi[i]=bi[i-1]-1;\n            else bi[i]=bi[i-1];\n            pir[i].first=ai[i],pir[i].second=bi[i];\n            mp[pir[i]]++;\n        }\n        ll ans=0;\n        for(ll i=0;i<=n;i++){\n            ans+=mp[pir[i]]-1;\n        }\n        cout<<ans/2<<endl;\n    }\n    return 0;\n}\n```\n\n  </code></pre>\n</details>\n\n# 4â­äºŒç»´å‰ç¼€å’Œå¥½é¢˜\n[ Portal](https://codeforces.com/contest/1581/problem/C)\n\né¢˜æ„ï¼šæœ€å°‘éœ€è¦æ”¹å¤šå°‘ä¸ªå…ƒç´ ï¼Œèƒ½å½¢æˆéœ€è¦çš„å½¢çŠ¶\n\næ€è·¯ï¼š\nç›´æ¥æš´åŠ›n^4æ–¹ä¼šè¶…æ—¶ã€‚å¦‚æœæ˜¯ç¡®å®šçŸ©å½¢å½¢çŠ¶ï¼Œå†æšä¸¾çŸ©å½¢ä½ç½®çš„æƒ…å†µè¯ï¼Œä¸å¥½å‰ªæã€‚\nç›¸åï¼Œå¦‚æœæ˜¯ç¡®å®šäº†ä½ç½®å’ŒçŸ©å½¢çš„è¡Œæ•°ï¼Œå†æšä¸¾çŸ©å½¢çš„åˆ—æ•°çš„è¯ï¼Œå°±å¯ä»¥å‰ªæã€‚\nå½“æšä¸¾æœ€åä¸€åˆ—ä¹‹å‰ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äº16ï¼Œå¤§äºå°±å‰ªæï¼Œ16æ˜¯æœ€åæƒ…å†µä¸‹çš„ä¿®æ”¹æ•°ã€‚\n\nè¸©å‘ï¼š\nç®—yå‰ç¼€å’Œçš„æ—¶å€™ï¼Œyå†™æˆäº†, y[j][i]=y[j-1][i]+(a[j][i]=='1');\næ­£ç¡®çš„æ˜¯:\n```cpp\nfor(ll i=1;i<=n;i++){\n    for(ll j=1;j<=m;j++){\n        x[i][j]=x[i][j-1]+(a[i][j]=='1');\n        y[i][j]=y[i-1][j]+(a[i][j]=='1');\n        s[i][j]=s[i][j-1]+s[i-1][j]-s[i-1][j-1]+(a[i][j]=='1');\n    }\n}\n```\n\n","tags":["åŸºæœ¬ç®—æ³•"]},{"title":"ACMæ¯”èµ›åˆ’æ°´è®°å½•","url":"/2021/08/29/ACMæ¯”èµ›åˆ’æ°´è®°å½•/","content":"\nTest!Test!  â€œ           â€ æ¯”èµ›ï¼æ¯”èµ›ï¼\n\n<!--more--> \n\n# 2021.8.28 ccpcç½‘ç»œèµ›\nä¼—æ‰€å‘¨çŸ¥ 2021å¹´8.28æ²¡æœ‰CCPCç½‘èµ›\nåªæœ‰CCPCâ€œç½‘ç»œâ€é€‰æ‹”èµ›\n\n## æ¶¨å§¿åŠ¿äº†\n[Power Sum HDU - 7105 ](https://vjudge.net/problem/HDU-7105)\n![](https://img-blog.csdnimg.cn/50c9d6eaf04e411183ed37159528eccb.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATWFyaG9vc2g=,size_20,color_FFFFFF,t_70,g_se,x_16)\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\tå½“æ—¶æƒ³åˆ°äº†å¹³æ–¹å·®å‡‘æ•°ï¼Œå¯æƒœå·®ä¸€æ­¥ã€‚ä¸éš¾å‘ç°ï¼Œxæ–¹-(x+1)æ–¹-ï¼ˆx+2ï¼‰æ–¹+ï¼ˆx+3ï¼‰æ–¹=4ï¼›é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥è®©n%4ï¼Œæ¥ä¸‹æ¥åªè¦å‡‘å‡º0,1,2,3å³å¯ï¼Œ0ä¸ç”¨è€ƒè™‘ï¼Œ1çš„è¯å°±æ˜¯1æ–¹ï¼Œ2çš„è¯å°±æ˜¯4æ–¹-3æ–¹-2æ–¹-1æ–¹ï¼Œ3çš„è¯å°±æ˜¯2æ–¹-1æ–¹ã€‚äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å‡‘å‡ºnäº†ã€‚æ³¨æ„åˆ°è¿™é‡Œkæœ€å¤§ä¸ºn+2ï¼Œä¸è¿‡æˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªæ–¹æ³•å‡‘å‡ºæ¥çš„åˆšå¥½æœ€å¤§é•¿åº¦ä¹Ÿæ˜¯n+2ã€‚\n\t\nï¼ï¼ï¼ï¼ï¼ï¼ï¼\næ³¨æ„ä¸‹è¿™é‡Œçš„è¾“å‡ºï¼Œå› ä¸ºè¾“å‡ºæœ€å¤šæœ‰1e6ï¼Œç”¨å­—ç¬¦ä¸²è¾“å‡ºä¼šæ›´å¿«\nprintfè¾“å‡ºæŒ‡å®šé•¿åº¦å­—ç¬¦ä¸²çš„æ–¹æ³•æ˜¯ï¼šprintf(\"%.*s\\n\",l,ar);å¾ˆç¦»è°±çš„æ˜¯ç”¨è¿™ä¸ªè¾“å‡º C++WAï¼ŒG++ACã€‚ã€‚ã€‚\nå­—ç¬¦ä¸²è¾“å‡ºæŒ‡å®šé•¿åº¦,é™¤äº†ç”¨ä¸Šé¢è¿™ç§ä¸å¤ªé è°±çš„æ–¹æ³•,è¿˜æœ‰å°±æ˜¯ç”¨string,å¯¹äºstring,å¯ä»¥ç›´æ¥åŠ ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²\"1001\",æ¯”ä¸€ä¸ªä¸ªpush_backå¿«ä¸€äº›.\nè¿˜æœ‰å°±æ˜¯å¯¹äºåˆ†æƒ…å†µå¯¹æ•°èµ‹å€¼ï¼Œå¯ä»¥ç›´æ¥ç”¨ä¸ªæ•°ç»„æ¥å¼„ï¼Œå°±åƒæ–¹å‘æ•°ç»„ï¼Œæ¯”ifelseä»£ç ç®€ä»‹ä¸å°‘ã€‚\nå¯ä»¥å¯¹æ¯”ä¸‹ä¸¤ä¸ªä»£ç ï¼Œå°±çŸ¥é“ä»£ç é‡çš„åŒºåˆ«äº†ã€‚\næœ¬å¼±é¸¡ä»£ç ï¼š\n\n```cpp\n#include<stdio.h>\ntypedef long long ll;\nconst ll maxn=1e6+11;\nchar ar[maxn];\nint main(){\n    ll t;\n    scanf(\"%lld\",&t);\n    while(t--){\n        ll n;\n        scanf(\"%lld\",&n);\n        ll cnt=n/4;\n        ll ys=n%4;\n        ll tmp=0;\n        if(ys==0){ ; }\n        else if(ys==1){\n            ar[tmp++]='1';\n        }\n        else if(ys==2){\n            ar[tmp++]='0',ar[tmp++]='0',ar[tmp++]='0',ar[tmp++]='1';\n        }\n        else if(ys==3){\n            ar[tmp++]='0',ar[tmp++]='1';\n        }\n        for(ll i=0;i<cnt;i++){\n            ar[tmp++]='1',ar[tmp++]='0',ar[tmp++]='0',ar[tmp++]='1';\n        }\n        printf(\"%lld\\n\",tmp);\n        printf(\"%.*s\\n\",tmp,ar);\n    }\n    return 0;\n}\n\n```\n\né«˜è´¨é‡ä»£ç \n\n```cpp\n#include <iostream>\n#include <string>\nusing namespace std;\nint t, n;\nconst int ki[] = {0, 1, 4, 2};\nconst string ti[] = {\"\", \"1\", \"0001\", \"01\"};\nint main() {\n    ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cin >> t;\n    while (t--) {\n        cin >> n;\n        string ans = ti[n % 4];\n        int k = ki[n % 4];\n        while (n >= 4) {\n            ans += \"1001\";\n            k += 4;\n            n -= 4;\n        }\n        cout << k << endl << ans << endl;\n    }\n    return 0;\n}\n```\n\nï¼ï¼ï¼ï¼ï¼ï¼ï¼\n  </code></pre>\n</details>\n\n\n## ç»å…¸å¥—è·¯-å¥½é¢˜\n[Command Sequence HDU - 7108](https://vjudge.net/problem/HDU-7108)\né¢˜æ„ï¼Œç»™ä¸€ä¸ªåªå«UDRLçš„é•¿åº¦ä¸ºn<1e5çš„ä¸²ï¼Œé—®æœ‰å¤šå°‘å­ä¸²çš„Uä¸ªæ•°==Dä¸ªæ•°,Rä¸ªæ•°==Lä¸ªæ•°ï¼Œ(ä¸ªæ•°å¯ä»¥ä¸º0).\n\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\tåˆæ˜¯ä¸€é“å­ä¸²çš„é¢˜ç›®ï¼Œå‰ç¼€å’Œå°±æ˜¯ä¸ºå­ä¸²é‡èº«å®šåˆ¶çš„å§ã€‚\n\tå‰ç¼€å’Œå¦™ç”¨ï¼ŒçœŸçš„å¤ªå¦™äº†ã€‚æ„Ÿè§‰è¿™é“é¢˜å¯ä»¥å»¶ä¼¸ä¸€ä¸‹ï¼Œä½†æ˜¯ç°åœ¨åœ¨å¯å®¤ï¼Œæœ‰äººæ‰“æ¸¸æˆå¤ªåµäº†ï¼Œé™ä¸ä¸‹å¿ƒæ¥ï¼Œå»¶ä¼¸ä¸äº†ã€‚ã€‚\n\t\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/05fb2336ecca4ddc9c032311a2d9202b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBATWFyaG9vc2g=,size_20,color_FFFFFF,t_70,g_se,x_16)\n\nï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\nåŸæ¥mapå¯ä»¥pairåˆ°valueï¼Œç‰›å•Šï¼Œmap\nï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n\n  </code></pre>\n</details>\n\n# 2021.8.29 æ··åˆç»„é˜Ÿèµ›\n[676 C Vasya and String](https://codeforces.com/problemset/problem/676/C)\né¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºn<1e5çš„åªå«aï¼Œbçš„ä¸²ï¼Œå¯ä»¥å…è®¸ä¿®æ”¹kä¸ªä½ç½®ï¼Œé—®èƒ½å¾—åˆ°æœ€é•¿çš„â€œä¸€æ ·ä¸²â€çš„é•¿åº¦æ˜¯å¤šå°‘ã€‚â€œä¸€æ ·ä¸²â€å³åªå«aæˆ–åªå«bçš„ä¸²ã€‚\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\tå…ˆè®¨è®ºåªå«açš„æƒ…å†µï¼Œå°ºå–å³å¯ï¼ŒbåŒç†ã€‚\n  </code></pre>\n</details>\n\n[1469 B Red and Blue](https://codeforces.com/problemset/problem/1469/B)\né¢˜æ„ï¼šç»™ä½ ä¸¤ä¸ªé•¿åº¦åˆ†åˆ«ä¸ºnå’Œmçš„æ•´æ•°åˆ—aå’Œbï¼Œå°†aå’Œbæ•°åˆ—å¹¶æˆä¸€ä¸ªæ•°åˆ—cï¼Œå³cçš„é•¿åº¦ä¸ºn+mï¼Œè¦æ±‚æ•°åˆ—cä¸­ï¼Œå¯¹äºaçš„æ¯ä¸ªæ•°ä¿æŒåŸå…ˆaçš„é¡ºåºï¼ŒbåŒç†ã€‚é—®cçš„æœ€å¤§å‰ç¼€å’Œã€‚\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\tè´ªå¿ƒï¼Œæ•´æ•°ä¸ç”¨å¤šè¯´ï¼Œå¯¹äºaä¸­çš„è´Ÿæ•°ï¼Œåªè¦åé¢æœ‰æ­£æ•°èƒ½ä½¿å…¶å’Œä¸ºæ­£ï¼Œåˆ™åŠ ä¸Šè¿™ä¸ªè´Ÿæ•°ï¼Œæ— åˆ™ä¸åŠ ã€‚båŒç†ã€‚\n  </code></pre>\n</details>\n\n## å·§ç”¨ï¼Œçœ‹æ€è·¯\n[988 C Equal Sums](https://codeforces.com/problemset/problem/988/C)\né¢˜æ„ï¼šç»™ä½ k<2e5ä¸ªæ•°åˆ—ï¼Œæ¯ä¸ªæ•°åˆ—é•¿åº¦ä¸ºni,æ•°æ®ä¿è¯niçš„å’Œ<2e5ï¼Œæ¯ä¸ªæ•°çš„èŒƒå›´ä¸ºâˆ’1e4  to 1e4ã€‚ä»ä¸­ä»»æ„é€‰æ‹©ä¸¤ä¸ªæ•°åˆ—ï¼Œä¸¤ä¸ªæ•°åˆ—å¿…é¡»å‡å»æœ‰ä¸”ä»…æœ‰å„è‡ªçš„ä¸€ä¸ªæ•°åï¼Œè‹¥ä¸¤ä¸ªæ•°åˆ—çš„å’Œç›¸ç­‰ï¼Œåˆ™è¾“å‡ºè¿™ä¸¤ä¸ªæ•°åˆ—çš„åºå·niï¼Œå’Œå‡å»çš„æ•°ã€‚è‹¥ä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªæ•°åˆ—ï¼Œè¾“å‡ºNOã€‚ç»“æœå¤šç»„æƒ…å†µè¾“å‡ºä¸€ç»„å³å¯ï¼Œniå¯ä»¥ä»»æ„é¡ºåºè¾“å‡ºã€‚\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\tæˆ‘ä¸€å¼€å§‹æƒ³å¤æ‚äº†ï¼Œæƒ³ç€è¿™å°±æ˜¯ä¸èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘å°±å…ˆæŠŠæ¯ä¸ªæ•°åˆ—å»ä¸ªé‡ï¼Œç„¶åå†æŠŠä»–ä»¬éƒ½å¼„åˆ°ä¸€ä¸ªæ•°åˆ—é‡Œé¢ï¼Œæ’ä¸ªåºçœ‹æ˜¯å¦æœ‰é‡å¤å…ƒç´ ã€‚\n\tç®€å•æ–¹æ³•å°±æ˜¯ï¼Œåˆ¤æ–­æœ‰æ— é‡å¤å…ƒç´ ï¼Œç›´æ¥çœ‹a[i]æ˜¯å¦ç­‰äº1å°±å¯ä»¥äº†å˜›ï¼Œä½†è¿™é“é¢˜ç”±äºiæœ€å¤§ä¸º1e9ï¼Œæ‰€ä»¥éœ€è¦hashæˆ–è€…mapï¼Œå¹³å¸¸çš„mapæ˜¯map[i]=kï¼Œç„¶åå†æ‹‰ä¸ªç»“æ„ä½“æ•°ç»„å­˜æ•°åˆ—niå’Œxï¼Œ\n\nï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\nè¿™é‡Œæœ‰ä¸ªç®€å•æ–¹æ³•å°±æ˜¯ç›´æ¥å°†iæ˜ å°„ä¸ºpair,pairå­˜çš„å°±æ˜¯niå’Œxï¼Œä¸¾ä¸€åä¸‰æˆ‘ä»¬ä»¥åä¹Ÿå¯ä»¥å°†i mapåˆ°ä¸€ä¸ªç»“æ„ä½“\næ³¨æ„ä¸‹è¿™é‡Œçš„mapçš„èµ‹å€¼æ“ä½œï¼šmp[sum]=make_pair(i,j);ï¼Œç»“æ„ä½“çš„è¯ç›´æ¥=å·èµ‹å€¼å°±å¯ä»¥äº†ã€‚\nï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼\n  </code></pre>\n</details>\n\n## æ€»ç»“\n\nåšäº†ä¸‰ä¸ªç­¾åˆ°é¢˜ï¼Œå…¶ä½™å…¨é é˜Ÿå‹å¸¦é£ï¼Œæ•°å­¦å¤§ä½¬hlyï¼Œå›¾è®ºå¤§ä½¬lyã€‚è¿™æ¬¡æ¯”èµ›ä½“éªŒè‰¯å¥½ï¼Œè·Ÿé˜Ÿå‹é…åˆçš„éƒ½æŒºå¥½çš„ã€‚åˆšå¥½æˆ‘ä»¬çœ‹çš„é¢˜ï¼Œéƒ½æ˜¯è‡ªå·±æ“…é•¿çš„(æ»‘ç¨½\n  è¿˜æœ‰**ä»£ç èƒ½åŠ›æœ‰å¾…åŠ å¼ºï¼Œä¸»è¦æ˜¯ç»†èŠ‚é”™è¯¯æŒºå¤šï¼Œå†™ä¸ªå°ºå–éƒ½è¦waã€‚ã€‚ã€‚**\n\n\n# 2021.9.5 çº¿æ®µæ ‘ä¸“é¢˜æµ‹è¯•\næœ‰äº›é¢˜èƒ½æ¨¡æ‹Ÿï¼Œä½†æ˜¯çº¯æ¨¡æ‹Ÿä¼šå¾ˆéº»çƒ¦ï¼Œç»†èŠ‚å¾ˆå¤šï¼ŒåŸºæœ¬å†™ä¸äº†ï¼Œè€Œä¸”å…³é”®è‡ªå·±å†™ç€å†™ç€ä¼šæŠŠè‡ªå·±å¿ƒæ€å†™ç‚¸ã€‚ä¸ºé¿å…è¿™ç§æ¨¡æ‹Ÿé¢˜å†™åˆ°ä¸€åŠå‘ç°å†™ä¸äº†çš„å°´å°¬æƒ…å†µï¼Œåº”è¯¥æå‰æƒ³å¥½å¤§è‡´æ€è·¯ï¼Œç¡®å®šèƒ½å†™åœ¨å†™ã€‚\n\n# 2021.9.10 2021ç¬¬åä¸€å±Šå±±ä¸œçœå¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›\n[æ¯”èµ›](https://ac.nowcoder.com/acm/contest/15600#question)\nå’³å’³ï¼Œè’Ÿè’»ï¼Œå…¨é hlyå¤§ä½¬å¸¦é£\nè¿‡äº†5é“ï¼ŒCDGHM  ä¸€é˜Ÿè¿‡äº†7é“ï¼Œå‰©ä¸‹çš„ä¸¤é“æœ‰æœºä¼šå‡ºçš„ï¼Œè¯´æ˜è¿æ°”å¥½ï¼ŒæŠŠä¼šåšçš„éƒ½åšäº†è¿˜æ˜¯èƒ½æ‹¿é‡‘çš„ã€‚\nFé¢˜å­—ç¬¦ä¸²æ€è·¯æƒ³åˆ°äº†ï¼Œå¯æƒœæ²¡æœ‰ç å‡ºæ¥ã€‚\nBé¢˜æƒ³å¤æ‚äº†ï¼Œä¸€çœ‹è¦ç®—n*nä¸ªgcdï¼Œå°±ä»¥ä¸ºæ˜¯è‡ªå·±æ²¡å­¦è¿‡çš„çŸ¥è¯†ï¼Œä¸æ•¢ä¸‹ç¬”äº†ï¼Œä»¥åä¸è¦æ€•ï¼è‡³å°‘è¦åˆ†æä¸€æ³¢ï¼Œåˆ†æä¸å‡ºæ¥å°±ç®—äº†ï¼Œä¸èƒ½åˆ†æéƒ½ä¸åˆ†æå°±æ”¾å¼ƒã€‚\nå› ä¸ºè¿™é“é¢˜nå¾ˆå¤§çš„æ—¶å€™ï¼Œæ˜¯æœ‰ç‰¹æ®Šæƒ…å†µï¼Œå¯ä»¥ç›´æ¥è¾“å‡ºçš„ã€‚ã€‚ã€‚\n\n## æ€ç»´é¢˜å¯è¿˜è¡Œ\n[C Cat Virus](https://ac.nowcoder.com/acm/contest/15600/C)\né¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œé»‘ç™½æŸ“è‰²æ–¹æ¡ˆï¼Œæ»¡è¶³ä¸€ä¸ªé»‘ç‚¹çš„å­æ ‘éƒ½æ˜¯é»‘ç‚¹ï¼Œç™½ç‚¹ä»»æ„ã€‚ä½ ç°åœ¨æ„é€ ä¸€æ£µæ ‘ï¼Œä½¿å¾—å®ƒçš„æŸ“è‰²æ–¹æ¡ˆæ•°ä¸ºK(1<=k<=1e18)\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \næ€æƒ³ï¼šæŒ‰hlyçš„æ€è·¯ï¼Œé¦–å…ˆæ˜¯æƒ³åˆ°ä¸€æ¡é“¾ï¼Œç„¶åè¿™æ¡é“¾é•¿åº¦ä¸ºnï¼Œæ–¹æ¡ˆæ•°å°±æ˜¯n+1ï¼Œä½†ä¸è¿‡Kå¤ªå¤§ï¼Œè¾“å‡ºä¼šè¶…é™ã€‚\nç„¶åæƒ³åˆ°ä»¥1ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå…¶ä¸‹æœ‰nä¸ª**å­æ ‘**ï¼Œå¤§ä½¬çš„æƒ³æ³•å°±æ˜¯ä¸ä¸€æ ·ï¼Œç›´æ¥å­æ ‘ï¼Œç»Ÿä¸€å¤„ç†ã€‚\nç„¶åè¿™nä¸ªå­æ ‘ï¼Œæ¯ä¸ªå­æ ‘çš„æ¶‚è‰²æ–¹æ¡ˆä¸ºai,é‚£ä¹ˆæ•´æ£µæ ‘çš„æ–¹æ¡ˆå°±ä¸ºa1åˆ°ançš„ä¹˜ç§¯+1ã€‚\næŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹ä»¥1ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå‰©ä½™æ–¹æ¡ˆæ•°ä¸ºk-1ï¼Œå¦‚æœk-1%2==0ï¼Œåˆ™åœ¨1ä¸‹å¢åŠ ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå¦‚æœæ–¹æ¡ˆæ•°ki%2ä»==0ï¼Œåˆ™ç»§ç»­åœ¨1ä¸‹å¢åŠ å­èŠ‚ç‚¹ï¼Œ\nå½“é‡åˆ°å¥‡æ•°æ—¶ï¼Œæˆ‘ä»¬åˆ™æƒ³åˆ°ä¸€å¼€å§‹çš„k-1ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä»¥è¿™ä¸ªå­ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹ï¼Œå¼€ä¸€ä¸ªæ–°æ ‘ï¼Œé€’æ¨å³å¯ã€‚\n  </code></pre>\n</details>\n\n\nDGç­¾åˆ°é¢˜ï¼ŒHäºŒç»´èƒŒåŒ…ï¼Œè¡¨ç¤ºä¸ä¼šã€‚ã€‚\n\n## æ€ç»´é¢˜æœ‰ç‚¹æ„æ€ \n[M \tMatrix Problem](https://ac.nowcoder.com/acm/contest/15600/M)\né¢˜æ„ï¼šç»™å®š0/1çŸ©é˜µCï¼Œnè¡Œmåˆ—ï¼Œ(n,m<500)æ„é€ ä¸¤ä¸ªçŸ©é˜µA,B,è¦æ±‚A,Bå„è‡ªçš„1éƒ½äº’ç›¸è¿é€šï¼Œå¹¶ä¸”å¯¹äºCä¸­æ‰€æœ‰ä½ç½®ï¼Œè‹¥æ˜¯1ï¼Œåˆ™A,Bå¯¹åº”ä½ç½®å¿…é¡»éƒ½æ˜¯1,å¦åˆ™ï¼ŒAä¸º0åˆ™Bä¸º1ï¼ŒBä¸º0åˆ™Aä¸º1ã€‚ä¿è¯Cé˜µçš„è¾¹æ¡†éƒ½æ˜¯0ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \næ€è·¯ï¼šè¿™ç§æ„é€ Aï¼ŒBçŸ©é˜µè¾“å‡ºçš„é¢˜ï¼Œä¸€èˆ¬æ˜¯æŒ‰è§„å¾‹æ„é€ çš„ï¼Œå‡ ä¹ä¸å¯èƒ½æƒ³ç€æ¨¡æ‹Ÿå»æ„é€ ï¼Œå¤ªéº»çƒ¦ï¼Œæ¯”å¦‚æœ¬é¢˜ã€‚\næ³¨æ„åˆ°è¿™ä¸ªä¿è¯è¾¹æ¡†éƒ½æ˜¯0æ²¡ï¼Œå¯ä»¥ä»è¿™é‡Œåšæ–‡ç« ï¼ŒæŠŠAæœ€å·¦è¾¹ä¸€åˆ—æ˜¯1ï¼ŒBæœ€å³è¾¹ä¸€åˆ—æ˜¯1ï¼Œç„¶åè¡Œåˆ†å¥‡å¶å…¨æŸ“æˆ1ã€‚\n  </code></pre>\n</details>\n\n## æœ€å°ç”Ÿæˆæ ‘+GCDå¯è¿˜è¡Œ\n[B Build Roads](https://ac.nowcoder.com/acm/contest/15600/B)\né¢˜æ„ï¼šç»™å®šä¸€ä¸ªn<2e5ä¸ªç‚¹çš„æ— å‘å®Œå…¨å›¾ï¼Œiå’Œjä¹‹å‰çš„è¾¹æƒæ˜¯gcd(ai,aj),æ•°ç»„aièŒƒå›´åœ¨[l,r]<2e5,ä¿è¯æ•°ç»„aéšæœº,æ±‚MSTã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \næ€è·¯ï¼šè€ƒè™‘ç´ æ•°åˆ†å¸ƒï¼Œ int èŒƒå›´å†…ä¸¤ä¸ªç´ æ•°ä¹‹é—´çš„æœ€å¤§é—´è·ä¸åˆ°å‡ ç™¾ï¼Œï¼ˆç®—äº†ä¸€ä¸‹ï¼Œæ˜¯282ï¼Œ1e9èŒƒå›´å†…ç´ æ•°50847534ä¸ªï¼‰è€Œå¦‚æœéšå‡ºæ¥çš„æ•°ç»„é‡Œæœ‰ç´ æ•°ç­”æ¡ˆå°±æ˜¯n-1\näº†ï¼Œæ‰€ä»¥[l,r]æˆ–nèŒƒå›´å¾ˆå¤§æ—¶ç­”æ¡ˆå°±æ˜¯n-1,ä½†æ³¨æ„å¦‚æœ[l,r]èŒƒå›´å¾ˆå¤§nå¾ˆå°ï¼Œé‚£ä¹ˆå°±å¾—gcd(a1....an)ä¹˜(n-1)ã€‚èŒƒå›´å¾ˆå°çš„æ—¶å€™æš´åŠ›ä¸€ä¸‹å°±è¡Œäº†ã€‚è¿˜éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹l==rçš„æƒ…å†µã€‚\n\n  </code></pre>\n</details>\n\n# 2021.9.12 æ’ä½èµ›\nåˆæ˜¯çˆ†0çš„ä¸€å¤©å‘¢\n\n## DFS BFSå‚»å‚»åˆ†ä¸æ¸…\n[C Brexit](http://codeforces.com/gym/101490/attachments)\né¢˜æ„ï¼šç»™ä¸€ä¸ªn<1e5ä¸ªç‚¹ï¼Œm<1e5æ¡è¾¹çš„æ— å‘å›¾ï¼Œåˆ å»å…¶ä¸­æŸä¸ªç‚¹ï¼Œå¦‚æœå‰©ä½™çš„ç‚¹ä¸­ï¼Œåˆ å»çš„è¾¹æ•°*2>=åˆå§‹æœ‰çš„è¾¹æ•°ï¼Œåˆ™åˆ å»è¿™ä¸ªç‚¹ï¼Œå¦‚æ­¤è¿ç¯ååº”ï¼Œé—®æœ€ç»ˆxç‚¹æ˜¯å¦ä¼šè¢«åˆ å»ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \næ€è·¯ï¼šä¸€å¼€å§‹æƒ³ç€å†™dfsï¼Œå› ä¸ºdfsç®€å•äº›ï¼Œç„¶åå°±dfså“‡äº†néï¼Œæ”¹æˆbfsä¸€éè¿‡äº†ã€‚ç©¶å…¶æ ¹æœ¬åŸå› æ˜¯dfsçš„æœç´¢æ–¹å¼ä¸è¿™é“é¢˜ä¸ç¬¦ï¼Œæ‰€ä»¥è¿™é“é¢˜ç”¨dfsæ˜¯å‡ºä¸äº†çš„ã€‚è¿™é“é¢˜å¾ˆæ˜æ˜¾æ˜¯å¾—ç”¨bfsæœçš„ã€‚\n  </code></pre>\n</details>\n\n## Dijskraå¥½é¢˜\n[E Charles in Charge](http://codeforces.com/gym/101490/attachments)\né¢˜æ„ï¼š1e5çº§åˆ«çš„å›¾ï¼Œæ±‚ä»aç‚¹åˆ°bç‚¹çš„æ‰€æœ‰ä¸å¤§äºlçš„è·¯ä¸­ï¼Œæ¯æ¡è·¯çš„æœ€å¤§è¾¹é•¿çš„æœ€å°å€¼ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \næ€è·¯ï¼šå¾ˆæ˜æ˜¾ç›´æ¥dfsæœä¼šè¶…æ—¶ï¼Œæ­£ç¡®åšæ³•äºŒåˆ†è¾¹é•¿ï¼Œå¯¹äºäºŒåˆ†çš„è¾¹é•¿midï¼Œå°†è¾¹é•¿å°äºmidçš„è¾¹æ¥å»ºå›¾ã€‚\n  </code></pre>\n</details>\n\n# 2021 ICPC ç½‘èµ› ç¬¬äºŒåœº\n\nLé¢˜æ€è·¯æƒ³åˆ°äº†ï¼Œå¯æƒœæœ€ååªæœ‰åŠä¸ªå°æ—¶æ¥ç ä»£ç ï¼ŒåŠ ä¸Šä¸ç†Ÿï¼Œä¸ç„¶èƒ½å‡ºğŸ˜‚\n\n## æ€ç»´é¢˜\n\né¢˜æ„\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-20-20-42.png)\n\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\næ€è·¯ï¼šå°±æ­£å¸¸çš„äºŒè¿›åˆ¶æŒ‰ä½åŠ æ³•ï¼Œç„¶ååˆ†ç±»è®¨è®ºä¸‹ä¸åŒç¬¦å·ä½å¯¹åº”çš„æœ¬ä½å’Œè¿›ä½æƒ…å†µã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-27 19:05:00\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e2+11;\nll a[maxn],b[maxn],s[maxn],ans[maxn];\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll n;cin>>n;\n    for(ll i=1;i<=n;i++)  cin>>s[i];\n    for(ll i=1;i<=n;i++)  cin>>a[i];\n    for(ll i=1;i<=n;i++)  cin>>b[i];\n    for(ll i=1;i<=n;i++){\n        ll x=ans[i]+a[i]*s[i]+b[i]*s[i];\n        if(s[i]==1){\n            if(x==-1){\n                ans[i+1]=-1;\n                ans[i]=1;\n            }\n            else{\n                ans[i+1]=x/2;\n                ans[i]=x%2;\n            }\n        }\n        else{\n            if(x==1){\n                ans[i+1]=1;\n                ans[i]=1;\n            }\n            else{\n                ans[i+1]=x/2;\n                ans[i]=-1*x%2;\n            }\n        }\n    }\n    for(ll i=1;i<=n;i++){\n        if(i==n)  cout<<ans[i];\n        else  cout<<ans[i]<<\" \";\n    }\n    return 0;\n}\n\n```\n\n\n## Segment Tree beats ç»´æŠ¤ä¸€ä¸ªæ•°åˆ—\né¢˜æ„\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-20-22-39.png)\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-20-22-49.png)\n\nè¿™é‡Œå¯¹äº100ä»¥å†…çš„25ä¸ªè´¨æ•°çš„ç»´æŠ¤ï¼Œå¯ä»¥çŠ¶æ€å‹ç¼©ï¼Œå³ç”¨ä¸€ä¸ªintçš„ä¸€ä½äºŒè¿›åˆ¶è¡¨ç¤ºæ”¹è´¨æ•°æ˜¯å¦å­˜åœ¨ã€‚ä¹Ÿå°±æ˜¯å†æ‹‰ä¸ªçº¿æ®µæ ‘ç»´æŠ¤25ä¸ªè´¨æ•°ã€‚\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define Debug(x)  cout<<#x<<\": \"<<x<<endl;\n#define lson l,m,now<<1\n#define rson m+1,r,now<<1|1\ntypedef long long ll;\nconst ll maxn=1e5+11;\nconst ll mo=998244353;\nll t[maxn<<2],rr[maxn<<2],x[maxn],lazy[maxn<<2],ar[111];\nll tmp;\nll is(ll x){\n    for(ll i=2;i*i<=x;i++)  if(x%i==0)  return 0;\n    return 1;\n}\nvoid init(){\n    tmp=0;\n    for(ll i=2;i<=100;i++){\n        if(is(i))  ar[tmp++]=i;\n    }\n}\nll fy(ll x){//è®¡ç®—xçš„æ¬§æ‹‰å€¼\n    ll ans=x;\n    for(ll i=0;i<25;i++){\n        if(x%ar[i]==0){\n            ans=ans*(ar[i]-1)/ar[i];\n        }\n    }\n    return ans;\n}\nll wei(ll x){\n    ll ans=0;\n    for(ll i=0;i<25;i++){\n        if(x%ar[i]==0){\n            ans=ans|(1<<i);\n        }\n    }\n    return ans;\n}\nvoid push_up(ll now){\n    t[now]=(t[now<<1]+t[now<<1|1])%mo;\n    rr[now]=rr[now<<1]&rr[now<<1|1];\n}\nvoid push_down(ll l,ll r,ll now){\n    if(lazy[now]>1){\n        t[now<<1]=t[now<<1]*lazy[now]%mo;\n        lazy[now<<1]=lazy[now<<1]*lazy[now]%mo;\n        t[now<<1|1]=t[now<<1|1]*lazy[now]%mo;\n        lazy[now<<1|1]=lazy[now<<1|1]*lazy[now]%mo;\n        lazy[now]=1;\n    }\n}\nvoid build(ll l,ll r,ll now){\n    lazy[now]=1;\n    if(l==r){\n        t[now]=fy(x[l]);rr[now]=wei(x[l]);\n        return ;\n    }\n    ll m=l+((r-l)>>1);\n    build(lson);build(rson);\n    push_up(now);\n}\nvoid update(ll L,ll R,ll w,ll val,ll l,ll r,ll now){\n    if(L<=l && r<=R && (rr[now]&val)==val){\n        t[now]=t[now]*w%mo;lazy[now]=lazy[now]*w%mo;\n        return ;\n    }\n    if(l==r){\n        t[now]=t[now]*w;\n        for(ll i=0;i<25;i++){\n            if(((rr[now]>>i)&1)==0 && ((val>>i)&1)==1){\n                t[now]=t[now]*(ar[i]-1)/ar[i];\n            }\n        }\n        t[now]=t[now]%mo;\n        rr[now]=rr[now]|val;  \n        return ;\n    }\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    if(L<=m)  update(L,R,w,val,lson);\n    if(R>m)  update(L,R,w,val,rson);\n    push_up(now);\n}\nll getsum(ll L,ll R,ll l,ll r,ll now){\n    if(L<=l && r<=R)  return t[now];\n    ll m=l+((r-l)>>1);\n    push_down(l,r,now);\n    ll sum=0;\n    if(L<=m)  sum=getsum(L,R,lson)%mo;\n    if(R>m)  sum=(sum+getsum(L,R,rson))%mo;\n    return sum;\n}\nint main(){\n    init();\n    ll n,m;cin>>n>>m;\n    for(ll i=1;i<=n;i++)  cin>>x[i];\n    build(1,n,1);\n    for(ll i=1;i<=m;i++){\n        ll op,l,r,w;\n        cin>>op;\n        if(op==0){\n            cin>>l>>r>>w;\n            if(w==1)  continue;\n            update(l,r,w,wei(w),1,n,1);\n        }\n        if(op==1){\n            cin>>l>>r;\n            cout<<getsum(l,r,1,n,1)<<endl;\n        }\n    }\n    return 0;\n}\n\n```\n\n# 2021.9.26æ’ä½èµ›\n\nJé¢˜æœ€å10å‡ minåšå‡ºæ¥äº†ï¼Œè€Œä¸”æ˜¯å‹ç€æ—¶é™è¿‡çš„ï¼ŒçœŸæ˜¯åˆºæ¿€ã€‚\n\n## æ€ç»´é¢˜(easy-medium)\n\n[Elegant Construction HDU - 5813](https://vjudge.net/problem/HDU-5813);\n\né¢˜æ„ï¼šç»™ä¸€ä¸ªæœ‰å‘å›¾ï¼Œn<1e3ä¸ªç‚¹ï¼Œæ¥ä¸‹æ¥nä¸ªæ•°è¡¨ç¤ºä¸ç¬¬iä¸ªç‚¹ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„ç‚¹çš„ä¸ªæ•°ã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-27-23-52-05.png)\n\n  </code></pre>\n</details>\n\n## æ¨¡æ‹Ÿ-æ€ç»´(easy-medium)\n\n[https://acm.hdu.edu.cn/showproblem.php?pid=5818](https://vjudge.net/problem/HDU-5818)\n\nè§£é¢˜æ€è·¯æŒºå¤šçš„ï¼š\n\n1ã€æ ‡è§£ï¼š\n\n![](/uploads/ACMæ¯”èµ›åˆ’æ°´è®°å½•/2021-09-28-00-05-22.png)\n\n2.å¯å‘å¼åˆå¹¶\n\nåˆå¹¶çš„æ—¶å€™éƒ½æ˜¯é€‰æ‹©å°†å°çš„æ ˆåˆå¹¶åˆ°å¤§çš„\n\n3ã€æŒ‡é’ˆå‰é©±\n\n[è½¬è½½](https://blog.csdn.net/queuelovestack/article/details/52164782)\n\n# 2021.10.17æ’ä½èµ›\n\nCé¢˜é¢˜ç›®è€é•¿äº†ï¼Œå®šä¹‰äº†ä¸€å †å˜é‡ï¼Œç»“æœå…¨æ˜¯çƒŸé›¾å¼¹ï¼ŒçœŸæ­£æœ‰ç”¨çš„è¯å°±ä¸€å¥ï¼Œæ™•æ™•\nä¸‹æ¬¡ä¸è¦å†è¢«é•¿é¢˜é¢å“åˆ°äº†\n\n# 2021.10.18 æ’ä½èµ› 2020ICPCä¸Šæµ·ç«™\n\n1.Bé¢˜æ˜¯ä¸ªæ€ç»´æ„é€ é¢˜ï¼Œæ²¡æƒ³åˆ°\n\n2.Dé¢˜æœ‰ä¸¤ç§åšæ³•\n\n1.äºŒåˆ†\n\nå¯ä»¥äºŒåˆ†æ—¶é—´ï¼Œä¹Ÿå¯ä»¥äºŒåˆ†è·¯ç¨‹ã€‚\n\n2.åˆ†ç±»è®¨è®º\n\nä¸è¿‡è¿™ä¸ªåˆ†ç±»è®¨è®ºæŒºå¤æ‚çš„ï¼ŒæƒŠè®¶äºè¿™ä¹ˆå¤æ‚çš„åˆ†ç±»è®¨è®ºï¼Œæˆ‘ä»¬å½“æ—¶å±…ç„¶è¿‡äº†ï¼ï¼ï¼\nçœŸçš„æ˜¯ååˆ†Amazingï¼Œä¸»è¦å¾—ç›Šäºå½“æ—¶åˆ†ç±»è®¨è®ºçš„æ€è·¯æ¸…æ™°ï¼Œçœ‹æ¥åªè¦æ€è·¯æ¸…æ™°ï¼Œå•¥é¢˜éƒ½èƒ½åšå‡ºæ¥\nè€Œä¸”ä¸€é“é¢˜ç›®çœŸçš„æœ‰å¤šç§è§£æ³•ï¼Œæ¯”å¦‚è¿™é“é¢˜ã€‚\n\n\n\n\n\n\n\n","tags":["æ¯”èµ›"]},{"title":"2015ICPCWorldFinal","url":"/2021/08/28/2015ICPCWorldFinal/","content":"\nThe best of the best of the best\nä¸€åœºå®Œç¾çš„å½’æ¥ï¼Œæ›´æ˜¯ä¸€åœºæ— åŒçš„è°¢å¹•ã€‚\n\n<!--more--> \n[è½¬è½½](https://www.cnblogs.com/chxer/p/4524716.html)\nWorld Finalé¢˜ç›®è¿æ¥ï¼šhttp://icpc.baylor.edu/worldfinals/problems/icpc2015.pdf \n\nå»ºè®®ï¼šå¯ä»¥å€’åºé˜…è¯»æ¥è·å¾—æœ€ç›´è§‚çš„èµ›åœºä½“éªŒã€‚ã€‚ã€‚\n\n \n\n2:12 æ„Ÿæƒ³ï¼šã€‚ã€‚ã€‚ã€‚\n\nç¬¬ä¸€æ¬¡çœ‹äº†ACM WFçš„å…¨è¿‡ç¨‹ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ¿€åŠ¨çš„å‘¢ã€‚\n\nå…¶å®ï¼Œç®—æ³•ã€ç¨‹åºçœŸçš„æ˜¯ä¸€ç§å¿ƒçµçš„ä¼‘æ†©ï¼Œåªè¦ä¹åœ¨å…¶ä¸­ï¼Œç»™äººç”Ÿå¢æ·»ä¸€ç‚¹å…‰å½©ï¼Œé‚£å°±å¤Ÿäº†ã€‚\n\n                                                            \n\n \n\n2:00 World Final Campionï¼ITMOï¼Touristï¼The First In The History!\n\n\n\n\n\n\n\n\n\n\n\n1:55 å’³å’³ï¼Œæ­¤å¤„è¦ç©ºä¸€ä¸‹ï¼Œé…é…¿ä¸€ä¸‹æ°”æ°›ï¼ï¼ï¼ï¼ï¼\n\n1:54 è«æ–¯ç§‘å¤§å­¦ç¬¬äºŒã€‚ã€‚ã€‚ç¥è´ºã€‚ã€‚ã€‚\n\n\n\n1:51 ä¸œäº¬å¤§å­¦ç¬¬ä¸‰ã€‚ã€‚ã€‚ç¥è´ºã€‚ã€‚ã€‚\n\n\n\n1:46 æ¸…åçš„Lç«Ÿç„¶Waäº†ï¼ŸçœŸæ²¡æƒ³åˆ°ã€‚ã€‚ã€‚ä¸è¿‡é‡‘ç‰Œå¾ˆå¥½äº†\n\n\n\n1:44 çœŸç†äº†ï¼š\n\n\n\n1:43 æˆ‘ä¸æ•¢ç›¸ä¿¡æ€ä¹ˆè¿˜ä¸‰åƒå¤šä¸ªäººå‘¢ã€‚ã€‚ã€‚\n\n\n\n1:42 åŒ—å¤§ç¬¬äº”å‘œå‘œå‘œã€‚ã€‚ã€‚ã€‚\n\n1:37 ä¸Šæµ·äº¤å¤§ï¼Œå”‰ã€‚ã€‚ã€‚å»å¹´å‰å§å¸¦ç€è¿˜æ˜¯ç¬¬äºŒåå‘¢ã€‚ã€‚ã€‚\n\n1:21 åœ£å½¼å¾—å›½ç«‹å¤§å­¦æ€ä¹ˆäº†è¿™æ˜¯ã€‚ã€‚ã€‚\n\n1:14 æµ™å¤§è¿‡å»äº†ï¼Œæµ™å¤§ä¸‹ä¸€å±Šä¸€å®šåŠ æ²¹å•Šï¼\n\n1:12 éæ´²å† å†›æ’­æŠ¥å®Œæ¯•ï¼Œæ¸…ååŠ æ²¹ï¼è¿˜æœ‰ä¸€å°ä¼šï¼ï¼ï¼æ¸…åä¸€å®šæ‹¿é‡‘å•Šï¼ï¼ï¼ï¼\n\n1:05 å¼€å§‹æ­æ¦œï¼è¢«â€œThe second is yes and they move up!â€æ´—è„‘äº†ã€‚ã€‚ã€‚\n\n\n\n0:57 è¦æ­äº†ï¼\n\n0:54 è€å¤´æ•´ç†äº†ä¸€éä»¥å‰çš„å† å†›ï¼ˆæ¯æ¬¡éƒ½è¦å¹²å•Š= =ï¼‰\n\n0:52 é‚£ä¸ªè€å¤´è¿˜æ²¡è¯´å®Œ= = touristä½ç€å¤´è‚¯å®šåœ¨hackå‘¢= =\n\n0:43 å‘äº†FBçš„å¥–:\n\nAé¢˜FBï¼šåŒ—äº¬å¤§å­¦\n\nCé¢˜FBï¼šæ¸…åå¤§å­¦\n\nè€Œä¸”ã€‚ã€‚ã€‚ä¼¼ä¹åªæ˜¯å‘äº†ä¸€ä¸ªåŒ—äº¬å¤§å­¦ä½œä¸ºä»£è¡¨= =\n\n0:30 æ³°å›½è€å…„è®²è¯ï¼Œä¸‹ä¸€å±Šåœ¨æ³°å›½ï¼CLJå“­äº†= =\n\n0:29 è€çˆ·çˆ·å¥½èŒï¼\n\n\n\n0:26 å¼€å§‹è®²è¯äº†ã€‚ã€‚ã€‚æˆ‘è¦ç¡è§‰ã€‚ã€‚ã€‚\n\n0:13 è§‚ä¼—ç»ˆäºå…¥åº§ï¼Œé—­å¹•å¼å¼€å§‹ã€‚\n\n0:09 æ­£å¼å¼€å§‹ï¼ï¼ï¼\n\n0:02 ç„¶è€Œï¼Œç›´æ’­é—´ä»ç„¶æœ‰7000å·¦å³ä¸ªäººå› ä¸ºå¤§å®¶å®åœ¨æ˜¯å¤ªæƒ³çœ‹å‰å§åƒé”®ç›˜äº†ï¼ï¼ï¼\n\n0:01 æ¦œè¿˜æ²¡æœ‰æ­ï¼ï¼ï¼è¿˜åœ¨æ’­å¹¿å‘Šï¼\n\n0:00 æ‰€æœ‰äººéƒ½åœ¨åæ§½è¿™ä¸ªçŸ­ç‰‡å·²ç»çœ‹äº†ä¸‰éäº†QAQ\n\n23:51 å¤§å®¶ï¼šè¿™æ®µå¹¿å‘Šä¼¼ä¹æ”¾è¿‡ä¸€éäº†ï¼Ÿ= =æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆè§‰å¾—çš„ã€‚ã€‚ã€‚\n\n23:47 è¿˜æ˜¯åœ¨æ’­å¹¿å‘Šï¼æ˜¯ä¸æ˜¯touristçœŸçš„å»hackäº†ã€‚ã€‚ã€‚\n\n23:42 å‰å§æœæ–­ä¹°äº†é”®ç›˜ã€‚ã€‚ã€‚\n\n23:39 è¿˜æœ‰å¹¿å‘ŠQAQ\n\n23:37 é¢å¥–å…¸ç¤¼å¼€å§‹\n\n23:33 ç„¶è€Œtouristè¿˜ä¸æ»¡è¶³ï¼šâ€œæˆ‘è¿˜è¦hackä½ ä»¬åˆ«æ‹¦æˆ‘ï¼â€= =\n\n23:32 å¤§å®¶çº·çº·è®©å‰å§åƒpopoQQQå¤§ç¥ï¼ŒQå¤§ç¥å¾ˆè¿·èŒ«çš„èµ°å…¥é•œå¤´ã€‚ã€‚ã€‚\n\n23:31 æ¦œè¿˜æ²¡æœ‰æ­ã€‚ã€‚ã€‚\n\n23:29 ä»Šå¤©æ˜¯ç¬¬ä¸€ä¸ªWFçš„AKä¹‹æ—¥ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªé€€å½¹é˜Ÿå‘˜çš„åƒé”®ç›˜ä¹‹æ—¥\n\n23:28 å¤§å®¶çº·çº·å®‰æ…°CLJï¼šæ˜å¹´å»15é¢˜AKè¶…è¿‡touristå¥½äº†ã€‚ã€‚ã€‚\n\n23:27 å¿«å‡†å¤‡å¥½é¢å¥–ä»ªå¼ï¼\n\n23:18 mayurä¼ æ¥å‡†ç¡®æ¶ˆæ¯ï¼Œtourist AKäº†ï¼ï¼ï¼\n\n\n\n23:15 æ²¡æœ‰äººæ•°æ¸…æ¥šå› ä¸ºå¾ˆæ˜æ˜¾ç»™Pæ‰äº†ï¼ä½†æ˜¯ç°åœºæœ‰äººè¯´å·²ç»AKäº†\n\n23:13 æœ‰ç›´æ’­äº†ï¼Œå¤§å®¶å¼€å§‹æ•°æ°”çƒäº†ã€‚ã€‚ã€‚\n\n23:12 æ¦œå·²æ›´ï¼Œè¿˜æœ‰20åˆ†é’Ÿæ­æ¦œå¤§å®¶ä¼‘æ¯ä¸€ä¼š= =\n\n23:11 è¿˜æœ‰ä¸‰åˆ†é’Ÿå¼€æ¦œ\n\n23:10 å‡†å¤‡é¢å¥–ä»ªå¼\n\n23:09 å‡†å¤‡ç»“æŸ\n\n23:07 å„ç§æ¶ˆæ¯ç§°ï¼štouristçœŸçš„AKäº†ï¼Œå²ä¸Šç¬¬ä¸€ä½WF AKçš„ç¥çŠ‡ï¼š\n\n\n\nç°åœ¨ç›´æ’­é—´æ»¡å±çš„â€œå‰å§åƒé”®ç›˜â€ï¼š\n\n\n\n\n\n23:03 CLJè¯´touristAKäº†\n\næ¯”èµ›ç»“æŸï¼Œæœ€åçš„æ¦œï¼š\n\n\n\n23:00 æ¯”èµ›ç»“æŸã€‚\n\n22:58 petrè¢«é‡‡è®¿äº†ã€‚ã€‚ã€‚çœ‹æ¥æ˜¯è¦é˜»æ­¢å…¶ç»§ç»­å‘Twitter\n\n22:57 CLJå¿«å¸®æˆ‘ä»¬çœ‹çœ‹ITMOè·³èµ·æ¥æ²¡æœ‰ï¼ï¼ï¼ï¼\n\n22:55 å¤©å“ªï¼ï¼ï¼touristäº¤Käº†ï¼ï¼ï¼äº¤Käº†ï¼ï¼ï¼äº¤Käº†ï¼ï¼ï¼äº¤Käº†ï¼ï¼ï¼äº¤Käº†ï¼ï¼ï¼\n\n22:54 petrçš„Ké¢˜å›¾è®ºé¢˜çš„é¢˜è§£å‘äº†ï¼Œæ˜¯æ¡¥ç¥é©¬çš„\n\n22:52 æ¸…åå¤§å­¦äº¤äº†ä¸¤å‘Bï¼Œä¸çŸ¥é“æ€ä¹ˆæ ·\n\n22:50 æœ€æ–°æ¶ˆæ¯ï¼ŒåŒ—äº¬å¤§å­¦ç¬¬ä¸ƒï¼Œæ¸…åå¤§å­¦ç¬¬å››ï¼Œä¸œå¤§ç¬¬ä¸‰ï¼Œè«æ–¯ç§‘ç¬¬äºŒï¼ŒITMOå‡†å¤‡AK\n\n22:47 æ¯”èµ›ç°åœºå·²ç»ä¸é€æ°”çƒäº†ï¼Œæœ€åçš„20åˆ†é’ŸtouriståŠ æ²¹å•Šï¼\n\n22:46 åŒ—å¤§æ¸…åå¹¶æ²¡æœ‰ä»€ä¹ˆè¡ŒåŠ¨ï¼Œç°åœ¨å½¢æˆäº†6æ ¡æŠ—æ—¥çš„è”åˆå±€é¢ã€‚\n\n22:45 ä¸œå¤§åˆäº¤äº†ä¸€å‘Bï¼Œä¼°è®¡Waäº†ï¼Ÿ\n\n22:44 touristå¼€å§‹Käº†ï¼Œç»æ€å•ŠåŠ æ²¹\n\n22:43 å‡ºé¢˜äººæ­£åœ¨åˆ†æé¢˜ç›®éš¾åº¦ï¼Œç­¾åˆ°é¢˜æœæ–­å…¨éƒ½easy\n\n22:41 ä¸œå¤§çš„Bé¢˜Waäº†ã€‚ã€‚ã€‚\n\n22:36 petrè¯´touristè¿‡äº†Bäº†ï¼Œç°åœ¨è«æ–¯ç§‘å¿…é¡»AKæ‰å¯èƒ½æ‹¿åˆ°ç¬¬ä¸€åã€‚\n\n22:34 æœ‰ä¼ è¨€è¯´touristå·²ç»AKäº†æ­£åœ¨ç¡è§‰= =\n\n22:33 è«æ–¯ç§‘è¿‡Mäº†ï¼ï¼ï¼è·Ÿtouristæ‰“å¹³ï¼ˆæˆ‘ä»¬ä¸€ç›´åœ¨è¯´touristè€Œä¸æ˜¯ITMOã€‚ã€‚ã€‚ï¼‰\n\n22:32 ä¸œå¤§åœ¨é—®è£åˆ¤é—®é¢˜ï¼Œtouriståˆæ‰“äº†ä¸ªå“ˆæ¬ ç»§ç»­ç ã€‚ã€‚ã€‚\n\n22:28 è«æ–¯ç§‘åœ¨å†™M\n\n22:27 petrè¯´ITMOæ­£åœ¨æ”»Bé¢˜è®¡ç®—å‡ ä½•ã€‚ã€‚ã€‚è«æ–¯ç§‘ç¬‘äº†\n\n22:25 petræ­£åœ¨æ¨ç‰¹ä¸Šç›´æ’­æƒ…å†µã€‚ã€‚ã€‚\n\n22:21 æ ¹æ®ç°åœºé€‰æ‰‹è¡¨æƒ…å¯ä»¥çœ‹å‡ºtouristå’Œä¸œå¤§éƒ½è¿‡äº†ï¼Œtouristè¿˜å·®2é“ï¼Œä¸œå¤§è½åä¸€é“ã€‚\n\n22:19 touristäº¤äº†Gï¼Œä¸œå¤§äº¤äº†Kã€‚\n\n22:15 ä¸Šæµ·äº¤å¤§é€†è¢­ï¼Œå°æ¦œåä¸€ä¸‹å­äº¤äº†ä¸‰é“é¢˜æˆ‘å»ï¼Œï¼Œï¼Œè¿™æ˜¯è¦è¿›é‡‘å•Šã€‚ã€‚ã€‚\n\n22:07 å°æ¦œï¼Œç°åœ¨å±€é¢æ˜¯æ¸…ååŒ—å¤§æŠ¢é‡‘ç‰Œï¼Œtouristçœ‹çœ‹æ€ä¹ˆAK\n\n22:06 åŒ—å¤§è¿‡äº†Eï¼ŒæŠŠæ¸…åè¸©åœ¨è„šåº•äº†ã€‚ã€‚ã€‚\n\n22:04 å°æ¦œå‰çš„å†²åˆºï¼Œè«æ–¯ç§‘è¿˜æ˜¯å”¯ä¸€ä¸€ä¸ªè¿‡è®¡ç®—å‡ ä½•çš„é˜Ÿä¼ã€‚\n\n21:57 åŠ åˆ©ç¦å°¼äºšWaäº†Mé¢˜ï¼Œæ¸…åæœ‰æˆã€‚\n\n21:55 é™ˆä¸½æ´åœ¨åœºå¤–ä¼¤å¿ƒæ­»äº†ã€‚ã€‚ã€‚\n\n21:53 æ¸…åå†äº¤ï¼ŒAï¼ï¼ï¼æ¸…åç°åœ¨ç¬¬å››ï¼\n\n21:52 æ¸…åçš„Mè·ªäº†\n\n21:51 è¿˜æœ‰ååˆ†é’Ÿå°æ¦œã€‚touristï¼šå°æ¦œä¹‹æ—¶ï¼ŒAKä¹‹æ—¥ã€‚\n\n21:44 å¤§å®¶çº·çº·è®®è®ºæ¸…ååŒ—å¤§æ˜¯å±¯äº†å¤šå°‘é¢˜= =\n\n21:39 touristè¿˜å·®æœ€åä¸€é“é¢˜æ²¡æœ‰å±¯å®Œã€‚ã€‚ã€‚â€œæˆ‘å±¯å®Œäº†å•Šè®©æˆ‘ç¡ä¸€ä¼šï¼Œå¸®æˆ‘ç›¯ç€ä¸œå¤§ä»€ä¹ˆæ—¶å€™åšå®Œå’±çš„ä¸€åŠã€‚ã€‚ã€‚â€\n\n21:33 ä¸œå¤§çš„Mé¢˜Waäº†Nå‘ï¼ŒITMOç¡®å®šå¤ºå† äº†ã€‚ã€‚ã€‚\n\n21:27 ç°åœ¨å½¢åŠ¿ï¼šITMOåé¢˜ï¼›ä¸œå¤§ï¼Œè«æ–¯ç§‘ä¹é¢˜ï¼›æ¸…ååŒ—å¤§åŠ åˆ©ç¦å°¼äºšå…«é¢˜ä½†åŠ åˆ©ç¦å°¼äºšæ˜¯ç¬¬å››ï¼\n\n21:25 touristå£å‹ï¼šâ€œçœ‹æˆ‘AKâ€ã€‚ã€‚ã€‚\n\n21:22 æŠ—æ—¥å¥‡ä¾ touristä»¥æœ€é«˜åˆ†è¿‡EæŠŠä¸œå¤§èµ¶ä¸‹å°äº†= =\n\n21:20 åŒ—å¤§è¢«åŠ åˆ©ç¦å°¼äºšæ’µå‡ºäº†é‡‘ç‰Œçº¿ã€‚ã€‚ã€‚\n\n21:06 å¤©å“ªä¸œå¤§è¿‡Eäº†ï¼ï¼ï¼ä¸œå¤§ç¬¬ä¸€äº†ï¼ï¼ï¼touristçªç„¶èµ·èº«å•Šã€‚ã€‚ã€‚\n\n21:05 è«æ–¯ç§‘è¿‡Bäº†ï¼ï¼ï¼touristçš„FBè¢«æŠ¢èµ°äº†ï¼ï¼ï¼\n\n20:58 æ¸…ååŒ—å¤§å…«é¢˜ACæ’4,5\n\n20:56 touristè·Ÿé˜Ÿå‹è®¨è®ºæ˜¯ä¸æ˜¯ç°åœ¨AKè¿˜æ˜¯ç­‰ä¸€ä¼šç»™å…¶ä»–å­¦æ ¡ä¸€ç‚¹é¢å­ã€‚ã€‚ã€‚\n\n20:53 touristç¢¾å‹ä¹é¢˜ï¼Œç«™èµ·æ¥ç¬‘äº†ç¬‘ã€‚ã€‚ã€‚\n\n20:38 Cé¢˜ç­¾åˆ°å®Œæ¯•ã€‚touristè¿‡äº†Mçš„æ ·ä¾‹äº†ï¼Œæ·¡å®šçš„æ‰“äº†ä¸ªå“ˆæ¬ ã€‚ã€‚ã€‚\n\n20:35 åŒ—å¤§æ¢æè¶…ä¸Šå»ç äº†ã€‚\n\n20:34 ITMOäº¤äº†Mï¼å¯æƒœWaçš„å¥½æƒ¨ï¼›touristè¿˜ä¸åšL ç›¸ä¿¡è‡ªå·±äº”åˆ†é’Ÿèƒ½1Aã€‚ã€‚ã€‚\n\n20:31 ä¸œå¤§ç¬¬å…«é¢˜Waäº†ã€‚ã€‚ã€‚\n\n20:30 ä¸œå¤§å…«é¢˜äº†ã€‚ã€‚ã€‚å‡ºé¢˜äººå…¬å¸ƒEé¢˜äº†ï¼Œç«Ÿç„¶æ˜¯DPï¼ï¼ï¼\n\n20:29 æ¸…åä¸ƒé¢˜1Aï¼Œtouristå¼€å§‹ç äº†ã€‚ã€‚ã€‚\n\n20:22 touristå¼€å§‹è™åœºäº†ï¼ŒITMOåˆ·æ‰8é¢˜ï¼Œtouristçš„é˜Ÿå‹éƒ½å¼€å§‹ç¡è§‰äº†ï¼\n\n20:20 åŒ—å¤§ä¸ƒé¢˜ç¬¬ä¸‰ï¼ŒåŒæ—¶Aé¢˜ç­¾åˆ°å®Œæ¯•\n\n20:05 å‰å§è¯´å»å¹´ä»–é‚£å±Šé¢˜å¤šä¹ˆå¤šä¹ˆéš¾ï¼Œä»Šå¹´é¢˜å¤šä¹ˆå¤šä¹ˆç®€å•= = VFKå¾ˆçœ‹å¥½åæœŸçš„ä¸Šæµ·äº¤å¤§ã€‚ã€‚ã€‚ã€‚\n\n20:04 ä¸œå¤§ä¸ƒé¢˜åˆ°æ‰‹ï¼Œé‡‘ç‰Œç¨³äº†ã€‚ã€‚ã€‚\n\n20:02 ç›´æ’­åƒå¤–å–çš„å‰å§è¡¨ç¤ºå¯¹é¢˜ç›®å…¨æ˜¯åƒçš„æ„Ÿè§‰å¼‚å¸¸æ„¤æ€’ï¼ŒåŒæ—¶å¤§å‘¼è¿™æ¬¡ä»–åº”è¯¥ä¸Šã€‚ã€‚ã€‚ç åŠ›åè¶³å•Šï¼\n\n19:52 å‘½é¢˜äººè®²è§£Cï¼Œæœç„¶è€ƒçš„MCMFï¼ï¼ï¼ \n\n19:46 æ¸…åä¸»ä»£ç æ‰‹å¼€å§‹æ‰“å­—äº†= = \n\n19:36 ä¸œå¤§é€†å¤©ï¼Œç¬¬å…­é¢˜1Aï¼Œï¼ˆæ¯•ç«Ÿè®¡ç®—å‡ ä½•ä¸œå¤§å¤ªå¼ºäº†ï¼ï¼ï¼ï¼‰ \n\n19:32 æ¸…åä¸œå¤§æ‰æ‰æ‰ï¼Œå‰å§è¯´Lé¢˜å¯ä»¥ç”¨å“ˆå¤«æ›¼æ ‘æã€‚ \n\n19:20 åŒ—å¤§æ¸…åå¤æ—¦æ’åä¸‰å››äº”ï¼Œä¸œäº¬å¤§å­¦ç¬¬ä¸€225ï¼Œè«æ–¯ç§‘ç¬¬äºŒ261ï¼ŒBè¿˜æ˜¯æ²¡æœ‰å­¦æ ¡è¿‡æ®è¯´å‡ºéš¾äº†ã€‚ \n\n19:17 åœ£å½¼å¾—å ¡å››é¢˜åˆ°æ‰‹ï¼Œæ¸…åå‡åˆ°ç¬¬å›› \n\n19:10 ç°åœ¨åŒ—äº¬å¤§å­¦ä¸‰é¢˜ç¬¬ä¸€ï¼Œæ—¥æœ¬å¤§å­¦éšåï¼Œæ¸…åå¤§å­¦ä¸€ç›´åœ¨waCé¢˜ï¼Œæ’13 ","tags":["ACMæœ‰ç‚¹æ„æ€"]},{"title":"å€å¢","url":"/2021/08/26/å€å¢/","content":"\nå€å¢ï¼ŸäºŒåˆ†ï¼Ÿé€’å½’ï¼Ÿé€’æ¨ï¼\n\n<!--more--> \n\n# é¢˜å•\n- [ ] CodeForces - 359D  (-[x]æ‰“é’©æ–¹æ³•)\n\n# å€å¢æ³•\næœ¬è´¨ï¼šå¾ä»¥ä¸ºå€å¢æ³•æœ¬è´¨å°±æ˜¯å°†äºŒåˆ†çš„è¿‡ç¨‹å­˜äº†ä¸‹æ¥ï¼ŒäºŒåˆ†æœ¬æ¥æ˜¯ä¸ªé€’å½’çš„è¿‡ç¨‹å˜›ï¼Œå€å¢æ³•å°±æ˜¯å°†å…¶å˜æˆé€’æ¨äº†ã€‚æ¯”å¦‚äºŒåˆ†å¯ä»¥å°†å…¶åˆ’ä¸ºä¸¤ä¸ªå­é—®é¢˜æ±‚è§£ï¼Œè¿™ä¸¤ä¸ªå­é—®é¢˜å¯ä»¥æ˜¯é‡å¤æ€§è´¡çŒ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸é‡å¤æ€§è´¡çŒ®çš„ï¼Œç„¶åå†ç”¨é€’æ¨å¼å°†å…¶æ±‚å‡ºæ¥ã€‚æ›´è¯¦ç»†çš„ç†è§£å¯ä»¥è§ä¾‹é¢˜\nå€å¢æ³•æœ¬èº«çš„å¤æ‚åº¦æ˜¯O(n*logn)çš„ï¼Œç„¶åå¯ä»¥O(1)çš„æŸ¥è¯¢ï¼Œæ‰€ä»¥å€å¢æ³•é€‚ç”¨äºå¤šæ¬¡è¯¢é—®çš„æƒ…å†µï¼Œå¦‚æœåªæœ‰1æ¬¡è¯¢é—®çš„è¯ï¼Œå°±æ²¡å¿…è¦å€å¢äº†ï¼Œç›´æ¥ç®—å°±è¡Œäº†ã€‚ä½†å€å¢æœ¬èº«å¤æ‚åº¦ä¹Ÿä¸é«˜ï¼ŒO(n*logn)ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è§£å†³1æ¬¡è¯¢é—®æƒ…å†µï¼Œä¸è¿‡å°±æ˜¯æœ‰äº›å¤§æå°ç”¨äº†ã€‚\n\n\n\n## STè¡¨\næ¨¡æ¿\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll maxn=1e5+11;\nll n,ans[maxn*10],st[maxn][17];//2çš„17æ¬¡æ–¹æ¯”1e5å¤§ä¸€ç‚¹\n//æ±‚åŒºé—´æœ€å¤§å€¼\nvoid init(){//stè¡¨åˆå§‹åŒ–\n    for(ll j=1;(1<<j)<=n;j++)\n        for(ll i=1;i+(1<<j)-1<=n;i++)\n            st[i][j]=max(st[i][j-1],st[i+(1<<j-1)][j-1]);\n//åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é—®é¢˜æ±‚è§£ï¼Œè¿™ä¸¤ä¸ªå­é—®é¢˜æ˜¯å¯é‡å¤æ€§è´¡çŒ®çš„\n}\nll query(ll l,ll r){//åŒºé—´[l,r],æ³¨æ„æ˜¯é—­åŒºé—´ï¼Œè¿”å›åŒºé—´[l,r]çš„æœ€å¤§å€¼\n    ll k=0;while(l+(1<<k+1)-1<r)k++;\n    return max(st[l][k],st[r-(1<<k)+1][k]);//ä¸ç›´æ¥æ‰¾ä¸€ä¸ªå¤§åŒºé—´è¦†ç›–è€Œæ˜¯è¦æ‰¾ä¸¤ä¸ªå°åŒºé—´åˆå¹¶æ˜¯å› ä¸ºå¤§åŒºé—´å¯èƒ½è¶…è¿‡äº†stè¡¨çš„é•¿åº¦\n}\n```\n### STè¡¨-äºŒç»´RMQ\n[STè¡¨-äºŒç»´RMQ](https://blog.csdn.net/qq_42569807/article/details/89408623)\n## LCA-æœ€è¿‘å…¬å…±ç¥–å…ˆ\n[P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰](https://www.luogu.com.cn/problem/P3379)\næ¨¡æ¿\nè¿™ä¸ªæ¨¡æ¿æ³¨æ„ä¸‹dfsé‡Œé¢faåˆå§‹åŒ–çš„é—®é¢˜ï¼Œè¦ä¹ˆç›´æ¥è®¾ç½®ä¸ºå¸¸æ•°ï¼Œè¦ä¹ˆå°±æ”¹ä¸ºi<=lg2[d[now]-1],ç„¶åå†åœ¨lcaå‡½æ•°çš„ifæ”¹æˆif (fa[x][k] != fa[y][k] && k <= lg2[d[x] - 1])  \n```cpp\n/*** \n * @Practice Win\n * æ´›è°· P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰\n */\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\ntypedef long long ll;\nconst ll maxn=5e5+11;\nstruct Edge{\n\tll to,next;\n}edge[maxn*2];//edgeçš„è¾¹æ•°è¦ä¹˜2\nll head[maxn],d[maxn],fa[maxn][22],lg2[maxn],tmp=1;\n//d[i]æ˜¯ç»“ç‚¹içš„æ·±åº¦ï¼Œfa[i][j]è¡¨ç¤ºiçš„ç¬¬2çš„jæ¬¡æ–¹çˆ¶ç»“ç‚¹ï¼Œlg2[i]æ˜¯log2(i)å–æ•´æ•°\nvoid add(ll u,ll v){\n\tedge[tmp].to=v;\n\tedge[tmp].next=head[u];\n\thead[u]=tmp++;\n}\nvoid dfs(ll now,ll far){//é¢„å¤„ç†dä¸faæ•°ç»„\n\tfa[now][0]=far,d[now]=d[far]+1;\n\tfor(ll i=1;i<=20;i++)  fa[now][i]=fa[fa[now][i-1]][i-1];//è¿™ä¸ªå¸¸æ•°20å¯¹åº”çš„æ˜¯1e6!!!!!!!!!!\n\t//ä¸ç”¨d[now]æ˜¯å› ä¸ºå¤šæ ·ä¾‹æ ¹èŠ‚ç‚¹ä¸åŒçš„æ—¶å€™ï¼Œå› ä¸ºåœ¨lcaé‚£ä¸ªifé‡Œé¢kå¯èƒ½ä¼šæ¯”è¾ƒå¤§ï¼Œç„¶åæŒ‡å‘ä¸ä¸€æ ·\n\tfor(ll i=head[now];i;i=edge[i].next){\n\t\tif(edge[i].to!=far)   dfs(edge[i].to,now);//è¿™é‡Œè®°å¾—åŠ ä¸ªæ¡ä»¶ï¼Œä¸èƒ½åˆ°çˆ¶èŠ‚ç‚¹\n\t}\n}\nll lca(ll x,ll y){//è¾“å…¥ä¸¤ä¸ªç»“ç‚¹ç¼–å·ï¼Œxä¸yï¼Œè¿”å›xå’Œyçš„lca\n\tif(d[x]<d[y])  swap(x,y);\n\twhile(d[x]>d[y])  x=fa[x][lg2[d[x]-d[y]]];//è¿™é‡Œè¦whileï¼Œå› ä¸ºè¿™é‡Œçš„lg2ä¸æ˜¯ç²¾ç¡®å€¼\n\t//è¿™é‡Œreæ‰¾äº†æˆ‘å¥½ä¹…é”™è¯¯ï¼ï¼ï¼åŸæ¥ä¸æ˜¯æ•°ç»„å¼€å¤ªå¤§äº†ï¼Œä¹Ÿä¸æ˜¯æ•°ç»„å¼€å¤ªå°äº†ï¼Œæ˜¯æ•°ç»„é‡Œçš„ç»“æœæœ‰è´Ÿæ•°ï¼ï¼ï¼\n\tif(x==y)  return x;\n\tfor(ll k=lg2[d[x]-1];k>=0;k--){\n\t\tif(fa[x][k]!=fa[y][k]){//æ‰¾åˆ°lcaçš„ä¸‹ä¸€å±‚\n\t\t\tx=fa[x][k],y=fa[y][k];\n\t\t}\n\t}\n\treturn fa[x][0];\n}\nvoid init(){\n\tfor(ll i=2;i<maxn;i++)  lg2[i]=lg2[i/2]+1;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\tll n,m,s;  cin>>n>>m>>s;//nä¸ª ç»“ç‚¹,mæ¬¡è¯¢é—®ï¼Œä»¥sä¸ºæ ¹èŠ‚ç‚¹\n\tinit();\n\tfor(ll i=1,u,v;i<=n-1;i++){\n\t\tcin>>u>>v;  add(u,v);add(v,u);//æ— å‘å›¾ï¼ï¼ï¼\n\t}\n\tdfs(s,0);\n\tfor(ll i=1,u,v;i<=m;i++){\n\t\tcin>>u>>v;  cout<<lca(u,v)<<endl;\n\t}\n    return 0;\n}\n\n\n```\n## RMQçµæ´»è¿ç”¨ï¼Œæ±‚åŒºé—´æœ€å¸¸å‡ºç°æ•°å­—çš„æ•°é‡\n[Frequent values POJ - 3368](https://vjudge.net/problem/POJ-3368)\né¢˜æ„ï¼šç»™ä¸€ä¸ªæ•°åˆ—nï¼Œnæ˜¯éé€’å‡åºåˆ—ï¼Œæœ‰é‡å¤æ•°å­—ã€‚æœ‰qæ¬¡è¯¢é—®ï¼Œn,q<1e5ï¼Œæ¯æ¬¡é—®åœ¨åŒºé—´[l,r]å†…æœ€ç»å¸¸å‡ºç°çš„æ•°å­—çš„æ•°é‡ã€‚\næ€è·¯ï¼šå°†è¿ç»­ç›¸åŒçš„æ•°å­—çœ‹æˆä¸€ä¸ªå—ï¼Œé¢„å¤„ç†å‡ºæ¯ä¸ªå—å«æœ‰çš„æ•°å­—çš„æ•°é‡ï¼Œä»¥åŠå—çš„å³åæ ‡ã€‚è¿™ä¸ªé¢„å¤„ç†å‡ºæ¥çš„å€¼å¯ä»¥å°è£…æˆç»“æ„ä½“å‡å°‘ç©ºé—´ã€‚ä¹Ÿå¯ä»¥ç›´æ¥åœ¨åŸæ•°ç»„çš„åŸºç¡€ä¸Šï¼ŒåŠ ä¸¤ä¸ªæ•°ç»„num[i]è¡¨ç¤ºiæ‰€å¤„å—å«æœ‰çš„æ•°å­—æ•°é‡ï¼Œpos[i]è¡¨ç¤ºiæ˜ å°„åˆ°stè¡¨ä¸­çš„åæ ‡ã€‚ä¸€å¼€å§‹æˆ‘æ˜¯ç”¨çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œéº»çƒ¦äº†äº›ï¼Œçœ‹äº†åˆ«äººçš„é¢˜è§£çŸ¥é“ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œç¡®å®æ–¹ä¾¿äº›ï¼Œç›´æ¥ä»¥ç©ºé—´æ¢æ—¶é—´ï¼Œåæ­£ACMç«èµ›å˜›ã€‚å¯¹äºæ¯æ¬¡æŸ¥è¯¢ï¼Œå¯ä»¥å°†ç­”æ¡ˆåˆ†æˆä¸‰éƒ¨åˆ†ï¼Œå·¦è¾¹æ®‹ä½™å—ï¼Œä¸­é—´è¿ç»­ä¸€æ•´å—ï¼Œç”¨RMQå¤„ç†ï¼Œå³è¾¹æ®‹ä½™å—ï¼Œå–ä¸‰è€…æœ€å¤§å€¼å³å¯ã€‚\nè¸©å‘ï¼š**è¿™ä¸ªæ–¹æ³•ä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼Œå°±è¦åˆ†ç±»è®¨è®º**ï¼Œä¸è¦æ€•éº»çƒ¦ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•ä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼Œé‚£å°±å¾—åˆ†ç±»è®¨è®ºï¼Œä¸ç„¶å·æ‡’çš„è¯ï¼Œæ‰¾BUGçš„æ—¶é—´ä½ çŸ¥é“çš„ï¼Œéƒ½å¤Ÿå†å†™é“é¢˜äº†ã€‚æ¯”å¦‚è¿™é‡Œå¾ˆæ˜æ˜¾ï¼Œä¸æ˜¯æ¯æ¬¡éƒ½æœ‰ä¸­é—´åŒºé—´ï¼Œå¦‚æœæ¯æ¬¡éƒ½æŒ‰æœ‰ä¸­é—´åŒºé—´æ¥ç®—ï¼Œå°±é”™äº†ã€‚å¯èƒ½l,råœ¨ä¸€ä¸ªå—å†…ï¼Œæ²¡æœ‰ä¸­é—´åŒºé—´ï¼Œl,råœ¨ä¸¤ä¸ªç›¸é‚»çš„å—ï¼Œä¹Ÿæ²¡æœ‰ä¸­é—´åŒºé—´ï¼Œå½“l,rä¸­é—´éš”ä¸€ä¸ªå—æ—¶ï¼Œæ‰æœ‰ä¸­é—´åŒºé—´ã€‚ç„¶åè¿™é‡Œåˆè®¾è®¡å·¦å³åæ ‡çš„åŠ å‡ï¼Œæ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ–¹æ³•å¤„ç†ï¼Œå¾ˆæ˜æ˜¾éœ€è¦åˆ†ç±»è®¨è®ºã€‚\n\n## LCAçµæ´»è¿ç”¨ï¼Œæ±‚æ ‘ä¸Šä¸¤ç‚¹é—´è·ç¦»\n[How far away ï¼Ÿ HDU - 2586](https://vjudge.net/problem/HDU-2586)\né¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªæ— å‘æ ‘ï¼Œæ±‚ä»»æ„ä¸¤ç‚¹é—´è·ç¦»ï¼Œå¤šæ¬¡è¯¢é—®ã€‚\næ€è·¯ï¼šç»Ÿä¸€ä»¥æŸä¸ªç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œè®°å½•æ¯ä¸ªç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»ï¼Œä¸¤ç‚¹ä¹‹é—´è·ç¦»å°±ç­‰äºlcaåˆ°ä¸¤ç‚¹çš„è·ç¦»ä¹‹å’Œã€‚\n## åŒºé—´è¦†ç›–ï¼Œå€å¢æ³•å¥½é¢˜\n[Minimal Segment Cover](https://codeforces.com/contest/1175/problem/E)\né¢˜æ„ï¼šç»™ä½ nä¸ªåŒºé—´ï¼Œæœ‰mæ¬¡è¯¢é—®ï¼Œn,m<2e5,æ¯æ¬¡è¯¢é—®åŒºé—´Aæœ€å°‘éœ€è¦å‡ ä¸ªåŒºé—´å°±èƒ½è¢«å®Œå…¨è¦†ç›–ï¼Œè‹¥ä¸å­˜åœ¨åˆ™è¾“å‡º-1ã€‚\næ€è·¯ï¼šè¿™é“é¢˜å…ˆè¦é¢„å¤„ç†ä¸€ä¸‹ï¼Œå°±å¾ˆå¥½åšäº†ï¼Œå…ˆé¢„å¤„ç†å‡ºä»¥æ¯ä¸ªç‚¹ä¸ºèµ·ç‚¹ï¼Œåªç”¨ä¸€ä¸ªåŒºé—´èƒ½åˆ°è¾¾çš„æœ€å³ç«¯ç‚¹ã€‚ç„¶åæˆ‘ä»¬å°±ä¼šæƒ³çŸ¥é“ï¼Œæ¯ä¸ªèµ·ç‚¹ç”¨2ä¸ªåŒºé—´ï¼Œ3ä¸ªåŒºé—´ï¼Œnä¸ªåŒºé—´å‘å³æœ€è¿œèƒ½åˆ°å“ªã€‚å› ä¸ºnæœ€å¤§ä¸º2e5ï¼Œæ‰€ä»¥æœ€å¤šå¯ä»¥ç”¨2e5ä¸ªåŒºé—´ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨ä¸Šå€å¢çš„æ€æƒ³äº†ï¼Œç”¨dp[i][j]è¡¨ç¤ºèµ·ç‚¹iç”¨2^jä¸ªåŒºé—´æ‰€èƒ½åˆ°è¾¾çš„æœ€å³ç«¯ç‚¹ï¼Œåˆ™dp[i][j]=dp[    dp[i][j-1]   ][j-1]ã€‚\n\n**ä»£ç æœ‰äº›ç»†èŠ‚**è¦æ³¨æ„ï¼š\n\n```cpp\nfor(ll i=1,l,r;i<=n;i++){\n    cin>>l>>r;v[l]=max(v[l],r);maxx=max(maxx,r);\n}\nfor(ll i=0;i<=maxx;i++){\n    v[i]=max(v[i-1],v[i]);\n    //å› ä¸ºv[i-1]ä¹Ÿå¯èƒ½åŒ…å«iè¿™ä¸ªç‚¹\n    dp[i][0]=v[i];\n}\nfor(ll j=1;j<=20;j++){\n    for(ll i=0;i<=maxx;i++){\n        dp[i][j]=dp[dp[i][j-1]][j-1];\n    }\n}\nfor(ll i=1,l,r;i<=m;i++){\n    cin>>l>>r;\n    ll ans=0;\n    for(ll j=20;j>=0;j--){\n        if(dp[l][j]<r){\n    //è·³åˆ°rçš„ä¸Šä¸ªç‚¹ï¼Œæ¥ä¿è¯åŒºé—´æ•°æœ€å°‘\n            ans+=(1<<j);\n            l=dp[l][j];\n        }\n    }\n    if(v[l]>=r)  cout<<ans+1<<endl;\n    else  cout<<-1<<endl;\n}\n```\n\n## æ ‘ä¸Šä¸aï¼Œbè·ç¦»ç›¸ç­‰çš„ç‚¹æœ‰å¤šå°‘ä¸ª\n[A and B and Lecture Rooms](https://codeforces.com/contest/519/problem/E)\né¢˜æ„ï¼šå¦‚é¢˜ï¼Œæœ‰å¤šæ¬¡è¯¢é—®\næ€è·¯ï¼šsize[i]å­˜ä¸‹å­æ ‘içš„è§„æ¨¡ï¼Œæ±‚å¾—lcaç‚¹ä¸‹å±‚çš„ä¸¤ä¸ªç‚¹a,bï¼Œç­”æ¡ˆå°±ä¸º\nsize[lca]-size[a]-size[b]ï¼Œç­”æ¡ˆå…·ä½“çš„åŠ å‡æ³•ä¸æ˜¯è¿™æ ·ï¼Œè¿™åªæ˜¯è¡¨è¾¾ä¸ªå¤§æ¦‚æ„æ€ã€‚\n\n## aä¸­ä¸€åŒºé—´æ˜¯å¦å­˜åœ¨å­åºåˆ—ä¸ºpçš„ä¸€ä¸ªæ’åˆ—-å€å¢å¥½é¢˜\n[Lynyrd Skynyrd](https://codeforces.com/contest/1143/problem/E)\né¢˜æ„ï¼ša,p,q<2e5ï¼Œaæ˜¯æ•°åˆ—aé•¿åº¦ï¼Œpæ˜¯æ’åˆ—pé•¿åº¦ï¼Œqæ˜¯è¯¢é—®æ¬¡æ•°ã€‚å­åºåˆ—æ˜¯æŒ‡açš„æŒ‰ç›¸å¯¹é¡ºåºæ’åˆ—çš„åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚pçš„ä¸€ä¸ªæ’åˆ—æ˜¯æŒ‡å¾ªç¯æ’åˆ—ã€‚\næ€è·¯ï¼šæ‡’å¾—å†™äº†ï¼Œçœ‹è¿™ç¯‡å§ï¼Œ**æ³¨æ„å…¶ä¸­çš„å€å¢æ€æƒ³**\n[é¢˜è§£](https://blog.csdn.net/qq_43202683/article/details/89220015)\nè§£é‡Šä¸€ä¸‹é¢˜è§£ä¸­ç¬¬äºŒä¸ª3ï¼Œå…¶å‰ç¼€æ˜¯1ï¼Œ1åœ¨aä¸­æ˜¯ç¬¬äºŒä¸ªä½ç½®ã€‚è¿™æ ·åšæ˜¯å› ä¸ºæˆ‘ä»¬è¦è´ªå¿ƒï¼Œæ‰¾aä¸­è·ç¦»Aiæœ€è¿‘çš„é‚£ä¸ªæ•°ç»„æˆæ’åˆ—ã€‚\n\n## æ ‘ä¸­açš„kçº§å­å­™æœ‰å¤šå°‘ä¸ª-äºŒåˆ†å¥½é¢˜\n[Blood Cousins](https://codeforces.com/contest/208/problem/E)\nå½“ç„¶ä¹Ÿå¯ä»¥æ ‘ä¸Šå¯å‘å¼åˆå¹¶æ¥åšï¼Œä½†æˆ‘ä¸ä¼šï¼Œä¸‹æ¬¡å†å­¦\næ€è·¯ï¼šå¯¹äºæ±‚æŸä¸ªç‚¹çš„kçº§å­å­™ï¼Œå¯ä»¥æŠŠæ ‘çš„æ¯ä¸ªç»“ç‚¹æŒ‰dfsåºç¼–å·ï¼Œè®°å½•æ¯ç§æ·±åº¦å«æœ‰çš„ç¼–å·ï¼Œè®°å½•æ¯ä¸ªç»“ç‚¹ï¼Œå…¶å­æ ‘çš„å¤´ä¸ªç¼–å·L[i]å’Œæœ€åä¸€ä¸ªç¼–å·R[i]ã€‚é‚£ä¹ˆæ±‚å…¶kçº§å­å­™ï¼Œå°†å…¶å¯¹åº”æ·±åº¦dï¼Œé‚£ä¹ˆåœ¨æ‰€æœ‰æ·±åº¦ä¸ºdçš„ç»“ç‚¹ä¸­ï¼Œå› ä¸ºå…¶ç»“ç‚¹ç¼–å·æŒ‰å‡åºæ’åºï¼Œæ‰€ä»¥å¯ä»¥äºŒåˆ†çš„æ‰¾åˆ°L[i]å’ŒR[i]çš„ä½ç½®ï¼Œä¸¤ä¸ªä½ç½®ä¹‹é—´çš„æ•°é‡å°±ä¸ºå…¶kçº§å­å­™ä¸ªæ•°ã€‚\n\n## 3â­STè¡¨-GCD-äºŒåˆ†-çº¿æ®µæ ‘æ…¢\n[Pair of Numbers](http://codeforces.com/problemset/problem/359/D)\né¢˜æ„ï¼šç»™ä¸€ä¸ªé•¿åº¦ä¸º3e5çš„æ•°åˆ—ï¼Œè®°åŒºé—´aä¸º[l,r]ï¼Œåœ¨åŒºé—´aå†…å­˜åœ¨ä¸€ä¸ªæ•°ï¼Œä½¿å¾—æ‰€æœ‰åŒºé—´aå†…çš„æ•°éƒ½èƒ½æ•´é™¤å®ƒï¼Œæ±‚æœ€é•¿çš„åŒºé—´aï¼Œè‹¥å­˜åœ¨å¤šä¸ªï¼Œåˆ™æŒ‰å·¦ç«¯ç‚¹é¡ºåºä»ä½åˆ°é«˜è¾“å‡ºã€‚\næ€è·¯ï¼š\n1.æœ´ç´ ç®€å•åšæ³•\nåŒºé—´aå†…æ‰€æœ‰æ•°éƒ½èƒ½æ•´é™¤å®ƒï¼Œé‚£å®ƒä¸€å®šæ˜¯è¿™ä¸ªåŒºé—´å†…çš„æœ€å°æ•°ã€‚å¯¹äºåŒºé—´å†…ä¸€ä¸ªæ•°a1ï¼Œæˆ‘ä»¬æ±‚å¾—ä»¥å…¶ä¸ºæœ€å°å€¼çš„æ•´é™¤åŒºé—´çš„æœ€å¤§é•¿åº¦ï¼Œ[l,r]ï¼Œä¸‹æ¬¡æšä¸¾ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»a[r+1]å¼€å§‹æšä¸¾ï¼Œå› ä¸ºå¯¹äºa1åˆ°arä¹‹é—´çš„æ•°ï¼Œä»–ä»¬çš„å·¦ç«¯ç‚¹æœ€å¤šä¸ºa1ï¼Œå³ç«¯ç‚¹æœ€å¤šä¸ºarï¼ŒåŒºé—´é•¿åº¦ä¸ä¼šæ¯”a1çš„é•¿ã€‚\n2.äºŒåˆ†-STè¡¨åšæ³•\nä¸€å¼€å§‹æƒ³ç”¨çº¿æ®µæ ‘åšï¼Œä½†æ˜¯æ²¡è€ƒè™‘gcdçš„å¤æ‚åº¦ä¹Ÿæ˜¯lognï¼Œç„¶åå°±è¶…æ—¶äº†ï¼Œå‘œå‘œå‘œã€‚ç”¨STè¡¨å°±ä¸ä¼šï¼Œå› ä¸ºSTè¡¨æŠŠæ¯æ¬¡GCDçš„å€¼ä¿å­˜äº†ä¸‹æ¥ï¼Œ**è¿™é‡Œå¯ä»¥ä»”ç»†è€ƒè™‘ä¸‹çº¿æ®µæ ‘å’ŒSTè¡¨çš„å¤æ‚åº¦å·®åˆ«ã€‚ç„¶åæˆ‘ä¸€å¼€å§‹ç”¨STè¡¨å†™ï¼Œæ˜¯æ²¡æƒ³åˆ°äºŒåˆ†é•¿åº¦lçš„ï¼Œæˆ‘æ˜¯æƒ³ç€ä¸€è¾¹å»ºè¡¨ï¼Œä¸€è¾¹updateï¼Œä½†æ˜¯è¿™æ ·å­æ¨¡æ‹Ÿå¾ˆéº»çƒ¦ï¼Œä¸å¥½å†™ä»£ç ï¼Œè™½ç„¶å¤æ‚åº¦è‚¯å®šæ¯”è¾ƒä½ï¼Œä½†æ˜¯æ²¡äºŒåˆ†æ¥çš„é€»è¾‘æ¸…æ™°ï¼Œä»£ç å¥½å†™ï¼Œå†µä¸”äºŒåˆ†çš„å¤æ‚åº¦æ˜¯å¤Ÿçš„ï¼ï¼ï¼**äºŒåˆ†çš„å…·ä½“åšæ³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å»ºä¸¤ä¸ªSTè¡¨ï¼Œä¸€ä¸ªæœ€å°å€¼çš„ï¼Œä¸€ä¸ªgcdçš„ï¼Œå¦‚æœgcd==minnï¼Œå°±æ˜¯å¯ä»¥çš„ï¼Œç„¶åäºŒåˆ†é•¿åº¦ï¼Œå¯¹äºæ¯ä¸ªé•¿åº¦ï¼Œæˆ‘ä»¬æšä¸¾nä¸ªæ•°ã€‚æ‰€ä»¥å¤æ‚åº¦æ˜¯O(n*logn)çš„ã€‚\n\n## å€å¢ï¼Œè´ªå¿ƒï¼Œè¶…æ—¶ï¼Ÿ\né¢˜ç›®å¤§æ„ï¼šç»™å‡ºä¸€æ£µåˆå§‹æ—¶åªæœ‰ä¸€ä¸ªç‚¹çš„æ ‘ï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰ä¸¤ä¸ªå€¼:ai,ci,åˆ†åˆ«ä»£è¡¨é»„é‡‘çš„ä¸ªæ•°å’Œå•ä»·ã€‚éœ€è¦æ‰§è¡Œm<3e5æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š\n1 pi ai ci  æ·»åŠ ä¸€ä¸ªæ–°ç‚¹,piä¸ºå…¶çˆ¶èŠ‚ç‚¹,ä¿è¯ci>c(pi)\n2 v w :éœ€è¦ä»ç‚¹våˆ°æ ¹èŠ‚ç‚¹çš„è¿™æ¡è·¯å¾„ä¸Šé‡‡é›†wä¸ªå•ä½çš„é»„é‡‘ï¼Œé—®å¦‚ä½•é‡‡é›†æ‰èƒ½ä½¿å¾—æ€»èŠ±è´¹æœ€å°‘\næ³¨æ„å¯¹äºæ¯æ¬¡æ“ä½œ2æ˜¯ä¼šå åŠ çš„,å³é‡‡é›†çš„é»„é‡‘ä¼šæ‹¿èµ°æ‰ï¼Œä¸‹æ¬¡èƒ½æ‹¿çš„é»„é‡‘å°±å˜å°‘äº†ï¼Œä¸”å¼ºåˆ¶åœ¨çº¿è¾“å‡ºã€‚\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\næ³¨æ„åˆ°ci>c(pi),å°±å¾ˆç®€å•äº†ï¼Œå°±è´ªå¿ƒï¼Œæ¯æ¬¡ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ‹¿å³å¯ï¼Œå…³é”®æ˜¯æ‰¾åˆ°ç¦»æ ¹èŠ‚ç‚¹æœ€è¿‘çš„éç©ºç»“ç‚¹ã€‚**ä½†æ˜¯æˆ‘å½“æ—¶æƒ³çš„æ˜¯ä¸€ä¸ªä¸€ä¸ªæ‹¿ä¼šä¸ä¼šè¶…æ—¶ï¼Œå¦‚æœçœŸè¦å¡çš„è¯ï¼Œç¡®å®èƒ½å¡æ‰ï¼Œä½†æ˜¯ï¼Œç°åœ¨ä¸€æƒ³ï¼Œè¿™æ ·çš„æ•°æ®é€ ä¸å‡ºæ¥ï¼ï¼ï¼å†è€…ï¼Œè€ƒè¯•çš„æ—¶å€™ä¹Ÿå¯ä»¥è¯•ä¸€è¯•å˜›ï¼Œä¸‡ä¸€æ•°æ®æ°´äº†å‘¢ï¼Ÿè¶…æ—¶å°±å†è¯´å˜›ï¼Œè¯•äº†è¿˜æœ‰æœºä¼šï¼Œä¸è¯•å°±è‚¯å®šæ²¡æœºä¼š**é‚£ä¹ˆç›´æ¥ç®€å•å€å¢+è´ªå¿ƒå°±å¯ä»¥äº†ã€‚\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-09-04 21:45:32\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-17 20:13:34\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=3e5+11;\nll fa[maxn][22],a[maxn],c[maxn];\nll found(ll x){\n    for(ll i=20;i>=0;i--){\n        if(a[fa[x][i]])  x=fa[x][i];\n    }\n    return x;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll q;cin>>q>>a[0]>>c[0];\n    for(ll i=1,op,vi,wi;i<=q;i++){\n        cin>>op;\n        if(op==1){\n            cin>>fa[i][0]>>a[i]>>c[i];\n            for(ll j=1;j<=20;j++)  fa[i][j]=fa[fa[i][j-1]][j-1];\n        }\n        else{\n            cin>>vi>>wi;ll ans1=0,ans2=0;\n            while(a[vi]&&wi){\n                ll fv=found(vi);\n                ll minn=min(wi,a[fv]);\n                ans1+=minn;a[fv]-=minn;wi-=minn;\n                ans2+=minn*c[fv];\n            }\n            cout<<ans1<<\" \"<<ans2<<endl;\n        }\n    }\n    return 0;\n}\n\n```\n\n  </code></pre>\n</details>\n\n## å€å¢-æ€ç»´å¥½é¢˜\n[CodeForces 1335F](https://codeforces.com/problemset/problem/1335/F)\n\n[é¢˜æ„åŠæ€è·¯è½¬è½½](https://www.cnblogs.com/suxxsfe/p/12699630.html)\n\nä¸€å¼€å§‹è‡ªå·±æƒ³çš„æ˜¯æœ‰å¤šå°‘ä¸ªå¾ªç¯èŠ‚ï¼Œå…ˆç”¨dfséå†å‡ºæœ‰å¤šå°‘ä¸ªå¾ªç¯èŠ‚ï¼Œç„¶åå†æ•°å‡ºæ‰€æœ‰å¾ªç¯èŠ‚å†…ä¸ªæ•°ï¼Œå³ä¸ºå¯æ”¾æœºå™¨äººä¸ªæ•°ã€‚ç„¶åå†æšä¸¾æ¯ä¸ªä¸º0çš„ç‚¹ï¼Œçœ‹ä»–å¯¹åº”å¾ªç¯èŠ‚çš„å“ªä¸ªä½ç½®ã€‚ã€‚ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¹ˆå†™å°±çº¯æ¨¡æ‹Ÿï¼Œè€Œä¸”å¾ˆå¤æ‚ã€‚**ç„¶åå› ä¸ºæˆ‘ä¸€ç›´æ˜¯æŒ‰ä¸€ä¸ªæ ¼å­æ¥æ€è€ƒï¼Œæ— è®ºæ€ä¹ˆæƒ³ï¼Œéƒ½ä¸ä¼šå‡ºæ­£è§£ã€‚å› ä¸ºé¢˜ç›®å¾ˆæ˜æ˜¾è¡¨ç¤ºå‡ºæ¥æ ¼å­ä¹‹é—´æ˜¯æœ‰å½±å“çš„ï¼Œä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å¦‚æœæˆ‘èƒ½å¤ŸæŒ‰ä¸¤ä¸ªæ ¼å­ä¸€èµ·èµ°æ¥æ€è€ƒï¼Œåº”è¯¥å°±ä¸éš¾æƒ³å‡ºæ¥äº†ã€‚æœ‰äº›ä¸œè¥¿æ²¡è€ƒè™‘åˆ°ï¼Œæ˜¯ä¸å¯èƒ½æƒ³å‡ºæ¥çš„ï¼Œæ¯”å¦‚è¿™é¢˜ä¸è€ƒè™‘å…¶ä»–æ ¼å­çš„å½±å“**\n\n```cpp\n\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-09-20 16:42:51\n*/\n#include<bits/stdc++.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\nconst ll maxn=1e6+11;\nll st[maxn][22],flag[maxn],cnt[maxn],d[111],n,m;\nchar grac[maxn],gras[maxn];\nvoid init(){\n    d[85]=-m;d[82]=1;d[68]=m;d[76]=-1;\n    for(ll i=1;i<=n*m;i++)  flag[i]=cnt[i]=0;\n}\nvoid out(){\n    ll ans1=0,ans2=0;\n    for(ll i=1;i<=n*m;i++){\n        if(cnt[i]>=1)  ans1++;\n        if(flag[i]==1)  ans2++;\n    }\n    cout<<ans1<<\" \"<<ans2<<endl;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    ll ca;cin>>ca;\n    while(ca--){\n        cin>>n>>m;\n        init();\n        for(ll i=1;i<=n*m;i++)  cin>>gras[i];\n        for(ll i=1;i<=n*m;i++){\n            cin>>grac[i];\n        }\n        for(ll i=1;i<=n*m;i++){\n            st[i][0]=i+d[(ll)grac[i]];\n        }\n        for(ll j=1;j<=20;j++){\n            for(ll i=1;i<=n*m;i++){\n                st[i][j]=st[st[i][j-1]][j-1];\n            }\n        }\n        for(ll i=1;i<=n*m;i++){\n            ll to=st[i][20];\n            cnt[to]++;\n            if(gras[i]=='0')  flag[to]=1;\n        }\n        out();\n    }\n    return 0;\n}\n\n\n```\n","tags":["åŸºæœ¬ç®—æ³•","æ•°æ®ç»“æ„"]},{"title":"å°ºå–","url":"/2021/08/26/å°ºå–/","content":"\næ¸¸æ ‡å¡å°ºçœŸå¥½ç©\n<!--more--> \n# å°ºå–æ³•\n## eMmmmm\n**é€‚ç”¨æ¡ä»¶**  å•è°ƒæ€§ï¼ŒåŒºé—´é•¿åº¦é€’å¢ï¼Œsumé€’å¢\nå…·ä½“æ¥è¯´ï¼šå¯¹äºåˆ¤æ–­æ¡ä»¶kï¼ŒåŒºé—´é•¿åº¦é€’å¢ï¼Œkä¹Ÿé€’å¢ã€‚\nä¾‹å¦‚åˆ¤æ–­æ¡ä»¶ä¸ºåŒºé—´å’Œsumæ—¶ï¼ŒåŒºé—´é•¿åº¦é€’å¢ï¼Œsumä¹Ÿé€’å¢ã€‚\n## ç»å…¸ä¾‹é¢˜ æœ€çŸ­å­åºåˆ—å’Œ>=s\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-3061\n**é¢˜æ„**  æ±‚ä¸€æ®µæœ€çŸ­çš„å­åºåˆ—ä¹‹å’Œ>=s\n**æ€è·¯** è·‘å°ºå–å³å¯\n**æ ¸å¿ƒä»£ç ** \n\n```cpp\nfor(int i=0;i<n;i++){\n    sum+=a[i];\n    length++;\n    if(sum<s){\n        continue;\n    }  \n    else{\n        while(sum>=s){\n            if(length<min)  min=length;\n            if(sum-a[l]<s)  break;\n            sum-=a[l];\n            l++;\n            length--;\n        }\n    }\n}\n```\n\n## çµæ´»è¿ç”¨\n**é¢˜ç›®é“¾æ¥**  https://www.cnblogs.com/iiyiyi/p/5962512.html\n**é¢˜æ„**  æ±‚ä¸€æ®µå«è´Ÿæ•°çš„å­åºåˆ—ä¹‹å’Œçš„ç»å¯¹å€¼æœ€æ¥è¿‘tï¼Œè¾“å‡ºè¯¥æ®µå­åºåˆ—ä¹‹å’ŒåŠå·¦å³ç«¯ç‚¹ã€‚\n**æ€è·¯** ä¸å¹³å¸¸å­åºåˆ—ä¹‹å’Œä¸åŒçš„ä¸€ç‚¹å°±æ˜¯å«æœ‰è´Ÿæ•°ï¼Œå¦‚ä½•å¤„ç†è´Ÿæ•°çš„é—®é¢˜æ˜¯å…³é”®ã€‚å› ä¸ºæœ‰è´Ÿæ•°ï¼Œå¯¼è‡´åºåˆ—éå•è°ƒï¼Œä¸èƒ½ä½¿ç”¨å°ºå–æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è½¬åŒ–ä¸€ä¸‹ï¼Œå…³é”®åˆæ˜¯è½¬åŒ–ï¼ï¼ï¼æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ç±»é¢˜çš„å…³é”®éƒ½æ˜¯è½¬åŒ–ä¸€ä¸‹æ•°æ®å½¢å¼ï¼ŒæŠŠæ•°æ®å¤„ç†æˆæˆ‘ä»¬èƒ½å¤„ç†çš„å½¢å¼ï¼Œå³å¯ï¼æ ¸å¿ƒæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼è¿™é‡Œæˆ‘ä»¬å°†å…¶è½¬åŒ–ä¸ºå‰ç¼€å’Œï¼Œå†å°†å‰ç¼€å’ŒæŒ‰å‡åºæ’åˆ—å³å¯è·‘å°ºå–æ³•äº†ã€‚\n\n## çµæ´»è¿ç”¨-ç»“åˆHash\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-3320\n**é¢˜æ„**  æ±‚ä¸€æ®µæœ€çŸ­åºåˆ—åŒ…å«æ‰€æœ‰çŸ¥è¯†ç‚¹ï¼ŒçŸ¥è¯†ç‚¹ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼ŒèŒƒå›´æ˜¯åˆ°2^32\n**æ€è·¯** å› ä¸ºçŸ¥è¯†ç‚¹èŒƒå›´å¾ˆå¤§ï¼Œåˆ°2^32ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†çŸ¥è¯†ç‚¹Hashä¸‹ï¼Œä¸ç„¶å­˜ä¸ä¸‹ï¼Œä¹‹åå°±æ˜¯å°†çŸ¥è¯†ç‚¹æ•°é‡ç†è§£ä¸ºå°ºå–é‡Œçš„Sumå³å¯ã€‚","tags":["åŸºæœ¬ç®—æ³•"]},{"title":"å¹¶æŸ¥é›†","url":"/2021/08/26/å¹¶æŸ¥é›†/","content":"\nè¯´ï¼ä½ è·Ÿä»–åˆ°åº•æœ‰æ²¡æœ‰å…³ç³»ï¼Ÿ\n<!--more--> \n\n# å¥½é¢˜é¢˜å•\n- [ ] [Path Queries](https://codeforces.com/problemset/problem/1213/G)\n\n# å¹¶æŸ¥é›†\n**å¹¶æŸ¥é›†çš„æœ¬è´¨æ˜¯å¯¹ä¼ é€’æ€§å…³ç³»çš„ç»´æŠ¤**\n\n## æ™®é€šå¹¶æŸ¥é›†\nåˆå§‹åŒ–\n```cpp\nvoid init(){\n    for(ll i=1;i<maxn;i++)  fa[i]=i;\n}\n```\nè·¯å¾„å‹ç¼©+æŸ¥æ‰¾\n\n```cpp\nll found(ll x){\n    return fa[x]==x? x:fa[x]=found(fa[x]);\n}\n```\nåˆå¹¶\n\n```cpp\nll fu=found(u),fv=found(v);\nfa[fu]=fv;\n```\nåŸºç¡€é¢˜ï¼š\n[å°å¸Œçš„è¿·å®«](https://vjudge.net/problem/HDU-1272)\n[Wireless Network](https://vjudge.net/problem/POJ-2236)\n\n## å¸¦æƒå¹¶æŸ¥é›†\nåšè¿™ç±»å¸¦æƒå¹¶æŸ¥é›†çš„é¢˜ç›®ï¼Œè§£å†³å¹¶æŸ¥é›†ä¸­ä¸¤ä¸¤çš„å…³ç³»æ—¶ï¼Œå¯ä»¥ç”¨**å‘é‡**çš„æ€æƒ³æ¥åšã€‚åªè¦ä¿è¯è·¯å¾„å‹ç¼©æ—¶ï¼Œa+b=cï¼Œé‚£ä¹ˆè¿™é“é¢˜å°±å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„ç”¨å‘é‡åŠ å‡æ³•æ¥å¤„ç†æƒå€¼äº†ã€‚\n \n **å…³äºæƒå€¼di[i]çš„åˆå§‹åŒ–**\n å¯¹äºæƒå€¼di[i]ï¼Œæ˜¯éœ€è¦åˆå§‹åŒ–çš„ï¼Œä¸è¿‡ä¸€èˆ¬éƒ½æ˜¯åˆå§‹åŒ–ä¸º0ï¼Œåœ¨å®šä¹‰å…¶ä¸ºå…¨å±€å˜é‡æ—¶ï¼Œå°±é»˜è®¤ä¸º0äº†ï¼Œç„¶åæœ‰æ—¶å€™å°±æ²¡å†™åœ¨ä»£ç é‡Œï¼Œä½†æ˜¯è¦åˆå§‹åŒ–çš„ã€‚\n## ç»å…¸é¢˜å‹1\n[é£Ÿç‰©é“¾](https://vjudge.net/problem/POJ-1182)\n  é¢˜æ„ aåƒbï¼Œbåƒcï¼Œcåƒaï¼Œæ±‚å‡è¯æ•°é‡\n  æ€è·¯ï¼šå¸¦æƒå¹¶æŸ¥é›†ï¼Œæ¯”å¦‚ä¸€å¥è¯åŒ…å«aå’Œbï¼Œåˆ¤æ–­aï¼Œbæ˜¯å¦åœ¨åŒä¸€å¹¶æŸ¥é›†å†…ï¼Œä¸åœ¨åˆ™åˆå¹¶ï¼Œåœ¨åˆ™åˆ¤æ–­è¿™å¥è¯æ˜¯å¦æ­£ç¡®å³å¯ã€‚å…³é”®åœ¨äºæƒå€¼çš„è®¾ç½®ï¼Œ\n  è¿™ä¸ªæƒå€¼çš„è®¾ç½®ååˆ†å·§å¦™ï¼Œ**æœ‰å‘é‡é‚£å‘³**ï¼Œä½†æˆ‘è¿˜æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆèƒ½è¿™æ ·\n  æ„Ÿè§‰è¿™ä¸ªæƒå€¼çš„è®¾ç½®æ˜¯ä¸ªå·§åˆï¼Œåˆšå¥½èƒ½è¿™ä¹ˆåšã€‚\n **è¸©å‘**ï¼šå¹¶æŸ¥é›†åˆå¹¶ä¸€å®šæ˜¯fa[fy]=fxï¼Œä¸èƒ½fa[y]=x;\n```cpp\nll found(ll x){\n    if(fa[x]==x){\n        return x;\n    }\n    else{\n        ll fx=found(fa[x]);\n        di[x]=(di[x]+di[fa[x]])%3;\n        return fa[x]=fx;\n    }\n}\n```\n## ç»å…¸é¢˜å‹2\n[How Many Answers Are Wrong](https://vjudge.net/problem/HDU-3038)\nTT å†™ä¸€ä¸²æ•°å­—ï¼Œå¯¹ FF ä¸å¯è§\nFF é€‰æ‹©ä¸€ä¸ªåŒºé—´ï¼ˆä¼šé‡å¤æ“ä½œï¼‰ï¼Œ TT æŠŠè¿™ä¸ªåŒºé—´çš„å’Œå‘Šè¯‰ FFï¼Œç„¶é¢ï¼Œä¸€äº›å’Œæ˜¯ä¸æ­£ç¡®çš„ï¼ˆå¥½ç‹ å¿ƒçš„å¥³ç”Ÿï¼‰ï¼Œæ‰€ä»¥ï¼Œæœ‰ä¸€äº›ç­”æ¡ˆæ˜¯çŸ›ç›¾çš„ï¼Œæ ¹æ®è¿™äº›çŸ›ç›¾æ±‚å‡ºç­”æ¡ˆé”™è¯¯çš„ä¸ªæ•°ã€‚\næ³¨æ„ä¸¤ç‚¹ï¼š1ã€‚TT ç»™çš„ä¸€ä¸ª å’Œ æ˜¯æ­£ç¡®çš„ï¼Œå¦‚æœå®ƒä¸ä¹‹å‰ç»™çš„ å’Œ ä¸çŸ›ç›¾ã€‚\n2ã€‚FF å‘ç°ä¸€ä¸ªä¸ä¹‹å‰çŸ›ç›¾çš„ å’Œ ä¹‹åï¼Œè¯¥ å’Œ ä¸å†å‚ä¸ä¹‹åçš„åˆ†æï¼Œç›´æ¥è¢«æŠ›å¼ƒäº†\n**æ€è·¯** å¸¦æƒå¹¶æŸ¥é›†ï¼Œæ³¨æ„åŒºé—´ç«¯ç‚¹çš„è®¾ç½®ï¼Œä¸ºäº†è¡”æ¥,å°†[3,4]å’Œ[5,6]å˜ä¸º(2,4]ã€‚å’Œ(4,6]ï¼Œè¿™æ ·å­ä¸¤è¾¹ç«¯ç‚¹æ‰èƒ½è¡”æ¥ä¸Šï¼Œæ‰ä¼šåœ¨ä¸€ä¸ªå¹¶æŸ¥é›†é‡Œã€‚\n\nåŸºç¡€é¢˜ï¼š\n[Navigation Nightmare](https://vjudge.net/problem/POJ-1984)\n\n## çµæ´»è¿ç”¨ï¼ˆå¸¦æƒå¹¶æŸ¥é›†+hashï¼‰\næœ¬é¢˜è§£å†³ï¼š\n1.hashåå¯¹å¹¶æŸ¥é›†æ˜¯å¦æœ‰å½±å“\n2.å¹¶æŸ¥é›†ä¸­å­çˆ¶ç»“ç‚¹çš„å¤§å°å…³ç³»å¯¹ç»“æœçš„å½±å“\n\n [Parity game](https://vjudge.net/problem/POJ-1733)\n**é¢˜æ„**ï¼šAæœ‰ä¸€æ®µæœ€å¤§é•¿åº¦ä¸º1e9åªå«0å’Œ1çš„åºåˆ—ï¼ŒBè¯¢é—®mæ¬¡ï¼Œm<5e3\næ¯æ¬¡è¯¢é—®[l,r]ä¹‹é—´1çš„ä¸ªæ•°ï¼ŒAä¼šå‘Šè¯‰ä»–æ˜¯å¥‡æ•°ä¸ªè¿˜æ˜¯å¶æ•°ä¸ª\nä½†æ˜¯Açš„å›ç­”å¯èƒ½æ˜¯é”™è¯¯çš„ï¼Œè¯·åˆ¤æ–­Açš„å›ç­”ä»å“ªæ¬¡å¼€å§‹çŸ›ç›¾\n\n**æ€è·¯**ï¼š\nä»¤aä¸ºå­èŠ‚ç‚¹ï¼Œbä¸ºçˆ¶èŠ‚ç‚¹\nç”¨æƒå€¼1è¡¨ç¤ºaåˆ°bå«å¥‡æ•°ä¸ª1ï¼Œç”¨æƒå€¼0è¡¨ç¤ºaåˆ°bå«å¶æ•°ä¸ª1\nè™½ç„¶Açš„é•¿åº¦å¾ˆé•¿ï¼Œæœ‰1e9ï¼Œä½†Båªè¯¢é—®mæ¬¡,m<5e3ï¼Œæ¯æ¬¡è¯¢é—®æœ€å¤šå‡ºç°ä¸¤ä¸ªæ•°å­—ï¼Œæ‰€ä»¥æœ€å¤š1e4ç§æ•°å­—\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ•°å­—é•¿åº¦ç¦»æ•£åŒ–ï¼Œæˆ‘è¿™é‡Œæ˜¯é‡‡ç”¨hashçš„æ–¹å¼ï¼Œè¿™é‡Œä¸ç”¨æ‹…å¿ƒhashåä¼šå¯¹ç¨‹åºæœ‰å½±å“\n**å› ä¸ºè¿™é‡Œhashåªæ˜¯å°†åŸæ•°å­—æ˜ å°„åˆ°å¦ä¸€ä¸ªæ•°å­—ç½¢äº†ï¼Œhash(x)ä¸xå°±ä¸ºåŒä¸€ä¸ªæ•°å­—,å®Œå…¨ä¸ä¼šæœ‰å½±å“**ï¼Œ\nè¿™é‡Œè¿›ä¸€æ­¥è¯´æ˜ï¼Œhash(x)å¯¹ç¨‹åºæ˜¯æ²¡å½±å“çš„ã€‚\næœ¬æ¥è¾“å…¥æ˜¯xå’Œyï¼Œæ˜¯xåˆ°yï¼Œxæ˜¯å°äºyçš„ï¼Œè·¯å¾„å‹ç¼©æ—¶é»˜è®¤å­èŠ‚ç‚¹æ˜¯å°äºçˆ¶ç»“ç‚¹çš„ï¼Œ\n**ä½†å­˜åœ¨ä¸€ä¸ªé—®é¢˜,hash(x)å¯èƒ½ä¼šå¤§äºhash(y)ï¼Œè¿™æ ·å­ä¼šä¸ä¼šæœ‰å½±å“å‘¢ï¼Ÿ\nç»æ£€éªŒï¼Œè¿™é‡Œx,yä¸¤è€…å¤§å°å…³ç³»ï¼Œå¯¹è¿ç®—æ— å½±å“ã€‚å› ä¸ºå¦‚æœæ˜¯x>y,é‚£ä¹ˆæˆ‘ä»¬å°†å…¶åè¿‡æ¥ï¼Œå°±ç›¸å½“äº-wäº†**ã€‚\né‚£ä¹ˆæˆ‘ä»¬çš„è¿ç®—ç»“æœè¿˜æ˜¯ä¸€æ ·çš„ï¼Œå³0+1=0-1 0+0=0-0  1+0=1-0 1+1=1-1(æ¯æ¬¡è¿ç®—è®°å¾—æ¨¡2)\n\n```cpp\n#include<stdio.h>\n#include<string.h>\n#pragma comment(linker, \"/STACK:102400000,102400000\")//è§£å†³é€’å½’å‡½æ•°å¤šæ¬¡è°ƒç”¨æ ˆæº¢å‡ºé—®é¢˜\n#define Debug(x) cout<<#x<<':'<<x<<endl\ntypedef long long ll;\n#define INF 0x7fffffff//10^9çº§åˆ«ï¼Œä¸åˆ°2^32\nconst ll maxn=1e5+11;\n\n\n#define jump 10007//å¤§æ¦‚æ¯”modå°åå€\n#define mod 100003//\nll lib[mod + 2];//lib[x]è®°å¾—åˆå§‹åŒ–ä¸ºæ•°æ®ä¸­ä¸ä¼šå‡ºç°çš„æ•°ï¼Œæ¯”å¦‚è¿™é‡Œä¸º-1\ninline ll hash1(ll x){//è¿”å›xåœ¨å“ˆå¸Œè¡¨ä¸­ä½ç½®\n    ll num = x;\n    x = (x % mod + mod) % mod;//åŒ…å«å¤„ç†xä¸ºè´Ÿæ•°æƒ…å†µ\n    while (lib[x] != -1 && lib[x] != num) x = (x + jump) % mod;\n    if (lib[x] == -1) {\n        lib[x] = num;\n    }\n    return x; \n}\n\n\nll fa[maxn],di[maxn];\nll found(ll x){\n    if(fa[x]==x){\n        return x;\n    }\n    else{\n        ll fx=found(fa[x]);\n        di[x]=(di[x]+di[fa[x]])%2;\n        return fa[x]=fx;\n    }\n}\nvoid init(){\n    memset(lib,-1,sizeof(lib));\n    for(ll i=0;i<maxn;i++)  fa[i]=i;//---------------------------ä¸º0ï¼ï¼ï¼\n}\nint main(){\n    init();\n    ll n,q;\n    scanf(\"%lld%lld\",&n,&q);\n    ll ans=q,flag=0;\n    for(ll i=1;i<=q;i++){\n        ll u,v,w;\n        char ar[11];\n        scanf(\"%lld %lld %s\",&u,&v,ar);\n        if(flag==1)  continue;\n        if(ar[0]=='e')  w=0;\n        else  w=1;\n        u-=1;\n        u=hash1(u),v=hash1(v);\n        ll fu=found(u),fv=found(v);\n        if(fu==fv){\n            if((w+di[v])%2==di[u])  ;\n            else{\n                flag=1;\n                ans=i-1;\n            }\n        }\n        else{\n                fa[fv]=fu;\n                di[fv]=(w+di[u]-di[v]+2)%2;\n        }\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n\n```\n## çµæ´»è¿ç”¨ï¼ˆè´ªå¿ƒ+å¹¶æŸ¥é›†ï¼‰\n[Supermarket ](https://vjudge.net/problem/POJ-1456)\nè¿™é‡Œå…¶å®ç”¨è´ªå¿ƒåšï¼Œå¹¶æŸ¥é›†åªæ˜¯ç”¨æ¥ä½œä¸ºå·¥å…·ï¼Œä½¿å¾—é€Ÿåº¦æ›´åŠ å¿«ã€‚\n**è¿™é“é¢˜è§£å†³**ï¼š  ç”¨å¹¶æŸ¥é›†ä»¥O(1)æ‰¾åˆ°æœ€è¿‘çš„éç©ºç‚¹\n**é¢˜æ„**æ˜¯ä¹°å–Nä»¶ä¸œè¥¿ï¼Œæ¯ä»¶ä¸œè¥¿éƒ½æœ‰ä¸ªæˆªæ­¢æ—¶é—´ï¼Œåœ¨æˆªæ­¢æ—¶é—´ä¹‹å‰ä¹°éƒ½å¯ä»¥ï¼Œè€Œæ¯ä¸ªå•ä½æ—¶é—´åªèƒ½ä¹°ä¸€ä»¶ã€‚é—®æœ€å¤§è·åˆ©ã€‚\n\n**æ€è·¯**å¦‚æœè´­ä¹°ä¸å†²çªï¼Œé‚£ä¹ˆå…¨éƒ¨ä¹°ä¸‹æ¥å°±å¯ä»¥äº†ã€‚å­˜åœ¨å†²çªï¼Œå°±éœ€è¦å–èˆã€‚æ˜¾ç„¶åœ¨å†²çªçš„æ—¶å€™æˆ‘ä»¬é€‰æ‹©ä»·æ ¼é«˜çš„æ›´ä¼˜ï¼Œå¦‚æ­¤å°±å¯ä»¥ç”¨è´ªå¿ƒçš„ç®—æ³•ã€‚å…ˆå°†ç‰©å“æŒ‰ç…§ä»·æ ¼ä»é«˜åˆ°åº•çš„é¡ºåºæ’åˆ—ï¼Œè´­ä¹°ä¸€ä¸ªå°±åœ¨æ—¶é—´ç‚¹ä¸Šåšä¸€ä¸ªæ ‡è®°ï¼Œåªè¦ä¸å†²çªå°±å¯ä»¥è´­ä¹°ã€‚ å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸å†²çªçš„æ—¶é—´ç‚¹å‘¢ï¼Œä¸ªäººæ„Ÿè§‰ä½¿ç”¨å¹¶æŸ¥é›†å¾ˆå¥½å¾—è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ç”¨å¹¶æŸ¥é›†ç»´æŠ¤å½“å‰èŠ‚ç‚¹æœ€è¿‘çš„ç©ºé—²ç‚¹å³å¯ã€‚æ¯å½“ä¸€ä¸ªä½ç½®iè¢«é€‰ä¸­å°±å°†å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ›´æ–°ä¸ºi-1ï¼ŒæŸ¥è¯¢æ—¶åªè¦çˆ¶èŠ‚ç‚¹éé›¶å°±è¯æ˜æœ‰ç©ºé—²ä½ç½®ï¼Œé€‰ä¸­æ›´æ–°è¾“å‡ºç­”æ¡ˆã€‚\n\n```cpp\n/*\n\n*/\n#include <stdio.h>\n#include <string.h>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nconst int MAXN=10010;\nint F[MAXN];\nstruct Node\n{\n    int p,d;\n}node[MAXN];\nbool cmp(Node a,Node b)//æŒ‰pä»å¤§åˆ°å°æ’åºã€‚dæ²¡æœ‰å…³ç³»\n{\n    return a.p>b.p;\n}\nint find(int x)\n{\n    if(F[x]==-1)return x;\n    return F[x]=find(F[x]);\n}\nint main()\n{\n    int n;\n    while(scanf(\"%d\",&n)==1)\n    {\n        memset(F,-1,sizeof(F));\n        for(int i=0;i<n;i++)\n          scanf(\"%d%d\",&node[i].p,&node[i].d);\n        sort(node,node+n,cmp);\n        int ans=0;\n        for(int i=0;i<n;i++)\n        {\n            int t=find(node[i].d);\n            if(t>0)\n            {\n                ans+=node[i].p;\n                F[t]=t-1;\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n```\n\n## çµæ´»è¿ç”¨ï¼ˆè¿é€šå—ï¼Œå¹¶æŸ¥é›†ï¼‰\n[path queries](https://codeforces.com/problemset/problem/1213/G)\n  é¢˜æ„ æœ‰mæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªæ•°å­—qï¼Œé—®ä»¥u,vä¸ºç«¯ç‚¹çš„è·¯å¾„çš„æœ€å¤§å€¼ä¸è¶…è¿‡qçš„uï¼Œvå¯¹æœ‰å¤šå°‘ä¸ª\n  æ€è·¯ï¼šè€ƒè¯•æ—¶æƒ³äº†å¾ˆä¹…ï¼Œç”±äºæ²¡æœ‰è€ƒè™‘è¿‡è¿é€šå—ï¼Œä¹‹å‰ä¹Ÿæ²¡ç¢°åˆ°è¿‡ã€‚ã€‚\n  å¯¼è‡´ä¸€ç›´åšä¸å‡ºæ¥ï¼Œå°±æ˜¯æ„Ÿè§‰èƒ½åšï¼Œä½†ä¸€ç›´æ²¡åšå‡ºæ¥\n  é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œå¯¹äºä¸¤ä¸ªä¸ç›¸è¿çš„è¿é€šå—ï¼Œå¦‚æœå°†ä»–ä¿©è¿èµ·æ¥ï¼Œ\n  æ˜¯éœ€è¦ä¸€æ¡è¾¹å°†è¿™ä¸¤è€…è¿èµ·æ¥çš„ï¼Œå¦‚æœè¿™æ¡è¾¹æ˜¯è¿™ä¸¤ä¸ªè¿é€šå—çš„æ‰€æœ‰è¾¹çš„æœ€å¤§å€¼,é‚£ä¹ˆä»¥è¿™æ¡è¾¹ä¸ºæœ€å¤§å€¼çš„u,vå°±æœ‰size[a]*size[b]ä¸ªã€‚\n  é‚£ä¹ˆæˆ‘ä»¬å°†æ‰€æœ‰è¾¹æŒ‰ä»å°åˆ°å¤§æ’åºï¼Œè¿™æ ·å­ä¿è¯æ–°åŠ å…¥çš„è¾¹æ˜¯ç›®å‰è¾¹çš„æœ€å¤§å€¼ï¼Œå³ä¸¤ä¸ªè¿é€šå—çš„æœ€å¤§å€¼,è¿é€šå—åˆ™ç”¨å¹¶æŸ¥é›†å¤„ç†ã€‚\n \n è´´ä¸€ä¸ªæç®€é£æ ¼çš„å¤§ä½¬ä»£ç ï¼ŒçœŸçš„æ˜¯ç»ç»å­\n [åŸå¤§ä½¬ä»£ç é“¾æ¥](https://blog.csdn.net/weixin_43826249/article/details/105979123?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162968700116780262582181%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=162968700116780262582181&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_v2~rank_v29-2-105979123.pc_v2_rank_blog_default&utm_term=path&spm=1018.2226.3001.4450)\n\n```cpp\n#pragma GCC optimize(\"-Ofast\",\"-funroll-all-loops\")\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=2e5+10;\nint n,m,res[N],ans,f[N],sz[N];\nvector<pair<int,int> > v[N];\nint find(int x){return x==f[x]?x:f[x]=find(f[x]);}\nsigned main(){\n\tcin>>n>>m;\n\tfor(int i=1,a,b,c;i<n;i++)\tscanf(\"%lld %lld %lld\",&a,&b,&c),v[c].push_back({a,b});\n//åœ¨foré‡Œé¢å°±æŠŠa,b,cç»™å®šä¹‰äº†\n//è¿™é‡Œç”¨vectorå­˜è¾¹ä¸å¾—ä¸è¯´å¾ˆå·§å¦™ï¼Œv[c]ä»£è¡¨ä»¥cä¸ºæƒå€¼çš„è¾¹é›†åˆ,\n//å†ç”¨pairå­˜è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œä¸å¾—ä¸è¯´è¿™æ•°æ®ç»“æ„è®¾è®¡å¾—ååˆ†ç‰›æ°\n\tfor(int i=1;i<=n;i++)\tf[i]=i,sz[i]=1;\n\tfor(int i=1;i<=2e5;i++){\n\t\tfor(auto j:v[i]){//è¿™ä¸ªæˆ‘ä¹Ÿè¡¨ç¤ºå­¦åˆ°äº†å­¦åˆ°äº†\n\t\t\tint x=find(j.first),y=find(j.second);\n\t\t\tans+=sz[x]*sz[y];\tf[x]=y,sz[y]+=sz[x];\n\t\t}\n\t\tres[i]=ans;\n\t}\n\tfor(int i=1,x;i<=m;i++)\tscanf(\"%lld\",&x),printf(\"%lld \",res[x]);\n\t//åœ¨foré‡Œé¢å®šä¹‰å˜é‡xï¼Œè¿™æ ·å­å°±ä¸ç”¨åœ¨scanfå‰é¢åŠ ä¸€è¡Œxçš„å®šä¹‰äº†\n\t//å­¦åˆ°äº†å­¦åˆ°äº†\n\treturn 0;\n}\n\n```\n\n## å¸¦æƒå¹¶æŸ¥é›†å¥½é¢˜\n[Jumping Monkey HDU - 7136 ](https://vjudge.net/problem/HDU-7136) \n\né¢˜æ„ï¼šä¸€ä¸ªn<1e5çš„æ ‘ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªæƒå€¼wï¼Œä»uç‚¹èƒ½èµ°åˆ°vç‚¹å½“ä¸”ä»…å½“væ˜¯uvè¿™æ¡è·¯å¾„ä¸Šçš„æœ€å¤§æƒå€¼ï¼Œæ±‚æ¯ä¸ªç‚¹å¯ä»¥åˆ°è¾¾çš„ç‚¹çš„ä¸ªæ•°ã€‚\n\n\n<details>\n  <summary>ç‚¹å‡»æŸ¥çœ‹æ€è·¯</summary>\n  <pre><code>  \n\n![](/uploads/å¹¶æŸ¥é›†/2021-10-10-21-49-43.png)\n\nä¹Ÿå¯ä»¥ç”¨å¸¦æƒå¹¶æŸ¥é›†ç»´æŠ¤è¿™ä¸ªè¿‡ç¨‹ï¼Œå½“æŒ‰ç‚¹æƒä»å°åˆ°å¤§æšä¸¾ç»“ç‚¹u,å¹¶å°†uä½œä¸ºæ‰€æœ‰ä¸uç›¸è¿çš„ï¼ˆå·²ç»æšä¸¾è¿‡çš„ï¼‰è¿é€šå—çš„æ ¹æ—¶ï¼Œ\næˆ‘ä»¬è®©fa[ fv ]=fu,d[ fv ]=1;å¹¶æŸ¥é›†åˆå¹¶æ—¶åˆ™ä½¿d[ x ]=d[ x ]+d[ fa[ x ] ],å’Œæ ‘çš„æ·±åº¦æ˜¯ä¸€ä¸ªæ„æ€ã€‚\n\n  </code></pre>\n</details>\n\n```cpp\n/*\n* @Author: Marhoosh\n* @Date:   2021-07-22 10:27:29\n* @Last Modified by:   Marhoosh\n* @Last Modified time: 2021-10-10 19:04:19\n*/\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\nusing namespace std;\n#define Debug(x) cout<<#x<<':'<<x<<endl\n#define INF 0x7fffffff\ntypedef long long ll;\ntypedef pair<ll,ll> P;\nconst ll maxn=2e5+11;\nll head[maxn],to[maxn],nex[maxn],var[maxn],d[maxn],fa[maxn];\nll tmp,n;\nP po[maxn];\nvoid add(ll u,ll v){\n    to[tmp]=v;nex[tmp]=head[u];head[u]=tmp++;\n}\nll found(ll x){\n    if(fa[x]==x){\n        return x;\n    }\n    ll t=found(fa[x]);\n    d[x]=d[x]+d[fa[x]];\n    return fa[x]=t;\n}\nint main(){\n    ll ca;scanf(\"%lld\",&ca);\n    while(ca--){\n        tmp=1;\n        scanf(\"%lld\",&n);\n        for(ll i=1;i<=n;i++){\n            head[i]=0;fa[i]=i;d[i]=0;\n        }\n        for(ll i=1;i<=n-1;i++){\n            ll u,v;scanf(\"%lld%lld\",&u,&v);\n            add(u,v);add(v,u);\n        }\n        for(ll i=1;i<=n;i++){\n            scanf(\"%lld\",&var[i]);\n            po[i]={var[i],i};\n        }\n        sort(po+1,po+1+n);\n        for(ll i=1;i<=n;i++){\n            ll u=po[i].second,w=po[i].first;\n            for(ll j=head[u];j;j=nex[j]){\n                ll v=to[j];\n                if(var[v]>w)  continue;\n                ll fu=found(u),fv=found(v);\n                fa[fv]=fu;d[fv]=1;\n            }\n        }\n        for(ll i=1;i<=n;i++){\n            found(i);\n            printf(\"%lld\\n\",d[i]+1);\n        }\n    }\n    return 0;\n}\n\n```\n","tags":["æ•°æ®ç»“æ„"]},{"title":"å•è°ƒé˜Ÿåˆ—ã€æ ˆ","url":"/2021/08/26/å•è°ƒé˜Ÿåˆ—ã€æ ˆ/","content":"\nåŒºé—´ï¼æœ€è¿‘ï¼æœ€å€¼ï¼\n<!--more--> \n\n\n# å•è°ƒé˜Ÿåˆ— å•è°ƒæ ˆ å°ºå–æ³•\n## Mmmm\n**1**å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—ä¸€èˆ¬ç”¨æ¥æ±‚æœ€è¿‘å°ï¼Œæ±‚æœ€è¿œå°ä¸èƒ½ç›´æ¥æ±‚ï¼Œå¾—ç»“åˆäºŒåˆ†\n**2**å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆåŒºåˆ«ä¸å¤§ï¼Œæˆ–è€…è¯´å•è°ƒé˜Ÿåˆ—æ˜¯åŒ…å«å•è°ƒæ ˆçš„ï¼Œå…¶ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå•è°ƒé˜Ÿåˆ—å¯ä»¥åœ¨é˜Ÿå¤´è¿›è¡Œæ“ä½œï¼Œå³å¯ä»¥åœ¨ä¸€æ®µåŒºé—´çš„å·¦è¾¹ç•Œè¿›è¡Œç›¸åº”æ“ä½œï¼Œè€Œå•è°ƒæ ˆä¸è¡Œã€‚å³å¯¹äºä¸€æ®µå­åŒºé—´æ¥è¯´ï¼Œå•è°ƒæ ˆåªèƒ½å˜åŒ–å­åŒºé—´çš„å³è¾¹ç•Œï¼Œè€Œå•è°ƒé˜Ÿåˆ—å¯ä»¥å˜åŒ–å·¦å³è¾¹ç•Œã€‚\n**3** å•è°ƒé˜Ÿåˆ—ç»´æŠ¤çš„åŒºé—´èŒƒå›´æ˜¯ã€é˜Ÿå¤´ï¼Œå½“å‰å…ƒç´ ã€‘ï¼Œä¹Ÿå°±æ˜¯è¯´å•è°ƒé˜Ÿåˆ—åªèƒ½æ§åˆ¶å½“å‰å…ƒç´ åˆ°å·¦è¾¹çš„èŒƒå›´ã€‚å¦‚æœé¢˜ç›®è¦æ±‚æ§åˆ¶å½“å‰å…ƒç´ ä¸¤ç«¯çš„èŒƒå›´ï¼Œæ¯”å¦‚-D<=x<=Dï¼Œé‚£ä¹ˆå°±å¾—è·‘ä¸¤éå•è°ƒé˜Ÿåˆ—ï¼Œä»å·¦åˆ°å³è·‘ä¸€éï¼Œå†ä»å³åˆ°å·¦è·‘ä¸€éã€‚\n## å•è°ƒé˜Ÿåˆ—\n**1**å•è°ƒé˜Ÿåˆ—ä¸»è¦ç”¨äºè§£å†³å·¦ç«¯ç‚¹å¯ç§»åŠ¨çš„åŒºé—´æœ€å€¼é—®é¢˜ã€‚\n### ç»å…¸ä¾‹é¢˜ï¼Œå›ºå®šåŒºé—´é•¿åº¦\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-2823\n**é¢˜æ„**ï¼šç»™ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ»‘åŠ¨çª—å£ï¼Œè¾“å‡ºçª—å£å†…çš„æœ€å¤§å€¼å’Œæœ€å°å€¼\n**æ€è·¯**ï¼šè·‘å•è°ƒé˜Ÿåˆ—å³å¯\n**æ ¸å¿ƒä»£ç **\n```cpp\nfor(int i=0;i<n;i++){\n        while(!dq1.empty() && i-dq1.front().x+1>k)  dq1.pop_front();\n        //ç»´æŠ¤åŒºé—´å·¦ç«¯ç‚¹\n        while(!dq1.empty() && a[i].n<dq1.back().n)  dq1.pop_back();\n        //ç»´æŠ¤åŒºé—´å³ç«¯ç‚¹\n        dq1.push_back(a[i]);\n        if(i-k>=-1)  printf(\"%d \",dq1.front());           \n    }\n```\n\n### ç»å…¸ä¾‹é¢˜ï¼ŒåŒºé—´é•¿åº¦å˜åŒ–--ç»“åˆå°ºå–\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/HDU-3530\n**é¢˜æ„**ï¼šæ‰¾ä¸€æ®µæœ€é•¿è¿ç»­å­åºåˆ—ï¼Œå…¶æœ€å¤§å€¼å‡æœ€å°å€¼çš„å·®æ»¡è¶³å·®>=mä¸”<=k\n**æ€è·¯**ï¼šä¸å›ºå®šåŒºé—´é•¿åº¦ä¸åŒçš„æ˜¯ï¼Œæ­¤åŒºé—´é•¿åº¦æ˜¯å˜åŒ–çš„ï¼Œæ•…éœ€è¦ç»“åˆå°ºå–æ³•ã€‚éœ€æ³¨æ„å°ºå–æ³•æ±‚åŒºé—´å’Œåªèƒ½åˆ¤æ–­ä¸€ä¸ªè¾¹ç•Œï¼Œè€Œæ­¤é¢˜æœ‰ä¸¤ä¸ªè¾¹ç•Œï¼Œè¦æ±‚m<=åŒºé—´å’Œ<=k,æ‰€ä»¥æˆ‘ä»¬åªå–è¾¹ç•Œkï¼ŒæŠŠ>=mä½œä¸ºæ¡ä»¶ï¼Œä»¥kä¸ºè¾¹ç•Œï¼Œåœ¨æ»¡è¶³åŒºé—´å’Œ<kçš„æƒ…å†µä¸‹ï¼Œå†åˆ¤æ–­æ˜¯å¦æ»¡è¶³>må³å¯ã€‚\n**æ ¸å¿ƒä»£ç **\n```cpp\n  for(r=0;r<n;r++){\n      DqmaxPushB(a[r]);\n      DqminPushB(a[r]);\n      length++;\n      d=dqmax.front().n-dqmin.front().n;\n      while(d>k){\n          if(!dqmax.empty() && a[l].x==dqmax.front().x)  dqmax.pop_front();\n          if(!dqmin.empty() && a[l].x==dqmin.front().x)  dqmin.pop_front();\n          l++;\n          length--;\n          if(dqmax.empty() || dqmin.empty()){\n              d=0;break;\n          }  \n          else  d=dqmax.front().n-dqmin.front().n;\n      }\n      if(d>=m)  if(length>maxl)  maxl=length;\n  }\n```\n### çµæ´»è¿ç”¨\n**é¢˜ç›®é“¾æ¥** https://www.luogu.com.cn/problem/P3088\n**é¢˜æ„**  å¦‚æœåœ¨xå·¦å³ä¸ºdçš„èŒƒå›´å†…ï¼Œæœ‰>=2*xçš„æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°xä¸ºæ‹¥æŒ¤çš„ï¼Œæ±‚ä¸€æ•°åˆ—ä¸­æ‹¥æŒ¤çš„xçš„æ•°é‡ã€‚\n**æ€è·¯**  ä¹ä¸€çœ‹ï¼Œæ±‚2*xä½œä¸ºæœ€å¤§å€¼å¯¹åº”çš„åŒºé—´ï¼Ÿå¥½åƒè·‘ä¸ªå•è°ƒæ ˆå°±å‡ºæ¥äº†ï¼Œä½†ä¸€ä¸Šæ‰‹å‘ç°ä¸è¡Œï¼Œå› ä¸ºä»–è¦æ±‚çš„æ˜¯ä¸¤å€xï¼Œè€Œæˆ‘ä»¬å•è°ƒæ ˆä¸­å¯¹åº”çš„æ˜¯æ¯ä¸ªåŸæ•°xï¼Œä¸æ˜¯2*xï¼Œæ‰€ä»¥ç”¨å•è°ƒæ ˆä¸è¡Œã€‚è¿™é“é¢˜æ˜¯æœ‰ä¸¤ä¸ªåŒºé—´ï¼Œ-då’Œdï¼Œä½†å•è°ƒé˜Ÿåˆ—åªèƒ½ç»´æŠ¤ä¸€è¾¹çš„åŒºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬è·‘ä¸¤æ¬¡å•è°ƒé˜Ÿåˆ—å°±å¯ä»¥äº†ï¼Œä»å·¦åˆ°å³ä¸€æ¬¡ï¼Œå†ä»å³åˆ°å·¦ä¸€æ¬¡ã€‚\n\n### çµæ´»è¿ç”¨ï¼Œæ±‚æœ€è¿œå°\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/CodeForces-91B\n**é¢˜æ„**  ä¸€ä¸ªæ•°åˆ—ï¼Œæ±‚æ¯ä¸ªæ•°ä¹‹å‰çš„æœ€è¿œçš„é‚£ä¸ªå°äºå®ƒçš„æ•°ä¸å®ƒä¹‹é—´æœ‰å¤šå°‘æ•°ï¼Œè‹¥æ— åˆ™è¾“å‡º-1.\n**æ€è·¯**  ä¸€èˆ¬å•è°ƒæ ˆç”¨æ¥å¤„ç†æœ€è¿‘å°ï¼Œè¿™ä¸ªæ˜¯æœ€è¿œå°ï¼Œä½†ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œâ‘ å¦‚æœå…¶>=æ ˆé¡¶ï¼Œåˆ™ä¸å…¥æ ˆï¼Œå› ä¸ºå°äºå®ƒçš„æ•°ï¼Œè‚¯å®šåœ¨å‰é¢ï¼›â‘¡å¦‚æœå…¶<æ ˆé¡¶ï¼Œåˆ™å…¥æ ˆï¼Œè¾“å‡º-1\n\n### çµæ´»è¿ç”¨ï¼Œç»“åˆå¾ªç¯å³ç§»-å€å¢\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/HDU-4193\n**é¢˜æ„**  ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°åˆ—ï¼Œå¾ªç¯å³ç§»kæ¬¡ï¼Œ1<=k<=n-1ï¼Œé—®æœ‰å¤šå°‘æ¬¡å³ç§»çš„æ‰€æœ‰å‰ié¡¹å’Œ>=0ã€‚\n**æ€è·¯** è¿™é¢˜è‡ªå·±æƒ³çš„ï¼Œç»“åˆè‡ªå·±æ•´ç†çš„è¿™ç¯‡æ–‡ç« ï¼Œç†æ¸…è„‰ç»œï¼Œå¹¶ä¸éš¾æƒ³ã€‚~~çœŸæƒ³å¤¸è‡ªå·±èªæ˜ï¼Œæ¯•ç«Ÿè¿™æ˜¯éš”äº†å¾ˆä¹…æ‰è‡ªå·±åšå‡ºæ¥ä¸€é“æœ‰æŒ‘æˆ˜æ€§çš„é¢˜ç›®äº†ï¼Œå¹³å¸¸éƒ½æ˜¯çœ‹é¢˜è§£ï¼Œç»ˆäºè‡ªå·±ä¹Ÿèªæ˜äº†ä¸€å›~~ æ‰€æœ‰å‰ié¡¹å’Œ>=0å˜›ï¼Œè½¬åŒ–ä¸‹ï¼Œå¸¸ç”¨æ•°å­¦æ€æƒ³ï¼Œå°±æ˜¯æœ€å°å€¼>=0ã€‚å¾ªç¯å³ç§»kæ¬¡ï¼Œå¯ä»¥ç”¨å€å¢æ³•ï¼Œå³å€å¢æ•°ç»„ï¼Œä¹Ÿå°±è½¬åŒ–ä¸ºåœ¨2*né•¿åº¦çš„æ•°ç»„ä¸Šï¼Œæ±‚å›ºå®šé•¿åº¦ä¸ºnçš„åŒºé—´çš„æœ€å°å€¼>=0çš„åŒºé—´æœ‰å¤šå°‘ä¸ªã€‚æ•°æ®å¤„ç†æ–¹é¢ï¼Œå¯ä»¥2*nçš„æ•°ç»„ä¸ºå‰ç¼€å’Œï¼Œæœ€å°å€¼å†å‡å»åŒºé—´å‰né¡¹å’Œå°±æ˜¯å½“å‰åŒºé—´æœ€å°å€¼äº†ã€‚å°±æ˜¯è£¸çš„å›ºå®šé•¿åº¦å•è°ƒé˜Ÿåˆ—äº†ã€‚\n## å•è°ƒæ ˆ\n### ç»å…¸ä¾‹é¢˜ï¼Œæ±‚æœ€å€¼åŠå…¶å¯¹åº”åŒºé—´\n**é¢˜ç›®é“¾æ¥**  https://vjudge.net/problem/POJ-2796\n**é¢˜æ„**ï¼šæ±‚å­åºåˆ—ä¹‹å’Œä¹˜ä»¥å­åºåˆ—çš„æœ€å°å€¼çš„æœ€å¤§å€¼\n**æ€è·¯**ï¼šå•è°ƒæ ˆç»å…¸é¢˜å‹ï¼Œæšä¸¾nä¸ªæœ€å°å€¼ï¼Œä»¥åŠå…¶å¯¹åº”åŒºé—´å’Œã€‚å•è°ƒæ ˆå…·ä½“çš„å®ç°å°±æ˜¯å¼¹æ ˆæ—¶ï¼Œå…¶å¯¹åº”çš„æ ˆä¸­ä¸Šä¸‹ä¸¤ä¸ªå€¼å³ä¸ºè¾¹ç•Œã€‚ä»£ç å¤„ç†ç»†èŠ‚ï¼ŒåŠ ä¸ªæ ˆåº•å€¼å’Œæ ˆé¡¶å€¼ï¼Œä¿è¯æ‰€æœ‰å€¼éƒ½æœ‰å·¦å³è¾¹ç•Œï¼Œä¸”éƒ½å‡ºæ ˆã€‚\n**æ ¸å¿ƒä»£ç **\n```cpp\nfor(ll i=0;i<=n+1;i++){\n    while(!st.empty() && ar[i].n<=st.top().n){\n        t=st.top().n;\n        st.pop();\n        l=st.top().x;\n        r=ar[i].x;\n        sum=Sum[r-1]-Sum[l];\n        //cout<<r<<\" \"<<l<<endl;\n        //cout<<sum<<\" \"<<t<<endl;\n        mul=sum*t;\n        if(mul>=maxmul){\n            maxmul=mul;\n            minl=l;\n            maxr=r;\n        }\n    }\n    st.push(ar[i]);\n}\n```\n### çµæ´»è¿ç”¨\n**é¢˜ç›®é“¾æ¥**  https://blog.csdn.net/zuzhiang/article/details/78136417\n**é¢˜æ„**  æ±‚ä»…ç”±0ï¼Œ1ç»„æˆçš„çŸ©é˜µä¸­ï¼Œå…¨éƒ¨ç”±1ç»„æˆçš„å­çŸ©é˜µçš„æœ€å¤§é¢ç§¯ã€‚\n**æ€è·¯** è¿™é“é¢˜éœ€è¦å…ˆé¢„å¤„ç†ä¸‹æ•°æ®ï¼Œå› ä¸ºå®ƒæ˜¯å…¨éƒ¨ç”±1ç»„æˆçš„çŸ©é˜µï¼Œæ‰€ä»¥éœ€è¦è¿ç»­çš„1ï¼Œæ•…æˆ‘ä»¬æŠŠè¿ç»­çš„1è½¬æ¢æˆé•¿åº¦è¡¨ç¤ºæœ€å¥½ï¼Œè¿™æ ·å­å°±ååˆ†ç›´è§‚ã€‚å‰©ä¸‹çš„å°±æ˜¯ä»¥æ¯è¡Œä¸ºåº•ï¼Œæ±‚ä»¥æ¯åˆ—ä¸ºå®½å¯¹åº”çš„åŒºé—´å³å¯ï¼Œå³è½¬åŒ–ä¸ºæ±‚æœ€å°å€¼åŠå¯¹åº”åŒºé—´é—®é¢˜ã€‚\n\n### çµæ´»è¿ç”¨ï¼Œç»´æŠ¤æœ€å°å€¼å•è°ƒæ ˆ\n**é¢˜ç›®é“¾æ¥**  https://darkbzoj.tk/problem/1113\n**é¢˜æ„**  è®¸å¤šä¸ªé«˜åº¦ä¸ç­‰çš„çŸ©å½¢æ’åˆ—åœ¨ä¸€èµ·ï¼Œé—®æœ€å°‘ç”¨å¤šå°‘ä¸ªçŸ©å½¢å¯ä»¥å°†å…¶å…¨éƒ¨è¦†ç›–\n**æ€è·¯** ä»€ä¹ˆæ—¶å€™èƒ½å°‘ç”¨ä¸€ä¸ªçŸ©å½¢å‘¢ï¼Œé‚£å°±æ˜¯å½“åœ¨è¿™ä¸ªçŸ©å½¢ä¹‹å‰ï¼Œæœ‰ä¸ªé«˜åº¦è·Ÿä»–ä¸€æ ·çš„çŸ©å½¢ï¼Œä¸”è¿™ä¸¤ä¸ªçŸ©å½¢ä¹‹é—´çš„é«˜åº¦éƒ½è¦é«˜äºä»–æ‰å¯ä»¥ã€‚æ•…ç»´æŠ¤ä¸€ä¸ªæœ€å°å€¼å•è°ƒæ ˆå³å¯\n**æ ¸å¿ƒä»£ç **\n\n```cpp\nfor(int i=0;i<n;i++){\n    while(!st.empty() && st.top()>h){\n        st.pop();\n    }\n    if(!st.empty() && st.top()==h)  ans--;\n    st.push(h);\n}\n```\n","tags":["æ•°æ®ç»“æ„"]}]